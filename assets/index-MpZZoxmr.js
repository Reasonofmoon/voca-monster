(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const f of a)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function o(a){const f={};return a.integrity&&(f.integrity=a.integrity),a.referrerPolicy&&(f.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?f.credentials="include":a.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(a){if(a.ep)return;a.ep=!0;const f=o(a);fetch(a.href,f)}})();function id(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var as={exports:{}},Ko={},cs={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac;function Dm(){if(Ac)return fe;Ac=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.iterator;function S(I){return I===null||typeof I!="object"?null:(I=C&&I[C]||I["@@iterator"],typeof I=="function"?I:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,P={};function D(I,L,le){this.props=I,this.context=L,this.refs=P,this.updater=le||A}D.prototype.isReactComponent={},D.prototype.setState=function(I,L){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,L,"setState")},D.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function q(){}q.prototype=D.prototype;function $(I,L,le){this.props=I,this.context=L,this.refs=P,this.updater=le||A}var H=$.prototype=new q;H.constructor=$,N(H,D.prototype),H.isPureReactComponent=!0;var J=Array.isArray,O=Object.prototype.hasOwnProperty,oe={current:null},ie={key:!0,ref:!0,__self:!0,__source:!0};function he(I,L,le){var se,de={},me=null,Se=null;if(L!=null)for(se in L.ref!==void 0&&(Se=L.ref),L.key!==void 0&&(me=""+L.key),L)O.call(L,se)&&!ie.hasOwnProperty(se)&&(de[se]=L[se]);var ve=arguments.length-2;if(ve===1)de.children=le;else if(1<ve){for(var b=Array(ve),pe=0;pe<ve;pe++)b[pe]=arguments[pe+2];de.children=b}if(I&&I.defaultProps)for(se in ve=I.defaultProps,ve)de[se]===void 0&&(de[se]=ve[se]);return{$$typeof:n,type:I,key:me,ref:Se,props:de,_owner:oe.current}}function j(I,L){return{$$typeof:n,type:I.type,key:L,ref:I.ref,props:I.props,_owner:I._owner}}function ae(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function ue(I){var L={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(le){return L[le]})}var Pe=/\/+/g;function Be(I,L){return typeof I=="object"&&I!==null&&I.key!=null?ue(""+I.key):L.toString(36)}function Oe(I,L,le,se,de){var me=typeof I;(me==="undefined"||me==="boolean")&&(I=null);var Se=!1;if(I===null)Se=!0;else switch(me){case"string":case"number":Se=!0;break;case"object":switch(I.$$typeof){case n:case e:Se=!0}}if(Se)return Se=I,de=de(Se),I=se===""?"."+Be(Se,0):se,J(de)?(le="",I!=null&&(le=I.replace(Pe,"$&/")+"/"),Oe(de,L,le,"",function(pe){return pe})):de!=null&&(ae(de)&&(de=j(de,le+(!de.key||Se&&Se.key===de.key?"":(""+de.key).replace(Pe,"$&/")+"/")+I)),L.push(de)),1;if(Se=0,se=se===""?".":se+":",J(I))for(var ve=0;ve<I.length;ve++){me=I[ve];var b=se+Be(me,ve);Se+=Oe(me,L,le,b,de)}else if(b=S(I),typeof b=="function")for(I=b.call(I),ve=0;!(me=I.next()).done;)me=me.value,b=se+Be(me,ve++),Se+=Oe(me,L,le,b,de);else if(me==="object")throw L=String(I),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return Se}function ke(I,L,le){if(I==null)return I;var se=[],de=0;return Oe(I,se,"","",function(me){return L.call(le,me,de++)}),se}function Ee(I){if(I._status===-1){var L=I._result;L=L(),L.then(function(le){(I._status===0||I._status===-1)&&(I._status=1,I._result=le)},function(le){(I._status===0||I._status===-1)&&(I._status=2,I._result=le)}),I._status===-1&&(I._status=0,I._result=L)}if(I._status===1)return I._result.default;throw I._result}var Ae={current:null},B={transition:null},ee={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:B,ReactCurrentOwner:oe};function W(){throw Error("act(...) is not supported in production builds of React.")}return fe.Children={map:ke,forEach:function(I,L,le){ke(I,function(){L.apply(this,arguments)},le)},count:function(I){var L=0;return ke(I,function(){L++}),L},toArray:function(I){return ke(I,function(L){return L})||[]},only:function(I){if(!ae(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},fe.Component=D,fe.Fragment=o,fe.Profiler=a,fe.PureComponent=$,fe.StrictMode=r,fe.Suspense=y,fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,fe.act=W,fe.cloneElement=function(I,L,le){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var se=N({},I.props),de=I.key,me=I.ref,Se=I._owner;if(L!=null){if(L.ref!==void 0&&(me=L.ref,Se=oe.current),L.key!==void 0&&(de=""+L.key),I.type&&I.type.defaultProps)var ve=I.type.defaultProps;for(b in L)O.call(L,b)&&!ie.hasOwnProperty(b)&&(se[b]=L[b]===void 0&&ve!==void 0?ve[b]:L[b])}var b=arguments.length-2;if(b===1)se.children=le;else if(1<b){ve=Array(b);for(var pe=0;pe<b;pe++)ve[pe]=arguments[pe+2];se.children=ve}return{$$typeof:n,type:I.type,key:de,ref:me,props:se,_owner:Se}},fe.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:f,_context:I},I.Consumer=I},fe.createElement=he,fe.createFactory=function(I){var L=he.bind(null,I);return L.type=I,L},fe.createRef=function(){return{current:null}},fe.forwardRef=function(I){return{$$typeof:g,render:I}},fe.isValidElement=ae,fe.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:Ee}},fe.memo=function(I,L){return{$$typeof:m,type:I,compare:L===void 0?null:L}},fe.startTransition=function(I){var L=B.transition;B.transition={};try{I()}finally{B.transition=L}},fe.unstable_act=W,fe.useCallback=function(I,L){return Ae.current.useCallback(I,L)},fe.useContext=function(I){return Ae.current.useContext(I)},fe.useDebugValue=function(){},fe.useDeferredValue=function(I){return Ae.current.useDeferredValue(I)},fe.useEffect=function(I,L){return Ae.current.useEffect(I,L)},fe.useId=function(){return Ae.current.useId()},fe.useImperativeHandle=function(I,L,le){return Ae.current.useImperativeHandle(I,L,le)},fe.useInsertionEffect=function(I,L){return Ae.current.useInsertionEffect(I,L)},fe.useLayoutEffect=function(I,L){return Ae.current.useLayoutEffect(I,L)},fe.useMemo=function(I,L){return Ae.current.useMemo(I,L)},fe.useReducer=function(I,L,le){return Ae.current.useReducer(I,L,le)},fe.useRef=function(I){return Ae.current.useRef(I)},fe.useState=function(I){return Ae.current.useState(I)},fe.useSyncExternalStore=function(I,L,le){return Ae.current.useSyncExternalStore(I,L,le)},fe.useTransition=function(){return Ae.current.useTransition()},fe.version="18.3.1",fe}var Mc;function Ms(){return Mc||(Mc=1,cs.exports=Dm()),cs.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rc;function Lm(){if(Rc)return Ko;Rc=1;var n=Ms(),e=Symbol.for("react.element"),o=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function d(g,y,m){var v,C={},S=null,A=null;m!==void 0&&(S=""+m),y.key!==void 0&&(S=""+y.key),y.ref!==void 0&&(A=y.ref);for(v in y)r.call(y,v)&&!f.hasOwnProperty(v)&&(C[v]=y[v]);if(g&&g.defaultProps)for(v in y=g.defaultProps,y)C[v]===void 0&&(C[v]=y[v]);return{$$typeof:e,type:g,key:S,ref:A,props:C,_owner:a.current}}return Ko.Fragment=o,Ko.jsx=d,Ko.jsxs=d,Ko}var Pc;function Fm(){return Pc||(Pc=1,as.exports=Lm()),as.exports}var w=Fm(),ce=Ms();const rd=id(ce);var ir={},fs={exports:{}},an={},ds={exports:{}},ps={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kc;function Um(){return kc||(kc=1,function(n){function e(B,ee){var W=B.length;B.push(ee);e:for(;0<W;){var I=W-1>>>1,L=B[I];if(0<a(L,ee))B[I]=ee,B[W]=L,W=I;else break e}}function o(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ee=B[0],W=B.pop();if(W!==ee){B[0]=W;e:for(var I=0,L=B.length,le=L>>>1;I<le;){var se=2*(I+1)-1,de=B[se],me=se+1,Se=B[me];if(0>a(de,W))me<L&&0>a(Se,de)?(B[I]=Se,B[me]=W,I=me):(B[I]=de,B[se]=W,I=se);else if(me<L&&0>a(Se,W))B[I]=Se,B[me]=W,I=me;else break e}}return ee}function a(B,ee){var W=B.sortIndex-ee.sortIndex;return W!==0?W:B.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();n.unstable_now=function(){return d.now()-g}}var y=[],m=[],v=1,C=null,S=3,A=!1,N=!1,P=!1,D=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(B){for(var ee=o(m);ee!==null;){if(ee.callback===null)r(m);else if(ee.startTime<=B)r(m),ee.sortIndex=ee.expirationTime,e(y,ee);else break;ee=o(m)}}function J(B){if(P=!1,H(B),!N)if(o(y)!==null)N=!0,Ee(O);else{var ee=o(m);ee!==null&&Ae(J,ee.startTime-B)}}function O(B,ee){N=!1,P&&(P=!1,q(he),he=-1),A=!0;var W=S;try{for(H(ee),C=o(y);C!==null&&(!(C.expirationTime>ee)||B&&!ue());){var I=C.callback;if(typeof I=="function"){C.callback=null,S=C.priorityLevel;var L=I(C.expirationTime<=ee);ee=n.unstable_now(),typeof L=="function"?C.callback=L:C===o(y)&&r(y),H(ee)}else r(y);C=o(y)}if(C!==null)var le=!0;else{var se=o(m);se!==null&&Ae(J,se.startTime-ee),le=!1}return le}finally{C=null,S=W,A=!1}}var oe=!1,ie=null,he=-1,j=5,ae=-1;function ue(){return!(n.unstable_now()-ae<j)}function Pe(){if(ie!==null){var B=n.unstable_now();ae=B;var ee=!0;try{ee=ie(!0,B)}finally{ee?Be():(oe=!1,ie=null)}}else oe=!1}var Be;if(typeof $=="function")Be=function(){$(Pe)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,ke=Oe.port2;Oe.port1.onmessage=Pe,Be=function(){ke.postMessage(null)}}else Be=function(){D(Pe,0)};function Ee(B){ie=B,oe||(oe=!0,Be())}function Ae(B,ee){he=D(function(){B(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){N||A||(N=!0,Ee(O))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return o(y)},n.unstable_next=function(B){switch(S){case 1:case 2:case 3:var ee=3;break;default:ee=S}var W=S;S=ee;try{return B()}finally{S=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,ee){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=S;S=B;try{return ee()}finally{S=W}},n.unstable_scheduleCallback=function(B,ee,W){var I=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?I+W:I):W=I,B){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=W+L,B={id:v++,callback:ee,priorityLevel:B,startTime:W,expirationTime:L,sortIndex:-1},W>I?(B.sortIndex=W,e(m,B),o(y)===null&&B===o(m)&&(P?(q(he),he=-1):P=!0,Ae(J,W-I))):(B.sortIndex=L,e(y,B),N||A||(N=!0,Ee(O))),B},n.unstable_shouldYield=ue,n.unstable_wrapCallback=function(B){var ee=S;return function(){var W=S;S=ee;try{return B.apply(this,arguments)}finally{S=W}}}}(ps)),ps}var Nc;function Vm(){return Nc||(Nc=1,ds.exports=Um()),ds.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dc;function Gm(){if(Dc)return an;Dc=1;var n=Ms(),e=Vm();function o(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function f(t,i){d(t,i),d(t+"Capture",i)}function d(t,i){for(a[t]=i,t=0;t<i.length;t++)r.add(i[t])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},C={};function S(t){return y.call(C,t)?!0:y.call(v,t)?!1:m.test(t)?C[t]=!0:(v[t]=!0,!1)}function A(t,i,u,c){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:u!==null?!u.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N(t,i,u,c){if(i===null||typeof i>"u"||A(t,i,u,c))return!0;if(c)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function P(t,i,u,c,p,h,T){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=p,this.mustUseProperty=u,this.propertyName=t,this.type=i,this.sanitizeURL=h,this.removeEmptyString=T}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){D[t]=new P(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];D[i]=new P(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){D[t]=new P(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){D[t]=new P(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){D[t]=new P(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){D[t]=new P(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){D[t]=new P(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){D[t]=new P(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){D[t]=new P(t,5,!1,t.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function $(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(q,$);D[i]=new P(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(q,$);D[i]=new P(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(q,$);D[i]=new P(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){D[t]=new P(t,1,!1,t.toLowerCase(),null,!1,!1)}),D.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){D[t]=new P(t,1,!1,t.toLowerCase(),null,!0,!0)});function H(t,i,u,c){var p=D.hasOwnProperty(i)?D[i]:null;(p!==null?p.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(N(i,u,p,c)&&(u=null),c||p===null?S(i)&&(u===null?t.removeAttribute(i):t.setAttribute(i,""+u)):p.mustUseProperty?t[p.propertyName]=u===null?p.type===3?!1:"":u:(i=p.attributeName,c=p.attributeNamespace,u===null?t.removeAttribute(i):(p=p.type,u=p===3||p===4&&u===!0?"":""+u,c?t.setAttributeNS(c,i,u):t.setAttribute(i,u))))}var J=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),oe=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),he=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),ue=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),Be=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),B=Symbol.iterator;function ee(t){return t===null||typeof t!="object"?null:(t=B&&t[B]||t["@@iterator"],typeof t=="function"?t:null)}var W=Object.assign,I;function L(t){if(I===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);I=i&&i[1]||""}return`
`+I+t}var le=!1;function se(t,i){if(!t||le)return"";le=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(k){var c=k}Reflect.construct(t,[],i)}else{try{i.call()}catch(k){c=k}t.call(i.prototype)}else{try{throw Error()}catch(k){c=k}t()}}catch(k){if(k&&c&&typeof k.stack=="string"){for(var p=k.stack.split(`
`),h=c.stack.split(`
`),T=p.length-1,E=h.length-1;1<=T&&0<=E&&p[T]!==h[E];)E--;for(;1<=T&&0<=E;T--,E--)if(p[T]!==h[E]){if(T!==1||E!==1)do if(T--,E--,0>E||p[T]!==h[E]){var _=`
`+p[T].replace(" at new "," at ");return t.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",t.displayName)),_}while(1<=T&&0<=E);break}}}finally{le=!1,Error.prepareStackTrace=u}return(t=t?t.displayName||t.name:"")?L(t):""}function de(t){switch(t.tag){case 5:return L(t.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return t=se(t.type,!1),t;case 11:return t=se(t.type.render,!1),t;case 1:return t=se(t.type,!0),t;default:return""}}function me(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ie:return"Fragment";case oe:return"Portal";case j:return"Profiler";case he:return"StrictMode";case Be:return"Suspense";case Oe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ue:return(t.displayName||"Context")+".Consumer";case ae:return(t._context.displayName||"Context")+".Provider";case Pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ke:return i=t.displayName||null,i!==null?i:me(t.type)||"Memo";case Ee:i=t._payload,t=t._init;try{return me(t(i))}catch{}}return null}function Se(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(i);case 8:return i===he?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ve(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function b(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function pe(t){var i=b(t)?"checked":"value",u=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),c=""+t[i];if(!t.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,h=u.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return p.call(this)},set:function(T){c=""+T,h.call(this,T)}}),Object.defineProperty(t,i,{enumerable:u.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function We(t){t._valueTracker||(t._valueTracker=pe(t))}function en(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var u=i.getValue(),c="";return t&&(c=b(t)?t.checked?"true":"false":t.value),t=c,t!==u?(i.setValue(t),!0):!1}function Ve(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function st(t,i){var u=i.checked;return W({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??t._wrapperState.initialChecked})}function Ls(t,i){var u=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;u=ve(i.value!=null?i.value:u),t._wrapperState={initialChecked:c,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Fs(t,i){i=i.checked,i!=null&&H(t,"checked",i,!1)}function yr(t,i){Fs(t,i);var u=ve(i.value),c=i.type;if(u!=null)c==="number"?(u===0&&t.value===""||t.value!=u)&&(t.value=""+u):t.value!==""+u&&(t.value=""+u);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?vr(t,i.type,u):i.hasOwnProperty("defaultValue")&&vr(t,i.type,ve(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function Us(t,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,u||i===t.value||(t.value=i),t.defaultValue=i}u=t.name,u!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,u!==""&&(t.name=u)}function vr(t,i,u){(i!=="number"||Ve(t.ownerDocument)!==t)&&(u==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+u&&(t.defaultValue=""+u))}var lo=Array.isArray;function wt(t,i,u,c){if(t=t.options,i){i={};for(var p=0;p<u.length;p++)i["$"+u[p]]=!0;for(u=0;u<t.length;u++)p=i.hasOwnProperty("$"+t[u].value),t[u].selected!==p&&(t[u].selected=p),p&&c&&(t[u].defaultSelected=!0)}else{for(u=""+ve(u),i=null,p=0;p<t.length;p++){if(t[p].value===u){t[p].selected=!0,c&&(t[p].defaultSelected=!0);return}i!==null||t[p].disabled||(i=t[p])}i!==null&&(i.selected=!0)}}function Cr(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(o(91));return W({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vs(t,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(o(92));if(lo(u)){if(1<u.length)throw Error(o(93));u=u[0]}i=u}i==null&&(i=""),u=i}t._wrapperState={initialValue:ve(u)}}function Gs(t,i){var u=ve(i.value),c=ve(i.defaultValue);u!=null&&(u=""+u,u!==t.value&&(t.value=u),i.defaultValue==null&&t.defaultValue!==u&&(t.defaultValue=u)),c!=null&&(t.defaultValue=""+c)}function Bs(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function Hs(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tr(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?Hs(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xo,qs=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,c,p){MSApp.execUnsafeLocalFunction(function(){return t(i,u,c,p)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(Xo=Xo||document.createElement("div"),Xo.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Xo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function so(t,i){if(i){var u=t.firstChild;if(u&&u===t.lastChild&&u.nodeType===3){u.nodeValue=i;return}}t.textContent=i}var uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vd=["Webkit","ms","Moz","O"];Object.keys(uo).forEach(function(t){Vd.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),uo[i]=uo[t]})});function zs(t,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||uo.hasOwnProperty(t)&&uo[t]?(""+i).trim():i+"px"}function $s(t,i){t=t.style;for(var u in i)if(i.hasOwnProperty(u)){var c=u.indexOf("--")===0,p=zs(u,i[u],c);u==="float"&&(u="cssFloat"),c?t.setProperty(u,p):t[u]=p}}var Gd=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sr(t,i){if(i){if(Gd[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(o(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(o(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(o(61))}if(i.style!=null&&typeof i.style!="object")throw Error(o(62))}}function Er(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _r=null;function xr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wr=null,It=null,At=null;function Js(t){if(t=ko(t)){if(typeof wr!="function")throw Error(o(280));var i=t.stateNode;i&&(i=Ci(i),wr(t.stateNode,t.type,i))}}function Ws(t){It?At?At.push(t):At=[t]:It=t}function Ks(){if(It){var t=It,i=At;if(At=It=null,Js(t),i)for(t=0;t<i.length;t++)Js(i[t])}}function Ys(t,i){return t(i)}function Os(){}var Ir=!1;function Qs(t,i,u){if(Ir)return t(i,u);Ir=!0;try{return Ys(t,i,u)}finally{Ir=!1,(It!==null||At!==null)&&(Os(),Ks())}}function ao(t,i){var u=t.stateNode;if(u===null)return null;var c=Ci(u);if(c===null)return null;u=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(u&&typeof u!="function")throw Error(o(231,i,typeof u));return u}var Ar=!1;if(g)try{var co={};Object.defineProperty(co,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",co,co),window.removeEventListener("test",co,co)}catch{Ar=!1}function Bd(t,i,u,c,p,h,T,E,_){var k=Array.prototype.slice.call(arguments,3);try{i.apply(u,k)}catch(U){this.onError(U)}}var fo=!1,Zo=null,bo=!1,Mr=null,Hd={onError:function(t){fo=!0,Zo=t}};function qd(t,i,u,c,p,h,T,E,_){fo=!1,Zo=null,Bd.apply(Hd,arguments)}function zd(t,i,u,c,p,h,T,E,_){if(qd.apply(this,arguments),fo){if(fo){var k=Zo;fo=!1,Zo=null}else throw Error(o(198));bo||(bo=!0,Mr=k)}}function ut(t){var i=t,u=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(u=i.return),t=i.return;while(t)}return i.tag===3?u:null}function Xs(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function Zs(t){if(ut(t)!==t)throw Error(o(188))}function $d(t){var i=t.alternate;if(!i){if(i=ut(t),i===null)throw Error(o(188));return i!==t?null:t}for(var u=t,c=i;;){var p=u.return;if(p===null)break;var h=p.alternate;if(h===null){if(c=p.return,c!==null){u=c;continue}break}if(p.child===h.child){for(h=p.child;h;){if(h===u)return Zs(p),t;if(h===c)return Zs(p),i;h=h.sibling}throw Error(o(188))}if(u.return!==c.return)u=p,c=h;else{for(var T=!1,E=p.child;E;){if(E===u){T=!0,u=p,c=h;break}if(E===c){T=!0,c=p,u=h;break}E=E.sibling}if(!T){for(E=h.child;E;){if(E===u){T=!0,u=h,c=p;break}if(E===c){T=!0,c=h,u=p;break}E=E.sibling}if(!T)throw Error(o(189))}}if(u.alternate!==c)throw Error(o(190))}if(u.tag!==3)throw Error(o(188));return u.stateNode.current===u?t:i}function bs(t){return t=$d(t),t!==null?js(t):null}function js(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=js(t);if(i!==null)return i;t=t.sibling}return null}var eu=e.unstable_scheduleCallback,nu=e.unstable_cancelCallback,Jd=e.unstable_shouldYield,Wd=e.unstable_requestPaint,Fe=e.unstable_now,Kd=e.unstable_getCurrentPriorityLevel,Rr=e.unstable_ImmediatePriority,tu=e.unstable_UserBlockingPriority,jo=e.unstable_NormalPriority,Yd=e.unstable_LowPriority,ou=e.unstable_IdlePriority,ei=null,Mn=null;function Od(t){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(ei,t,void 0,(t.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:Zd,Qd=Math.log,Xd=Math.LN2;function Zd(t){return t>>>=0,t===0?32:31-(Qd(t)/Xd|0)|0}var ni=64,ti=4194304;function po(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oi(t,i){var u=t.pendingLanes;if(u===0)return 0;var c=0,p=t.suspendedLanes,h=t.pingedLanes,T=u&268435455;if(T!==0){var E=T&~p;E!==0?c=po(E):(h&=T,h!==0&&(c=po(h)))}else T=u&~p,T!==0?c=po(T):h!==0&&(c=po(h));if(c===0)return 0;if(i!==0&&i!==c&&(i&p)===0&&(p=c&-c,h=i&-i,p>=h||p===16&&(h&4194240)!==0))return i;if((c&4)!==0&&(c|=u&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=c;0<i;)u=31-Sn(i),p=1<<u,c|=t[u],i&=~p;return c}function bd(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jd(t,i){for(var u=t.suspendedLanes,c=t.pingedLanes,p=t.expirationTimes,h=t.pendingLanes;0<h;){var T=31-Sn(h),E=1<<T,_=p[T];_===-1?((E&u)===0||(E&c)!==0)&&(p[T]=bd(E,i)):_<=i&&(t.expiredLanes|=E),h&=~E}}function Pr(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iu(){var t=ni;return ni<<=1,(ni&4194240)===0&&(ni=64),t}function kr(t){for(var i=[],u=0;31>u;u++)i.push(t);return i}function mo(t,i,u){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-Sn(i),t[i]=u}function ep(t,i){var u=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<u;){var p=31-Sn(u),h=1<<p;i[p]=0,c[p]=-1,t[p]=-1,u&=~h}}function Nr(t,i){var u=t.entangledLanes|=i;for(t=t.entanglements;u;){var c=31-Sn(u),p=1<<c;p&i|t[c]&i&&(t[c]|=i),u&=~p}}var Te=0;function ru(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var lu,Dr,su,uu,au,Lr=!1,ii=[],zn=null,$n=null,Jn=null,go=new Map,ho=new Map,Wn=[],np="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cu(t,i){switch(t){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":go.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(i.pointerId)}}function yo(t,i,u,c,p,h){return t===null||t.nativeEvent!==h?(t={blockedOn:i,domEventName:u,eventSystemFlags:c,nativeEvent:h,targetContainers:[p]},i!==null&&(i=ko(i),i!==null&&Dr(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),t)}function tp(t,i,u,c,p){switch(i){case"focusin":return zn=yo(zn,t,i,u,c,p),!0;case"dragenter":return $n=yo($n,t,i,u,c,p),!0;case"mouseover":return Jn=yo(Jn,t,i,u,c,p),!0;case"pointerover":var h=p.pointerId;return go.set(h,yo(go.get(h)||null,t,i,u,c,p)),!0;case"gotpointercapture":return h=p.pointerId,ho.set(h,yo(ho.get(h)||null,t,i,u,c,p)),!0}return!1}function fu(t){var i=at(t.target);if(i!==null){var u=ut(i);if(u!==null){if(i=u.tag,i===13){if(i=Xs(u),i!==null){t.blockedOn=i,au(t.priority,function(){su(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){t.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ri(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var u=Ur(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(u===null){u=t.nativeEvent;var c=new u.constructor(u.type,u);_r=c,u.target.dispatchEvent(c),_r=null}else return i=ko(u),i!==null&&Dr(i),t.blockedOn=u,!1;i.shift()}return!0}function du(t,i,u){ri(t)&&u.delete(i)}function op(){Lr=!1,zn!==null&&ri(zn)&&(zn=null),$n!==null&&ri($n)&&($n=null),Jn!==null&&ri(Jn)&&(Jn=null),go.forEach(du),ho.forEach(du)}function vo(t,i){t.blockedOn===i&&(t.blockedOn=null,Lr||(Lr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,op)))}function Co(t){function i(p){return vo(p,t)}if(0<ii.length){vo(ii[0],t);for(var u=1;u<ii.length;u++){var c=ii[u];c.blockedOn===t&&(c.blockedOn=null)}}for(zn!==null&&vo(zn,t),$n!==null&&vo($n,t),Jn!==null&&vo(Jn,t),go.forEach(i),ho.forEach(i),u=0;u<Wn.length;u++)c=Wn[u],c.blockedOn===t&&(c.blockedOn=null);for(;0<Wn.length&&(u=Wn[0],u.blockedOn===null);)fu(u),u.blockedOn===null&&Wn.shift()}var Mt=J.ReactCurrentBatchConfig,li=!0;function ip(t,i,u,c){var p=Te,h=Mt.transition;Mt.transition=null;try{Te=1,Fr(t,i,u,c)}finally{Te=p,Mt.transition=h}}function rp(t,i,u,c){var p=Te,h=Mt.transition;Mt.transition=null;try{Te=4,Fr(t,i,u,c)}finally{Te=p,Mt.transition=h}}function Fr(t,i,u,c){if(li){var p=Ur(t,i,u,c);if(p===null)jr(t,i,c,si,u),cu(t,c);else if(tp(p,t,i,u,c))c.stopPropagation();else if(cu(t,c),i&4&&-1<np.indexOf(t)){for(;p!==null;){var h=ko(p);if(h!==null&&lu(h),h=Ur(t,i,u,c),h===null&&jr(t,i,c,si,u),h===p)break;p=h}p!==null&&c.stopPropagation()}else jr(t,i,c,null,u)}}var si=null;function Ur(t,i,u,c){if(si=null,t=xr(c),t=at(t),t!==null)if(i=ut(t),i===null)t=null;else if(u=i.tag,u===13){if(t=Xs(i),t!==null)return t;t=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return si=t,null}function pu(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kd()){case Rr:return 1;case tu:return 4;case jo:case Yd:return 16;case ou:return 536870912;default:return 16}default:return 16}}var Kn=null,Vr=null,ui=null;function mu(){if(ui)return ui;var t,i=Vr,u=i.length,c,p="value"in Kn?Kn.value:Kn.textContent,h=p.length;for(t=0;t<u&&i[t]===p[t];t++);var T=u-t;for(c=1;c<=T&&i[u-c]===p[h-c];c++);return ui=p.slice(t,1<c?1-c:void 0)}function ai(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ci(){return!0}function gu(){return!1}function cn(t){function i(u,c,p,h,T){this._reactName=u,this._targetInst=p,this.type=c,this.nativeEvent=h,this.target=T,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(u=t[E],this[E]=u?u(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ci:gu,this.isPropagationStopped=gu,this}return W(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),i}var Rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gr=cn(Rt),To=W({},Rt,{view:0,detail:0}),lp=cn(To),Br,Hr,So,fi=W({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==So&&(So&&t.type==="mousemove"?(Br=t.screenX-So.screenX,Hr=t.screenY-So.screenY):Hr=Br=0,So=t),Br)},movementY:function(t){return"movementY"in t?t.movementY:Hr}}),hu=cn(fi),sp=W({},fi,{dataTransfer:0}),up=cn(sp),ap=W({},To,{relatedTarget:0}),qr=cn(ap),cp=W({},Rt,{animationName:0,elapsedTime:0,pseudoElement:0}),fp=cn(cp),dp=W({},Rt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pp=cn(dp),mp=W({},Rt,{data:0}),yu=cn(mp),gp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vp(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=yp[t])?!!i[t]:!1}function zr(){return vp}var Cp=W({},To,{key:function(t){if(t.key){var i=gp[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ai(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(t){return t.type==="keypress"?ai(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ai(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tp=cn(Cp),Sp=W({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vu=cn(Sp),Ep=W({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),_p=cn(Ep),xp=W({},Rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),wp=cn(xp),Ip=W({},fi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ap=cn(Ip),Mp=[9,13,27,32],$r=g&&"CompositionEvent"in window,Eo=null;g&&"documentMode"in document&&(Eo=document.documentMode);var Rp=g&&"TextEvent"in window&&!Eo,Cu=g&&(!$r||Eo&&8<Eo&&11>=Eo),Tu=" ",Su=!1;function Eu(t,i){switch(t){case"keyup":return Mp.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _u(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pt=!1;function Pp(t,i){switch(t){case"compositionend":return _u(i);case"keypress":return i.which!==32?null:(Su=!0,Tu);case"textInput":return t=i.data,t===Tu&&Su?null:t;default:return null}}function kp(t,i){if(Pt)return t==="compositionend"||!$r&&Eu(t,i)?(t=mu(),ui=Vr=Kn=null,Pt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Cu&&i.locale!=="ko"?null:i.data;default:return null}}var Np={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xu(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Np[t.type]:i==="textarea"}function wu(t,i,u,c){Ws(c),i=hi(i,"onChange"),0<i.length&&(u=new Gr("onChange","change",null,u,c),t.push({event:u,listeners:i}))}var _o=null,xo=null;function Dp(t){$u(t,0)}function di(t){var i=Ft(t);if(en(i))return t}function Lp(t,i){if(t==="change")return i}var Iu=!1;if(g){var Jr;if(g){var Wr="oninput"in document;if(!Wr){var Au=document.createElement("div");Au.setAttribute("oninput","return;"),Wr=typeof Au.oninput=="function"}Jr=Wr}else Jr=!1;Iu=Jr&&(!document.documentMode||9<document.documentMode)}function Mu(){_o&&(_o.detachEvent("onpropertychange",Ru),xo=_o=null)}function Ru(t){if(t.propertyName==="value"&&di(xo)){var i=[];wu(i,xo,t,xr(t)),Qs(Dp,i)}}function Fp(t,i,u){t==="focusin"?(Mu(),_o=i,xo=u,_o.attachEvent("onpropertychange",Ru)):t==="focusout"&&Mu()}function Up(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return di(xo)}function Vp(t,i){if(t==="click")return di(i)}function Gp(t,i){if(t==="input"||t==="change")return di(i)}function Bp(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:Bp;function wo(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var u=Object.keys(t),c=Object.keys(i);if(u.length!==c.length)return!1;for(c=0;c<u.length;c++){var p=u[c];if(!y.call(i,p)||!En(t[p],i[p]))return!1}return!0}function Pu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ku(t,i){var u=Pu(t);t=0;for(var c;u;){if(u.nodeType===3){if(c=t+u.textContent.length,t<=i&&c>=i)return{node:u,offset:i-t};t=c}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Pu(u)}}function Nu(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Nu(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Du(){for(var t=window,i=Ve();i instanceof t.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)t=i.contentWindow;else break;i=Ve(t.document)}return i}function Kr(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function Hp(t){var i=Du(),u=t.focusedElem,c=t.selectionRange;if(i!==u&&u&&u.ownerDocument&&Nu(u.ownerDocument.documentElement,u)){if(c!==null&&Kr(u)){if(i=c.start,t=c.end,t===void 0&&(t=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(t,u.value.length);else if(t=(i=u.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var p=u.textContent.length,h=Math.min(c.start,p);c=c.end===void 0?h:Math.min(c.end,p),!t.extend&&h>c&&(p=c,c=h,h=p),p=ku(u,h);var T=ku(u,c);p&&T&&(t.rangeCount!==1||t.anchorNode!==p.node||t.anchorOffset!==p.offset||t.focusNode!==T.node||t.focusOffset!==T.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),t.removeAllRanges(),h>c?(t.addRange(i),t.extend(T.node,T.offset)):(i.setEnd(T.node,T.offset),t.addRange(i)))}}for(i=[],t=u;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)t=i[u],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qp=g&&"documentMode"in document&&11>=document.documentMode,kt=null,Yr=null,Io=null,Or=!1;function Lu(t,i,u){var c=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Or||kt==null||kt!==Ve(c)||(c=kt,"selectionStart"in c&&Kr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Io&&wo(Io,c)||(Io=c,c=hi(Yr,"onSelect"),0<c.length&&(i=new Gr("onSelect","select",null,i,u),t.push({event:i,listeners:c}),i.target=kt)))}function pi(t,i){var u={};return u[t.toLowerCase()]=i.toLowerCase(),u["Webkit"+t]="webkit"+i,u["Moz"+t]="moz"+i,u}var Nt={animationend:pi("Animation","AnimationEnd"),animationiteration:pi("Animation","AnimationIteration"),animationstart:pi("Animation","AnimationStart"),transitionend:pi("Transition","TransitionEnd")},Qr={},Fu={};g&&(Fu=document.createElement("div").style,"AnimationEvent"in window||(delete Nt.animationend.animation,delete Nt.animationiteration.animation,delete Nt.animationstart.animation),"TransitionEvent"in window||delete Nt.transitionend.transition);function mi(t){if(Qr[t])return Qr[t];if(!Nt[t])return t;var i=Nt[t],u;for(u in i)if(i.hasOwnProperty(u)&&u in Fu)return Qr[t]=i[u];return t}var Uu=mi("animationend"),Vu=mi("animationiteration"),Gu=mi("animationstart"),Bu=mi("transitionend"),Hu=new Map,qu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(t,i){Hu.set(t,i),f(i,[t])}for(var Xr=0;Xr<qu.length;Xr++){var Zr=qu[Xr],zp=Zr.toLowerCase(),$p=Zr[0].toUpperCase()+Zr.slice(1);Yn(zp,"on"+$p)}Yn(Uu,"onAnimationEnd"),Yn(Vu,"onAnimationIteration"),Yn(Gu,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Bu,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ao));function zu(t,i,u){var c=t.type||"unknown-event";t.currentTarget=u,zd(c,i,void 0,t),t.currentTarget=null}function $u(t,i){i=(i&4)!==0;for(var u=0;u<t.length;u++){var c=t[u],p=c.event;c=c.listeners;e:{var h=void 0;if(i)for(var T=c.length-1;0<=T;T--){var E=c[T],_=E.instance,k=E.currentTarget;if(E=E.listener,_!==h&&p.isPropagationStopped())break e;zu(p,E,k),h=_}else for(T=0;T<c.length;T++){if(E=c[T],_=E.instance,k=E.currentTarget,E=E.listener,_!==h&&p.isPropagationStopped())break e;zu(p,E,k),h=_}}}if(bo)throw t=Mr,bo=!1,Mr=null,t}function xe(t,i){var u=i[rl];u===void 0&&(u=i[rl]=new Set);var c=t+"__bubble";u.has(c)||(Ju(i,t,2,!1),u.add(c))}function br(t,i,u){var c=0;i&&(c|=4),Ju(u,t,c,i)}var gi="_reactListening"+Math.random().toString(36).slice(2);function Mo(t){if(!t[gi]){t[gi]=!0,r.forEach(function(u){u!=="selectionchange"&&(Jp.has(u)||br(u,!1,t),br(u,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[gi]||(i[gi]=!0,br("selectionchange",!1,i))}}function Ju(t,i,u,c){switch(pu(i)){case 1:var p=ip;break;case 4:p=rp;break;default:p=Fr}u=p.bind(null,i,u,t),p=void 0,!Ar||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?t.addEventListener(i,u,{capture:!0,passive:p}):t.addEventListener(i,u,!0):p!==void 0?t.addEventListener(i,u,{passive:p}):t.addEventListener(i,u,!1)}function jr(t,i,u,c,p){var h=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var E=c.stateNode.containerInfo;if(E===p||E.nodeType===8&&E.parentNode===p)break;if(T===4)for(T=c.return;T!==null;){var _=T.tag;if((_===3||_===4)&&(_=T.stateNode.containerInfo,_===p||_.nodeType===8&&_.parentNode===p))return;T=T.return}for(;E!==null;){if(T=at(E),T===null)return;if(_=T.tag,_===5||_===6){c=h=T;continue e}E=E.parentNode}}c=c.return}Qs(function(){var k=h,U=xr(u),V=[];e:{var F=Hu.get(t);if(F!==void 0){var z=Gr,Y=t;switch(t){case"keypress":if(ai(u)===0)break e;case"keydown":case"keyup":z=Tp;break;case"focusin":Y="focus",z=qr;break;case"focusout":Y="blur",z=qr;break;case"beforeblur":case"afterblur":z=qr;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=_p;break;case Uu:case Vu:case Gu:z=fp;break;case Bu:z=wp;break;case"scroll":z=lp;break;case"wheel":z=Ap;break;case"copy":case"cut":case"paste":z=pp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=vu}var Q=(i&4)!==0,Ue=!Q&&t==="scroll",M=Q?F!==null?F+"Capture":null:F;Q=[];for(var x=k,R;x!==null;){R=x;var G=R.stateNode;if(R.tag===5&&G!==null&&(R=G,M!==null&&(G=ao(x,M),G!=null&&Q.push(Ro(x,G,R)))),Ue)break;x=x.return}0<Q.length&&(F=new z(F,Y,null,u,U),V.push({event:F,listeners:Q}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",z=t==="mouseout"||t==="pointerout",F&&u!==_r&&(Y=u.relatedTarget||u.fromElement)&&(at(Y)||Y[Dn]))break e;if((z||F)&&(F=U.window===U?U:(F=U.ownerDocument)?F.defaultView||F.parentWindow:window,z?(Y=u.relatedTarget||u.toElement,z=k,Y=Y?at(Y):null,Y!==null&&(Ue=ut(Y),Y!==Ue||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(z=null,Y=k),z!==Y)){if(Q=hu,G="onMouseLeave",M="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(Q=vu,G="onPointerLeave",M="onPointerEnter",x="pointer"),Ue=z==null?F:Ft(z),R=Y==null?F:Ft(Y),F=new Q(G,x+"leave",z,u,U),F.target=Ue,F.relatedTarget=R,G=null,at(U)===k&&(Q=new Q(M,x+"enter",Y,u,U),Q.target=R,Q.relatedTarget=Ue,G=Q),Ue=G,z&&Y)n:{for(Q=z,M=Y,x=0,R=Q;R;R=Dt(R))x++;for(R=0,G=M;G;G=Dt(G))R++;for(;0<x-R;)Q=Dt(Q),x--;for(;0<R-x;)M=Dt(M),R--;for(;x--;){if(Q===M||M!==null&&Q===M.alternate)break n;Q=Dt(Q),M=Dt(M)}Q=null}else Q=null;z!==null&&Wu(V,F,z,Q,!1),Y!==null&&Ue!==null&&Wu(V,Ue,Y,Q,!0)}}e:{if(F=k?Ft(k):window,z=F.nodeName&&F.nodeName.toLowerCase(),z==="select"||z==="input"&&F.type==="file")var X=Lp;else if(xu(F))if(Iu)X=Gp;else{X=Up;var ne=Fp}else(z=F.nodeName)&&z.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(X=Vp);if(X&&(X=X(t,k))){wu(V,X,u,U);break e}ne&&ne(t,F,k),t==="focusout"&&(ne=F._wrapperState)&&ne.controlled&&F.type==="number"&&vr(F,"number",F.value)}switch(ne=k?Ft(k):window,t){case"focusin":(xu(ne)||ne.contentEditable==="true")&&(kt=ne,Yr=k,Io=null);break;case"focusout":Io=Yr=kt=null;break;case"mousedown":Or=!0;break;case"contextmenu":case"mouseup":case"dragend":Or=!1,Lu(V,u,U);break;case"selectionchange":if(qp)break;case"keydown":case"keyup":Lu(V,u,U)}var te;if($r)e:{switch(t){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Pt?Eu(t,u)&&(re="onCompositionEnd"):t==="keydown"&&u.keyCode===229&&(re="onCompositionStart");re&&(Cu&&u.locale!=="ko"&&(Pt||re!=="onCompositionStart"?re==="onCompositionEnd"&&Pt&&(te=mu()):(Kn=U,Vr="value"in Kn?Kn.value:Kn.textContent,Pt=!0)),ne=hi(k,re),0<ne.length&&(re=new yu(re,t,null,u,U),V.push({event:re,listeners:ne}),te?re.data=te:(te=_u(u),te!==null&&(re.data=te)))),(te=Rp?Pp(t,u):kp(t,u))&&(k=hi(k,"onBeforeInput"),0<k.length&&(U=new yu("onBeforeInput","beforeinput",null,u,U),V.push({event:U,listeners:k}),U.data=te))}$u(V,i)})}function Ro(t,i,u){return{instance:t,listener:i,currentTarget:u}}function hi(t,i){for(var u=i+"Capture",c=[];t!==null;){var p=t,h=p.stateNode;p.tag===5&&h!==null&&(p=h,h=ao(t,u),h!=null&&c.unshift(Ro(t,h,p)),h=ao(t,i),h!=null&&c.push(Ro(t,h,p))),t=t.return}return c}function Dt(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wu(t,i,u,c,p){for(var h=i._reactName,T=[];u!==null&&u!==c;){var E=u,_=E.alternate,k=E.stateNode;if(_!==null&&_===c)break;E.tag===5&&k!==null&&(E=k,p?(_=ao(u,h),_!=null&&T.unshift(Ro(u,_,E))):p||(_=ao(u,h),_!=null&&T.push(Ro(u,_,E)))),u=u.return}T.length!==0&&t.push({event:i,listeners:T})}var Wp=/\r\n?/g,Kp=/\u0000|\uFFFD/g;function Ku(t){return(typeof t=="string"?t:""+t).replace(Wp,`
`).replace(Kp,"")}function yi(t,i,u){if(i=Ku(i),Ku(t)!==i&&u)throw Error(o(425))}function vi(){}var el=null,nl=null;function tl(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ol=typeof setTimeout=="function"?setTimeout:void 0,Yp=typeof clearTimeout=="function"?clearTimeout:void 0,Yu=typeof Promise=="function"?Promise:void 0,Op=typeof queueMicrotask=="function"?queueMicrotask:typeof Yu<"u"?function(t){return Yu.resolve(null).then(t).catch(Qp)}:ol;function Qp(t){setTimeout(function(){throw t})}function il(t,i){var u=i,c=0;do{var p=u.nextSibling;if(t.removeChild(u),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(c===0){t.removeChild(p),Co(i);return}c--}else u!=="$"&&u!=="$?"&&u!=="$!"||c++;u=p}while(u);Co(i)}function On(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function Ou(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var u=t.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return t;i--}else u==="/$"&&i++}t=t.previousSibling}return null}var Lt=Math.random().toString(36).slice(2),Rn="__reactFiber$"+Lt,Po="__reactProps$"+Lt,Dn="__reactContainer$"+Lt,rl="__reactEvents$"+Lt,Xp="__reactListeners$"+Lt,Zp="__reactHandles$"+Lt;function at(t){var i=t[Rn];if(i)return i;for(var u=t.parentNode;u;){if(i=u[Dn]||u[Rn]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(t=Ou(t);t!==null;){if(u=t[Rn])return u;t=Ou(t)}return i}t=u,u=t.parentNode}return null}function ko(t){return t=t[Rn]||t[Dn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ft(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(o(33))}function Ci(t){return t[Po]||null}var ll=[],Ut=-1;function Qn(t){return{current:t}}function we(t){0>Ut||(t.current=ll[Ut],ll[Ut]=null,Ut--)}function _e(t,i){Ut++,ll[Ut]=t.current,t.current=i}var Xn={},Qe=Qn(Xn),on=Qn(!1),ct=Xn;function Vt(t,i){var u=t.type.contextTypes;if(!u)return Xn;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var p={},h;for(h in u)p[h]=i[h];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=p),p}function rn(t){return t=t.childContextTypes,t!=null}function Ti(){we(on),we(Qe)}function Qu(t,i,u){if(Qe.current!==Xn)throw Error(o(168));_e(Qe,i),_e(on,u)}function Xu(t,i,u){var c=t.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return u;c=c.getChildContext();for(var p in c)if(!(p in i))throw Error(o(108,Se(t)||"Unknown",p));return W({},u,c)}function Si(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xn,ct=Qe.current,_e(Qe,t),_e(on,on.current),!0}function Zu(t,i,u){var c=t.stateNode;if(!c)throw Error(o(169));u?(t=Xu(t,i,ct),c.__reactInternalMemoizedMergedChildContext=t,we(on),we(Qe),_e(Qe,t)):we(on),_e(on,u)}var Ln=null,Ei=!1,sl=!1;function bu(t){Ln===null?Ln=[t]:Ln.push(t)}function bp(t){Ei=!0,bu(t)}function Zn(){if(!sl&&Ln!==null){sl=!0;var t=0,i=Te;try{var u=Ln;for(Te=1;t<u.length;t++){var c=u[t];do c=c(!0);while(c!==null)}Ln=null,Ei=!1}catch(p){throw Ln!==null&&(Ln=Ln.slice(t+1)),eu(Rr,Zn),p}finally{Te=i,sl=!1}}return null}var Gt=[],Bt=0,_i=null,xi=0,mn=[],gn=0,ft=null,Fn=1,Un="";function dt(t,i){Gt[Bt++]=xi,Gt[Bt++]=_i,_i=t,xi=i}function ju(t,i,u){mn[gn++]=Fn,mn[gn++]=Un,mn[gn++]=ft,ft=t;var c=Fn;t=Un;var p=32-Sn(c)-1;c&=~(1<<p),u+=1;var h=32-Sn(i)+p;if(30<h){var T=p-p%5;h=(c&(1<<T)-1).toString(32),c>>=T,p-=T,Fn=1<<32-Sn(i)+p|u<<p|c,Un=h+t}else Fn=1<<h|u<<p|c,Un=t}function ul(t){t.return!==null&&(dt(t,1),ju(t,1,0))}function al(t){for(;t===_i;)_i=Gt[--Bt],Gt[Bt]=null,xi=Gt[--Bt],Gt[Bt]=null;for(;t===ft;)ft=mn[--gn],mn[gn]=null,Un=mn[--gn],mn[gn]=null,Fn=mn[--gn],mn[gn]=null}var fn=null,dn=null,Me=!1,_n=null;function ea(t,i){var u=Cn(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=t,i=t.deletions,i===null?(t.deletions=[u],t.flags|=16):i.push(u)}function na(t,i){switch(t.tag){case 5:var u=t.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,fn=t,dn=On(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,fn=t,dn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=ft!==null?{id:Fn,overflow:Un}:null,t.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=Cn(18,null,null,0),u.stateNode=i,u.return=t,t.child=u,fn=t,dn=null,!0):!1;default:return!1}}function cl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fl(t){if(Me){var i=dn;if(i){var u=i;if(!na(t,i)){if(cl(t))throw Error(o(418));i=On(u.nextSibling);var c=fn;i&&na(t,i)?ea(c,u):(t.flags=t.flags&-4097|2,Me=!1,fn=t)}}else{if(cl(t))throw Error(o(418));t.flags=t.flags&-4097|2,Me=!1,fn=t}}}function ta(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function wi(t){if(t!==fn)return!1;if(!Me)return ta(t),Me=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!tl(t.type,t.memoizedProps)),i&&(i=dn)){if(cl(t))throw oa(),Error(o(418));for(;i;)ea(t,i),i=On(i.nextSibling)}if(ta(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var u=t.data;if(u==="/$"){if(i===0){dn=On(t.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}t=t.nextSibling}dn=null}}else dn=fn?On(t.stateNode.nextSibling):null;return!0}function oa(){for(var t=dn;t;)t=On(t.nextSibling)}function Ht(){dn=fn=null,Me=!1}function dl(t){_n===null?_n=[t]:_n.push(t)}var jp=J.ReactCurrentBatchConfig;function No(t,i,u){if(t=u.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(o(309));var c=u.stateNode}if(!c)throw Error(o(147,t));var p=c,h=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===h?i.ref:(i=function(T){var E=p.refs;T===null?delete E[h]:E[h]=T},i._stringRef=h,i)}if(typeof t!="string")throw Error(o(284));if(!u._owner)throw Error(o(290,t))}return t}function Ii(t,i){throw t=Object.prototype.toString.call(i),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function ia(t){var i=t._init;return i(t._payload)}function ra(t){function i(M,x){if(t){var R=M.deletions;R===null?(M.deletions=[x],M.flags|=16):R.push(x)}}function u(M,x){if(!t)return null;for(;x!==null;)i(M,x),x=x.sibling;return null}function c(M,x){for(M=new Map;x!==null;)x.key!==null?M.set(x.key,x):M.set(x.index,x),x=x.sibling;return M}function p(M,x){return M=rt(M,x),M.index=0,M.sibling=null,M}function h(M,x,R){return M.index=R,t?(R=M.alternate,R!==null?(R=R.index,R<x?(M.flags|=2,x):R):(M.flags|=2,x)):(M.flags|=1048576,x)}function T(M){return t&&M.alternate===null&&(M.flags|=2),M}function E(M,x,R,G){return x===null||x.tag!==6?(x=os(R,M.mode,G),x.return=M,x):(x=p(x,R),x.return=M,x)}function _(M,x,R,G){var X=R.type;return X===ie?U(M,x,R.props.children,G,R.key):x!==null&&(x.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ee&&ia(X)===x.type)?(G=p(x,R.props),G.ref=No(M,x,R),G.return=M,G):(G=Xi(R.type,R.key,R.props,null,M.mode,G),G.ref=No(M,x,R),G.return=M,G)}function k(M,x,R,G){return x===null||x.tag!==4||x.stateNode.containerInfo!==R.containerInfo||x.stateNode.implementation!==R.implementation?(x=is(R,M.mode,G),x.return=M,x):(x=p(x,R.children||[]),x.return=M,x)}function U(M,x,R,G,X){return x===null||x.tag!==7?(x=Tt(R,M.mode,G,X),x.return=M,x):(x=p(x,R),x.return=M,x)}function V(M,x,R){if(typeof x=="string"&&x!==""||typeof x=="number")return x=os(""+x,M.mode,R),x.return=M,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case O:return R=Xi(x.type,x.key,x.props,null,M.mode,R),R.ref=No(M,null,x),R.return=M,R;case oe:return x=is(x,M.mode,R),x.return=M,x;case Ee:var G=x._init;return V(M,G(x._payload),R)}if(lo(x)||ee(x))return x=Tt(x,M.mode,R,null),x.return=M,x;Ii(M,x)}return null}function F(M,x,R,G){var X=x!==null?x.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return X!==null?null:E(M,x,""+R,G);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case O:return R.key===X?_(M,x,R,G):null;case oe:return R.key===X?k(M,x,R,G):null;case Ee:return X=R._init,F(M,x,X(R._payload),G)}if(lo(R)||ee(R))return X!==null?null:U(M,x,R,G,null);Ii(M,R)}return null}function z(M,x,R,G,X){if(typeof G=="string"&&G!==""||typeof G=="number")return M=M.get(R)||null,E(x,M,""+G,X);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case O:return M=M.get(G.key===null?R:G.key)||null,_(x,M,G,X);case oe:return M=M.get(G.key===null?R:G.key)||null,k(x,M,G,X);case Ee:var ne=G._init;return z(M,x,R,ne(G._payload),X)}if(lo(G)||ee(G))return M=M.get(R)||null,U(x,M,G,X,null);Ii(x,G)}return null}function Y(M,x,R,G){for(var X=null,ne=null,te=x,re=x=0,Je=null;te!==null&&re<R.length;re++){te.index>re?(Je=te,te=null):Je=te.sibling;var ye=F(M,te,R[re],G);if(ye===null){te===null&&(te=Je);break}t&&te&&ye.alternate===null&&i(M,te),x=h(ye,x,re),ne===null?X=ye:ne.sibling=ye,ne=ye,te=Je}if(re===R.length)return u(M,te),Me&&dt(M,re),X;if(te===null){for(;re<R.length;re++)te=V(M,R[re],G),te!==null&&(x=h(te,x,re),ne===null?X=te:ne.sibling=te,ne=te);return Me&&dt(M,re),X}for(te=c(M,te);re<R.length;re++)Je=z(te,M,re,R[re],G),Je!==null&&(t&&Je.alternate!==null&&te.delete(Je.key===null?re:Je.key),x=h(Je,x,re),ne===null?X=Je:ne.sibling=Je,ne=Je);return t&&te.forEach(function(lt){return i(M,lt)}),Me&&dt(M,re),X}function Q(M,x,R,G){var X=ee(R);if(typeof X!="function")throw Error(o(150));if(R=X.call(R),R==null)throw Error(o(151));for(var ne=X=null,te=x,re=x=0,Je=null,ye=R.next();te!==null&&!ye.done;re++,ye=R.next()){te.index>re?(Je=te,te=null):Je=te.sibling;var lt=F(M,te,ye.value,G);if(lt===null){te===null&&(te=Je);break}t&&te&&lt.alternate===null&&i(M,te),x=h(lt,x,re),ne===null?X=lt:ne.sibling=lt,ne=lt,te=Je}if(ye.done)return u(M,te),Me&&dt(M,re),X;if(te===null){for(;!ye.done;re++,ye=R.next())ye=V(M,ye.value,G),ye!==null&&(x=h(ye,x,re),ne===null?X=ye:ne.sibling=ye,ne=ye);return Me&&dt(M,re),X}for(te=c(M,te);!ye.done;re++,ye=R.next())ye=z(te,M,re,ye.value,G),ye!==null&&(t&&ye.alternate!==null&&te.delete(ye.key===null?re:ye.key),x=h(ye,x,re),ne===null?X=ye:ne.sibling=ye,ne=ye);return t&&te.forEach(function(Nm){return i(M,Nm)}),Me&&dt(M,re),X}function Ue(M,x,R,G){if(typeof R=="object"&&R!==null&&R.type===ie&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case O:e:{for(var X=R.key,ne=x;ne!==null;){if(ne.key===X){if(X=R.type,X===ie){if(ne.tag===7){u(M,ne.sibling),x=p(ne,R.props.children),x.return=M,M=x;break e}}else if(ne.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ee&&ia(X)===ne.type){u(M,ne.sibling),x=p(ne,R.props),x.ref=No(M,ne,R),x.return=M,M=x;break e}u(M,ne);break}else i(M,ne);ne=ne.sibling}R.type===ie?(x=Tt(R.props.children,M.mode,G,R.key),x.return=M,M=x):(G=Xi(R.type,R.key,R.props,null,M.mode,G),G.ref=No(M,x,R),G.return=M,M=G)}return T(M);case oe:e:{for(ne=R.key;x!==null;){if(x.key===ne)if(x.tag===4&&x.stateNode.containerInfo===R.containerInfo&&x.stateNode.implementation===R.implementation){u(M,x.sibling),x=p(x,R.children||[]),x.return=M,M=x;break e}else{u(M,x);break}else i(M,x);x=x.sibling}x=is(R,M.mode,G),x.return=M,M=x}return T(M);case Ee:return ne=R._init,Ue(M,x,ne(R._payload),G)}if(lo(R))return Y(M,x,R,G);if(ee(R))return Q(M,x,R,G);Ii(M,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,x!==null&&x.tag===6?(u(M,x.sibling),x=p(x,R),x.return=M,M=x):(u(M,x),x=os(R,M.mode,G),x.return=M,M=x),T(M)):u(M,x)}return Ue}var qt=ra(!0),la=ra(!1),Ai=Qn(null),Mi=null,zt=null,pl=null;function ml(){pl=zt=Mi=null}function gl(t){var i=Ai.current;we(Ai),t._currentValue=i}function hl(t,i,u){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===u)break;t=t.return}}function $t(t,i){Mi=t,pl=zt=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&i)!==0&&(ln=!0),t.firstContext=null)}function hn(t){var i=t._currentValue;if(pl!==t)if(t={context:t,memoizedValue:i,next:null},zt===null){if(Mi===null)throw Error(o(308));zt=t,Mi.dependencies={lanes:0,firstContext:t}}else zt=zt.next=t;return i}var pt=null;function yl(t){pt===null?pt=[t]:pt.push(t)}function sa(t,i,u,c){var p=i.interleaved;return p===null?(u.next=u,yl(i)):(u.next=p.next,p.next=u),i.interleaved=u,Vn(t,c)}function Vn(t,i){t.lanes|=i;var u=t.alternate;for(u!==null&&(u.lanes|=i),u=t,t=t.return;t!==null;)t.childLanes|=i,u=t.alternate,u!==null&&(u.childLanes|=i),u=t,t=t.return;return u.tag===3?u.stateNode:null}var bn=!1;function vl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ua(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gn(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function jn(t,i,u){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(ge&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,Vn(t,u)}return p=c.interleaved,p===null?(i.next=i,yl(c)):(i.next=p.next,p.next=i),c.interleaved=i,Vn(t,u)}function Ri(t,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var c=i.lanes;c&=t.pendingLanes,u|=c,i.lanes=u,Nr(t,u)}}function aa(t,i){var u=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,u===c)){var p=null,h=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};h===null?p=h=T:h=h.next=T,u=u.next}while(u!==null);h===null?p=h=i:h=h.next=i}else p=h=i;u={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:h,shared:c.shared,effects:c.effects},t.updateQueue=u;return}t=u.lastBaseUpdate,t===null?u.firstBaseUpdate=i:t.next=i,u.lastBaseUpdate=i}function Pi(t,i,u,c){var p=t.updateQueue;bn=!1;var h=p.firstBaseUpdate,T=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var _=E,k=_.next;_.next=null,T===null?h=k:T.next=k,T=_;var U=t.alternate;U!==null&&(U=U.updateQueue,E=U.lastBaseUpdate,E!==T&&(E===null?U.firstBaseUpdate=k:E.next=k,U.lastBaseUpdate=_))}if(h!==null){var V=p.baseState;T=0,U=k=_=null,E=h;do{var F=E.lane,z=E.eventTime;if((c&F)===F){U!==null&&(U=U.next={eventTime:z,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var Y=t,Q=E;switch(F=i,z=u,Q.tag){case 1:if(Y=Q.payload,typeof Y=="function"){V=Y.call(z,V,F);break e}V=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=Q.payload,F=typeof Y=="function"?Y.call(z,V,F):Y,F==null)break e;V=W({},V,F);break e;case 2:bn=!0}}E.callback!==null&&E.lane!==0&&(t.flags|=64,F=p.effects,F===null?p.effects=[E]:F.push(E))}else z={eventTime:z,lane:F,tag:E.tag,payload:E.payload,callback:E.callback,next:null},U===null?(k=U=z,_=V):U=U.next=z,T|=F;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;F=E,E=F.next,F.next=null,p.lastBaseUpdate=F,p.shared.pending=null}}while(!0);if(U===null&&(_=V),p.baseState=_,p.firstBaseUpdate=k,p.lastBaseUpdate=U,i=p.shared.interleaved,i!==null){p=i;do T|=p.lane,p=p.next;while(p!==i)}else h===null&&(p.shared.lanes=0);ht|=T,t.lanes=T,t.memoizedState=V}}function ca(t,i,u){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var c=t[i],p=c.callback;if(p!==null){if(c.callback=null,c=u,typeof p!="function")throw Error(o(191,p));p.call(c)}}}var Do={},Pn=Qn(Do),Lo=Qn(Do),Fo=Qn(Do);function mt(t){if(t===Do)throw Error(o(174));return t}function Cl(t,i){switch(_e(Fo,i),_e(Lo,t),_e(Pn,Do),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Tr(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=Tr(i,t)}we(Pn),_e(Pn,i)}function Jt(){we(Pn),we(Lo),we(Fo)}function fa(t){mt(Fo.current);var i=mt(Pn.current),u=Tr(i,t.type);i!==u&&(_e(Lo,t),_e(Pn,u))}function Tl(t){Lo.current===t&&(we(Pn),we(Lo))}var Ne=Qn(0);function ki(t){for(var i=t;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Sl=[];function El(){for(var t=0;t<Sl.length;t++)Sl[t]._workInProgressVersionPrimary=null;Sl.length=0}var Ni=J.ReactCurrentDispatcher,_l=J.ReactCurrentBatchConfig,gt=0,De=null,He=null,ze=null,Di=!1,Uo=!1,Vo=0,em=0;function Xe(){throw Error(o(321))}function xl(t,i){if(i===null)return!1;for(var u=0;u<i.length&&u<t.length;u++)if(!En(t[u],i[u]))return!1;return!0}function wl(t,i,u,c,p,h){if(gt=h,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ni.current=t===null||t.memoizedState===null?im:rm,t=u(c,p),Uo){h=0;do{if(Uo=!1,Vo=0,25<=h)throw Error(o(301));h+=1,ze=He=null,i.updateQueue=null,Ni.current=lm,t=u(c,p)}while(Uo)}if(Ni.current=Ui,i=He!==null&&He.next!==null,gt=0,ze=He=De=null,Di=!1,i)throw Error(o(300));return t}function Il(){var t=Vo!==0;return Vo=0,t}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?De.memoizedState=ze=t:ze=ze.next=t,ze}function yn(){if(He===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var i=ze===null?De.memoizedState:ze.next;if(i!==null)ze=i,He=t;else{if(t===null)throw Error(o(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},ze===null?De.memoizedState=ze=t:ze=ze.next=t}return ze}function Go(t,i){return typeof i=="function"?i(t):i}function Al(t){var i=yn(),u=i.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=t;var c=He,p=c.baseQueue,h=u.pending;if(h!==null){if(p!==null){var T=p.next;p.next=h.next,h.next=T}c.baseQueue=p=h,u.pending=null}if(p!==null){h=p.next,c=c.baseState;var E=T=null,_=null,k=h;do{var U=k.lane;if((gt&U)===U)_!==null&&(_=_.next={lane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),c=k.hasEagerState?k.eagerState:t(c,k.action);else{var V={lane:U,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null};_===null?(E=_=V,T=c):_=_.next=V,De.lanes|=U,ht|=U}k=k.next}while(k!==null&&k!==h);_===null?T=c:_.next=E,En(c,i.memoizedState)||(ln=!0),i.memoizedState=c,i.baseState=T,i.baseQueue=_,u.lastRenderedState=c}if(t=u.interleaved,t!==null){p=t;do h=p.lane,De.lanes|=h,ht|=h,p=p.next;while(p!==t)}else p===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function Ml(t){var i=yn(),u=i.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=t;var c=u.dispatch,p=u.pending,h=i.memoizedState;if(p!==null){u.pending=null;var T=p=p.next;do h=t(h,T.action),T=T.next;while(T!==p);En(h,i.memoizedState)||(ln=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),u.lastRenderedState=h}return[h,c]}function da(){}function pa(t,i){var u=De,c=yn(),p=i(),h=!En(c.memoizedState,p);if(h&&(c.memoizedState=p,ln=!0),c=c.queue,Rl(ha.bind(null,u,c,t),[t]),c.getSnapshot!==i||h||ze!==null&&ze.memoizedState.tag&1){if(u.flags|=2048,Bo(9,ga.bind(null,u,c,p,i),void 0,null),$e===null)throw Error(o(349));(gt&30)!==0||ma(u,i,p)}return p}function ma(t,i,u){t.flags|=16384,t={getSnapshot:i,value:u},i=De.updateQueue,i===null?(i={lastEffect:null,stores:null},De.updateQueue=i,i.stores=[t]):(u=i.stores,u===null?i.stores=[t]:u.push(t))}function ga(t,i,u,c){i.value=u,i.getSnapshot=c,ya(i)&&va(t)}function ha(t,i,u){return u(function(){ya(i)&&va(t)})}function ya(t){var i=t.getSnapshot;t=t.value;try{var u=i();return!En(t,u)}catch{return!0}}function va(t){var i=Vn(t,1);i!==null&&An(i,t,1,-1)}function Ca(t){var i=kn();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:t},i.queue=t,t=t.dispatch=om.bind(null,De,t),[i.memoizedState,t]}function Bo(t,i,u,c){return t={tag:t,create:i,destroy:u,deps:c,next:null},i=De.updateQueue,i===null?(i={lastEffect:null,stores:null},De.updateQueue=i,i.lastEffect=t.next=t):(u=i.lastEffect,u===null?i.lastEffect=t.next=t:(c=u.next,u.next=t,t.next=c,i.lastEffect=t)),t}function Ta(){return yn().memoizedState}function Li(t,i,u,c){var p=kn();De.flags|=t,p.memoizedState=Bo(1|i,u,void 0,c===void 0?null:c)}function Fi(t,i,u,c){var p=yn();c=c===void 0?null:c;var h=void 0;if(He!==null){var T=He.memoizedState;if(h=T.destroy,c!==null&&xl(c,T.deps)){p.memoizedState=Bo(i,u,h,c);return}}De.flags|=t,p.memoizedState=Bo(1|i,u,h,c)}function Sa(t,i){return Li(8390656,8,t,i)}function Rl(t,i){return Fi(2048,8,t,i)}function Ea(t,i){return Fi(4,2,t,i)}function _a(t,i){return Fi(4,4,t,i)}function xa(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function wa(t,i,u){return u=u!=null?u.concat([t]):null,Fi(4,4,xa.bind(null,i,t),u)}function Pl(){}function Ia(t,i){var u=yn();i=i===void 0?null:i;var c=u.memoizedState;return c!==null&&i!==null&&xl(i,c[1])?c[0]:(u.memoizedState=[t,i],t)}function Aa(t,i){var u=yn();i=i===void 0?null:i;var c=u.memoizedState;return c!==null&&i!==null&&xl(i,c[1])?c[0]:(t=t(),u.memoizedState=[t,i],t)}function Ma(t,i,u){return(gt&21)===0?(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=u):(En(u,i)||(u=iu(),De.lanes|=u,ht|=u,t.baseState=!0),i)}function nm(t,i){var u=Te;Te=u!==0&&4>u?u:4,t(!0);var c=_l.transition;_l.transition={};try{t(!1),i()}finally{Te=u,_l.transition=c}}function Ra(){return yn().memoizedState}function tm(t,i,u){var c=ot(t);if(u={lane:c,action:u,hasEagerState:!1,eagerState:null,next:null},Pa(t))ka(i,u);else if(u=sa(t,i,u,c),u!==null){var p=tn();An(u,t,c,p),Na(u,i,c)}}function om(t,i,u){var c=ot(t),p={lane:c,action:u,hasEagerState:!1,eagerState:null,next:null};if(Pa(t))ka(i,p);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var T=i.lastRenderedState,E=h(T,u);if(p.hasEagerState=!0,p.eagerState=E,En(E,T)){var _=i.interleaved;_===null?(p.next=p,yl(i)):(p.next=_.next,_.next=p),i.interleaved=p;return}}catch{}finally{}u=sa(t,i,p,c),u!==null&&(p=tn(),An(u,t,c,p),Na(u,i,c))}}function Pa(t){var i=t.alternate;return t===De||i!==null&&i===De}function ka(t,i){Uo=Di=!0;var u=t.pending;u===null?i.next=i:(i.next=u.next,u.next=i),t.pending=i}function Na(t,i,u){if((u&4194240)!==0){var c=i.lanes;c&=t.pendingLanes,u|=c,i.lanes=u,Nr(t,u)}}var Ui={readContext:hn,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},im={readContext:hn,useCallback:function(t,i){return kn().memoizedState=[t,i===void 0?null:i],t},useContext:hn,useEffect:Sa,useImperativeHandle:function(t,i,u){return u=u!=null?u.concat([t]):null,Li(4194308,4,xa.bind(null,i,t),u)},useLayoutEffect:function(t,i){return Li(4194308,4,t,i)},useInsertionEffect:function(t,i){return Li(4,2,t,i)},useMemo:function(t,i){var u=kn();return i=i===void 0?null:i,t=t(),u.memoizedState=[t,i],t},useReducer:function(t,i,u){var c=kn();return i=u!==void 0?u(i):i,c.memoizedState=c.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},c.queue=t,t=t.dispatch=tm.bind(null,De,t),[c.memoizedState,t]},useRef:function(t){var i=kn();return t={current:t},i.memoizedState=t},useState:Ca,useDebugValue:Pl,useDeferredValue:function(t){return kn().memoizedState=t},useTransition:function(){var t=Ca(!1),i=t[0];return t=nm.bind(null,t[1]),kn().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,u){var c=De,p=kn();if(Me){if(u===void 0)throw Error(o(407));u=u()}else{if(u=i(),$e===null)throw Error(o(349));(gt&30)!==0||ma(c,i,u)}p.memoizedState=u;var h={value:u,getSnapshot:i};return p.queue=h,Sa(ha.bind(null,c,h,t),[t]),c.flags|=2048,Bo(9,ga.bind(null,c,h,u,i),void 0,null),u},useId:function(){var t=kn(),i=$e.identifierPrefix;if(Me){var u=Un,c=Fn;u=(c&~(1<<32-Sn(c)-1)).toString(32)+u,i=":"+i+"R"+u,u=Vo++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=em++,i=":"+i+"r"+u.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},rm={readContext:hn,useCallback:Ia,useContext:hn,useEffect:Rl,useImperativeHandle:wa,useInsertionEffect:Ea,useLayoutEffect:_a,useMemo:Aa,useReducer:Al,useRef:Ta,useState:function(){return Al(Go)},useDebugValue:Pl,useDeferredValue:function(t){var i=yn();return Ma(i,He.memoizedState,t)},useTransition:function(){var t=Al(Go)[0],i=yn().memoizedState;return[t,i]},useMutableSource:da,useSyncExternalStore:pa,useId:Ra,unstable_isNewReconciler:!1},lm={readContext:hn,useCallback:Ia,useContext:hn,useEffect:Rl,useImperativeHandle:wa,useInsertionEffect:Ea,useLayoutEffect:_a,useMemo:Aa,useReducer:Ml,useRef:Ta,useState:function(){return Ml(Go)},useDebugValue:Pl,useDeferredValue:function(t){var i=yn();return He===null?i.memoizedState=t:Ma(i,He.memoizedState,t)},useTransition:function(){var t=Ml(Go)[0],i=yn().memoizedState;return[t,i]},useMutableSource:da,useSyncExternalStore:pa,useId:Ra,unstable_isNewReconciler:!1};function xn(t,i){if(t&&t.defaultProps){i=W({},i),t=t.defaultProps;for(var u in t)i[u]===void 0&&(i[u]=t[u]);return i}return i}function kl(t,i,u,c){i=t.memoizedState,u=u(c,i),u=u==null?i:W({},i,u),t.memoizedState=u,t.lanes===0&&(t.updateQueue.baseState=u)}var Vi={isMounted:function(t){return(t=t._reactInternals)?ut(t)===t:!1},enqueueSetState:function(t,i,u){t=t._reactInternals;var c=tn(),p=ot(t),h=Gn(c,p);h.payload=i,u!=null&&(h.callback=u),i=jn(t,h,p),i!==null&&(An(i,t,p,c),Ri(i,t,p))},enqueueReplaceState:function(t,i,u){t=t._reactInternals;var c=tn(),p=ot(t),h=Gn(c,p);h.tag=1,h.payload=i,u!=null&&(h.callback=u),i=jn(t,h,p),i!==null&&(An(i,t,p,c),Ri(i,t,p))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var u=tn(),c=ot(t),p=Gn(u,c);p.tag=2,i!=null&&(p.callback=i),i=jn(t,p,c),i!==null&&(An(i,t,c,u),Ri(i,t,c))}};function Da(t,i,u,c,p,h,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,h,T):i.prototype&&i.prototype.isPureReactComponent?!wo(u,c)||!wo(p,h):!0}function La(t,i,u){var c=!1,p=Xn,h=i.contextType;return typeof h=="object"&&h!==null?h=hn(h):(p=rn(i)?ct:Qe.current,c=i.contextTypes,h=(c=c!=null)?Vt(t,p):Xn),i=new i(u,h),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Vi,t.stateNode=i,i._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=p,t.__reactInternalMemoizedMaskedChildContext=h),i}function Fa(t,i,u,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,c),i.state!==t&&Vi.enqueueReplaceState(i,i.state,null)}function Nl(t,i,u,c){var p=t.stateNode;p.props=u,p.state=t.memoizedState,p.refs={},vl(t);var h=i.contextType;typeof h=="object"&&h!==null?p.context=hn(h):(h=rn(i)?ct:Qe.current,p.context=Vt(t,h)),p.state=t.memoizedState,h=i.getDerivedStateFromProps,typeof h=="function"&&(kl(t,i,h,u),p.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Vi.enqueueReplaceState(p,p.state,null),Pi(t,u,p,c),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308)}function Wt(t,i){try{var u="",c=i;do u+=de(c),c=c.return;while(c);var p=u}catch(h){p=`
Error generating stack: `+h.message+`
`+h.stack}return{value:t,source:i,stack:p,digest:null}}function Dl(t,i,u){return{value:t,source:null,stack:u??null,digest:i??null}}function Ll(t,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var sm=typeof WeakMap=="function"?WeakMap:Map;function Ua(t,i,u){u=Gn(-1,u),u.tag=3,u.payload={element:null};var c=i.value;return u.callback=function(){Ji||(Ji=!0,Ql=c),Ll(t,i)},u}function Va(t,i,u){u=Gn(-1,u),u.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var p=i.value;u.payload=function(){return c(p)},u.callback=function(){Ll(t,i)}}var h=t.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(u.callback=function(){Ll(t,i),typeof c!="function"&&(nt===null?nt=new Set([this]):nt.add(this));var T=i.stack;this.componentDidCatch(i.value,{componentStack:T!==null?T:""})}),u}function Ga(t,i,u){var c=t.pingCache;if(c===null){c=t.pingCache=new sm;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(u)||(p.add(u),t=Sm.bind(null,t,i,u),i.then(t,t))}function Ba(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function Ha(t,i,u,c,p){return(t.mode&1)===0?(t===i?t.flags|=65536:(t.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=Gn(-1,1),i.tag=2,jn(u,i,1))),u.lanes|=1),t):(t.flags|=65536,t.lanes=p,t)}var um=J.ReactCurrentOwner,ln=!1;function nn(t,i,u,c){i.child=t===null?la(i,null,u,c):qt(i,t.child,u,c)}function qa(t,i,u,c,p){u=u.render;var h=i.ref;return $t(i,p),c=wl(t,i,u,c,h,p),u=Il(),t!==null&&!ln?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~p,Bn(t,i,p)):(Me&&u&&ul(i),i.flags|=1,nn(t,i,c,p),i.child)}function za(t,i,u,c,p){if(t===null){var h=u.type;return typeof h=="function"&&!ts(h)&&h.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=h,$a(t,i,h,c,p)):(t=Xi(u.type,null,c,i,i.mode,p),t.ref=i.ref,t.return=i,i.child=t)}if(h=t.child,(t.lanes&p)===0){var T=h.memoizedProps;if(u=u.compare,u=u!==null?u:wo,u(T,c)&&t.ref===i.ref)return Bn(t,i,p)}return i.flags|=1,t=rt(h,c),t.ref=i.ref,t.return=i,i.child=t}function $a(t,i,u,c,p){if(t!==null){var h=t.memoizedProps;if(wo(h,c)&&t.ref===i.ref)if(ln=!1,i.pendingProps=c=h,(t.lanes&p)!==0)(t.flags&131072)!==0&&(ln=!0);else return i.lanes=t.lanes,Bn(t,i,p)}return Fl(t,i,u,c,p)}function Ja(t,i,u){var c=i.pendingProps,p=c.children,h=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Yt,pn),pn|=u;else{if((u&1073741824)===0)return t=h!==null?h.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,_e(Yt,pn),pn|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=h!==null?h.baseLanes:u,_e(Yt,pn),pn|=c}else h!==null?(c=h.baseLanes|u,i.memoizedState=null):c=u,_e(Yt,pn),pn|=c;return nn(t,i,p,u),i.child}function Wa(t,i){var u=i.ref;(t===null&&u!==null||t!==null&&t.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function Fl(t,i,u,c,p){var h=rn(u)?ct:Qe.current;return h=Vt(i,h),$t(i,p),u=wl(t,i,u,c,h,p),c=Il(),t!==null&&!ln?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~p,Bn(t,i,p)):(Me&&c&&ul(i),i.flags|=1,nn(t,i,u,p),i.child)}function Ka(t,i,u,c,p){if(rn(u)){var h=!0;Si(i)}else h=!1;if($t(i,p),i.stateNode===null)Bi(t,i),La(i,u,c),Nl(i,u,c,p),c=!0;else if(t===null){var T=i.stateNode,E=i.memoizedProps;T.props=E;var _=T.context,k=u.contextType;typeof k=="object"&&k!==null?k=hn(k):(k=rn(u)?ct:Qe.current,k=Vt(i,k));var U=u.getDerivedStateFromProps,V=typeof U=="function"||typeof T.getSnapshotBeforeUpdate=="function";V||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(E!==c||_!==k)&&Fa(i,T,c,k),bn=!1;var F=i.memoizedState;T.state=F,Pi(i,c,T,p),_=i.memoizedState,E!==c||F!==_||on.current||bn?(typeof U=="function"&&(kl(i,u,U,c),_=i.memoizedState),(E=bn||Da(i,u,E,c,F,_,k))?(V||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=_),T.props=c,T.state=_,T.context=k,c=E):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{T=i.stateNode,ua(t,i),E=i.memoizedProps,k=i.type===i.elementType?E:xn(i.type,E),T.props=k,V=i.pendingProps,F=T.context,_=u.contextType,typeof _=="object"&&_!==null?_=hn(_):(_=rn(u)?ct:Qe.current,_=Vt(i,_));var z=u.getDerivedStateFromProps;(U=typeof z=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(E!==V||F!==_)&&Fa(i,T,c,_),bn=!1,F=i.memoizedState,T.state=F,Pi(i,c,T,p);var Y=i.memoizedState;E!==V||F!==Y||on.current||bn?(typeof z=="function"&&(kl(i,u,z,c),Y=i.memoizedState),(k=bn||Da(i,u,k,c,F,Y,_)||!1)?(U||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(c,Y,_),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(c,Y,_)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Y),T.props=c,T.state=Y,T.context=_,c=k):(typeof T.componentDidUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),c=!1)}return Ul(t,i,u,c,h,p)}function Ul(t,i,u,c,p,h){Wa(t,i);var T=(i.flags&128)!==0;if(!c&&!T)return p&&Zu(i,u,!1),Bn(t,i,h);c=i.stateNode,um.current=i;var E=T&&typeof u.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,t!==null&&T?(i.child=qt(i,t.child,null,h),i.child=qt(i,null,E,h)):nn(t,i,E,h),i.memoizedState=c.state,p&&Zu(i,u,!0),i.child}function Ya(t){var i=t.stateNode;i.pendingContext?Qu(t,i.pendingContext,i.pendingContext!==i.context):i.context&&Qu(t,i.context,!1),Cl(t,i.containerInfo)}function Oa(t,i,u,c,p){return Ht(),dl(p),i.flags|=256,nn(t,i,u,c),i.child}var Vl={dehydrated:null,treeContext:null,retryLane:0};function Gl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qa(t,i,u){var c=i.pendingProps,p=Ne.current,h=!1,T=(i.flags&128)!==0,E;if((E=T)||(E=t!==null&&t.memoizedState===null?!1:(p&2)!==0),E?(h=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(p|=1),_e(Ne,p&1),t===null)return fl(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((i.mode&1)===0?i.lanes=1:t.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(T=c.children,t=c.fallback,h?(c=i.mode,h=i.child,T={mode:"hidden",children:T},(c&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=T):h=Zi(T,c,0,null),t=Tt(t,c,u,null),h.return=i,t.return=i,h.sibling=t,i.child=h,i.child.memoizedState=Gl(u),i.memoizedState=Vl,t):Bl(i,T));if(p=t.memoizedState,p!==null&&(E=p.dehydrated,E!==null))return am(t,i,T,c,E,p,u);if(h){h=c.fallback,T=i.mode,p=t.child,E=p.sibling;var _={mode:"hidden",children:c.children};return(T&1)===0&&i.child!==p?(c=i.child,c.childLanes=0,c.pendingProps=_,i.deletions=null):(c=rt(p,_),c.subtreeFlags=p.subtreeFlags&14680064),E!==null?h=rt(E,h):(h=Tt(h,T,u,null),h.flags|=2),h.return=i,c.return=i,c.sibling=h,i.child=c,c=h,h=i.child,T=t.child.memoizedState,T=T===null?Gl(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},h.memoizedState=T,h.childLanes=t.childLanes&~u,i.memoizedState=Vl,c}return h=t.child,t=h.sibling,c=rt(h,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=u),c.return=i,c.sibling=null,t!==null&&(u=i.deletions,u===null?(i.deletions=[t],i.flags|=16):u.push(t)),i.child=c,i.memoizedState=null,c}function Bl(t,i){return i=Zi({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function Gi(t,i,u,c){return c!==null&&dl(c),qt(i,t.child,null,u),t=Bl(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function am(t,i,u,c,p,h,T){if(u)return i.flags&256?(i.flags&=-257,c=Dl(Error(o(422))),Gi(t,i,T,c)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(h=c.fallback,p=i.mode,c=Zi({mode:"visible",children:c.children},p,0,null),h=Tt(h,p,T,null),h.flags|=2,c.return=i,h.return=i,c.sibling=h,i.child=c,(i.mode&1)!==0&&qt(i,t.child,null,T),i.child.memoizedState=Gl(T),i.memoizedState=Vl,h);if((i.mode&1)===0)return Gi(t,i,T,null);if(p.data==="$!"){if(c=p.nextSibling&&p.nextSibling.dataset,c)var E=c.dgst;return c=E,h=Error(o(419)),c=Dl(h,c,void 0),Gi(t,i,T,c)}if(E=(T&t.childLanes)!==0,ln||E){if(c=$e,c!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(c.suspendedLanes|T))!==0?0:p,p!==0&&p!==h.retryLane&&(h.retryLane=p,Vn(t,p),An(c,t,p,-1))}return ns(),c=Dl(Error(o(421))),Gi(t,i,T,c)}return p.data==="$?"?(i.flags|=128,i.child=t.child,i=Em.bind(null,t),p._reactRetry=i,null):(t=h.treeContext,dn=On(p.nextSibling),fn=i,Me=!0,_n=null,t!==null&&(mn[gn++]=Fn,mn[gn++]=Un,mn[gn++]=ft,Fn=t.id,Un=t.overflow,ft=i),i=Bl(i,c.children),i.flags|=4096,i)}function Xa(t,i,u){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),hl(t.return,i,u)}function Hl(t,i,u,c,p){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:u,tailMode:p}:(h.isBackwards=i,h.rendering=null,h.renderingStartTime=0,h.last=c,h.tail=u,h.tailMode=p)}function Za(t,i,u){var c=i.pendingProps,p=c.revealOrder,h=c.tail;if(nn(t,i,c.children,u),c=Ne.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xa(t,u,i);else if(t.tag===19)Xa(t,u,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(_e(Ne,c),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(u=i.child,p=null;u!==null;)t=u.alternate,t!==null&&ki(t)===null&&(p=u),u=u.sibling;u=p,u===null?(p=i.child,i.child=null):(p=u.sibling,u.sibling=null),Hl(i,!1,p,u,h);break;case"backwards":for(u=null,p=i.child,i.child=null;p!==null;){if(t=p.alternate,t!==null&&ki(t)===null){i.child=p;break}t=p.sibling,p.sibling=u,u=p,p=t}Hl(i,!0,u,null,h);break;case"together":Hl(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Bi(t,i){(i.mode&1)===0&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function Bn(t,i,u){if(t!==null&&(i.dependencies=t.dependencies),ht|=i.lanes,(u&i.childLanes)===0)return null;if(t!==null&&i.child!==t.child)throw Error(o(153));if(i.child!==null){for(t=i.child,u=rt(t,t.pendingProps),i.child=u,u.return=i;t.sibling!==null;)t=t.sibling,u=u.sibling=rt(t,t.pendingProps),u.return=i;u.sibling=null}return i.child}function cm(t,i,u){switch(i.tag){case 3:Ya(i),Ht();break;case 5:fa(i);break;case 1:rn(i.type)&&Si(i);break;case 4:Cl(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,p=i.memoizedProps.value;_e(Ai,c._currentValue),c._currentValue=p;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(_e(Ne,Ne.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?Qa(t,i,u):(_e(Ne,Ne.current&1),t=Bn(t,i,u),t!==null?t.sibling:null);_e(Ne,Ne.current&1);break;case 19:if(c=(u&i.childLanes)!==0,(t.flags&128)!==0){if(c)return Za(t,i,u);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),_e(Ne,Ne.current),c)break;return null;case 22:case 23:return i.lanes=0,Ja(t,i,u)}return Bn(t,i,u)}var ba,ql,ja,ec;ba=function(t,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},ql=function(){},ja=function(t,i,u,c){var p=t.memoizedProps;if(p!==c){t=i.stateNode,mt(Pn.current);var h=null;switch(u){case"input":p=st(t,p),c=st(t,c),h=[];break;case"select":p=W({},p,{value:void 0}),c=W({},c,{value:void 0}),h=[];break;case"textarea":p=Cr(t,p),c=Cr(t,c),h=[];break;default:typeof p.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=vi)}Sr(u,c);var T;u=null;for(k in p)if(!c.hasOwnProperty(k)&&p.hasOwnProperty(k)&&p[k]!=null)if(k==="style"){var E=p[k];for(T in E)E.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else k!=="dangerouslySetInnerHTML"&&k!=="children"&&k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(a.hasOwnProperty(k)?h||(h=[]):(h=h||[]).push(k,null));for(k in c){var _=c[k];if(E=p!=null?p[k]:void 0,c.hasOwnProperty(k)&&_!==E&&(_!=null||E!=null))if(k==="style")if(E){for(T in E)!E.hasOwnProperty(T)||_&&_.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in _)_.hasOwnProperty(T)&&E[T]!==_[T]&&(u||(u={}),u[T]=_[T])}else u||(h||(h=[]),h.push(k,u)),u=_;else k==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,E=E?E.__html:void 0,_!=null&&E!==_&&(h=h||[]).push(k,_)):k==="children"?typeof _!="string"&&typeof _!="number"||(h=h||[]).push(k,""+_):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&(a.hasOwnProperty(k)?(_!=null&&k==="onScroll"&&xe("scroll",t),h||E===_||(h=[])):(h=h||[]).push(k,_))}u&&(h=h||[]).push("style",u);var k=h;(i.updateQueue=k)&&(i.flags|=4)}},ec=function(t,i,u,c){u!==c&&(i.flags|=4)};function Ho(t,i){if(!Me)switch(t.tailMode){case"hidden":i=t.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?t.tail=null:u.sibling=null;break;case"collapsed":u=t.tail;for(var c=null;u!==null;)u.alternate!==null&&(c=u),u=u.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Ze(t){var i=t.alternate!==null&&t.alternate.child===t.child,u=0,c=0;if(i)for(var p=t.child;p!==null;)u|=p.lanes|p.childLanes,c|=p.subtreeFlags&14680064,c|=p.flags&14680064,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)u|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=c,t.childLanes=u,i}function fm(t,i,u){var c=i.pendingProps;switch(al(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(i),null;case 1:return rn(i.type)&&Ti(),Ze(i),null;case 3:return c=i.stateNode,Jt(),we(on),we(Qe),El(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(wi(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,_n!==null&&(bl(_n),_n=null))),ql(t,i),Ze(i),null;case 5:Tl(i);var p=mt(Fo.current);if(u=i.type,t!==null&&i.stateNode!=null)ja(t,i,u,c,p),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(o(166));return Ze(i),null}if(t=mt(Pn.current),wi(i)){c=i.stateNode,u=i.type;var h=i.memoizedProps;switch(c[Rn]=i,c[Po]=h,t=(i.mode&1)!==0,u){case"dialog":xe("cancel",c),xe("close",c);break;case"iframe":case"object":case"embed":xe("load",c);break;case"video":case"audio":for(p=0;p<Ao.length;p++)xe(Ao[p],c);break;case"source":xe("error",c);break;case"img":case"image":case"link":xe("error",c),xe("load",c);break;case"details":xe("toggle",c);break;case"input":Ls(c,h),xe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!h.multiple},xe("invalid",c);break;case"textarea":Vs(c,h),xe("invalid",c)}Sr(u,h),p=null;for(var T in h)if(h.hasOwnProperty(T)){var E=h[T];T==="children"?typeof E=="string"?c.textContent!==E&&(h.suppressHydrationWarning!==!0&&yi(c.textContent,E,t),p=["children",E]):typeof E=="number"&&c.textContent!==""+E&&(h.suppressHydrationWarning!==!0&&yi(c.textContent,E,t),p=["children",""+E]):a.hasOwnProperty(T)&&E!=null&&T==="onScroll"&&xe("scroll",c)}switch(u){case"input":We(c),Us(c,h,!0);break;case"textarea":We(c),Bs(c);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(c.onclick=vi)}c=p,i.updateQueue=c,c!==null&&(i.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Hs(u)),t==="http://www.w3.org/1999/xhtml"?u==="script"?(t=T.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=T.createElement(u,{is:c.is}):(t=T.createElement(u),u==="select"&&(T=t,c.multiple?T.multiple=!0:c.size&&(T.size=c.size))):t=T.createElementNS(t,u),t[Rn]=i,t[Po]=c,ba(t,i,!1,!1),i.stateNode=t;e:{switch(T=Er(u,c),u){case"dialog":xe("cancel",t),xe("close",t),p=c;break;case"iframe":case"object":case"embed":xe("load",t),p=c;break;case"video":case"audio":for(p=0;p<Ao.length;p++)xe(Ao[p],t);p=c;break;case"source":xe("error",t),p=c;break;case"img":case"image":case"link":xe("error",t),xe("load",t),p=c;break;case"details":xe("toggle",t),p=c;break;case"input":Ls(t,c),p=st(t,c),xe("invalid",t);break;case"option":p=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},p=W({},c,{value:void 0}),xe("invalid",t);break;case"textarea":Vs(t,c),p=Cr(t,c),xe("invalid",t);break;default:p=c}Sr(u,p),E=p;for(h in E)if(E.hasOwnProperty(h)){var _=E[h];h==="style"?$s(t,_):h==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&qs(t,_)):h==="children"?typeof _=="string"?(u!=="textarea"||_!=="")&&so(t,_):typeof _=="number"&&so(t,""+_):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(a.hasOwnProperty(h)?_!=null&&h==="onScroll"&&xe("scroll",t):_!=null&&H(t,h,_,T))}switch(u){case"input":We(t),Us(t,c,!1);break;case"textarea":We(t),Bs(t);break;case"option":c.value!=null&&t.setAttribute("value",""+ve(c.value));break;case"select":t.multiple=!!c.multiple,h=c.value,h!=null?wt(t,!!c.multiple,h,!1):c.defaultValue!=null&&wt(t,!!c.multiple,c.defaultValue,!0);break;default:typeof p.onClick=="function"&&(t.onclick=vi)}switch(u){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ze(i),null;case 6:if(t&&i.stateNode!=null)ec(t,i,t.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(o(166));if(u=mt(Fo.current),mt(Pn.current),wi(i)){if(c=i.stateNode,u=i.memoizedProps,c[Rn]=i,(h=c.nodeValue!==u)&&(t=fn,t!==null))switch(t.tag){case 3:yi(c.nodeValue,u,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yi(c.nodeValue,u,(t.mode&1)!==0)}h&&(i.flags|=4)}else c=(u.nodeType===9?u:u.ownerDocument).createTextNode(c),c[Rn]=i,i.stateNode=c}return Ze(i),null;case 13:if(we(Ne),c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&dn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)oa(),Ht(),i.flags|=98560,h=!1;else if(h=wi(i),c!==null&&c.dehydrated!==null){if(t===null){if(!h)throw Error(o(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));h[Rn]=i}else Ht(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ze(i),h=!1}else _n!==null&&(bl(_n),_n=null),h=!0;if(!h)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(t===null||(Ne.current&1)!==0?qe===0&&(qe=3):ns())),i.updateQueue!==null&&(i.flags|=4),Ze(i),null);case 4:return Jt(),ql(t,i),t===null&&Mo(i.stateNode.containerInfo),Ze(i),null;case 10:return gl(i.type._context),Ze(i),null;case 17:return rn(i.type)&&Ti(),Ze(i),null;case 19:if(we(Ne),h=i.memoizedState,h===null)return Ze(i),null;if(c=(i.flags&128)!==0,T=h.rendering,T===null)if(c)Ho(h,!1);else{if(qe!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(T=ki(t),T!==null){for(i.flags|=128,Ho(h,!1),c=T.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=u,u=i.child;u!==null;)h=u,t=c,h.flags&=14680066,T=h.alternate,T===null?(h.childLanes=0,h.lanes=t,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=T.childLanes,h.lanes=T.lanes,h.child=T.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=T.memoizedProps,h.memoizedState=T.memoizedState,h.updateQueue=T.updateQueue,h.type=T.type,t=T.dependencies,h.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),u=u.sibling;return _e(Ne,Ne.current&1|2),i.child}t=t.sibling}h.tail!==null&&Fe()>Ot&&(i.flags|=128,c=!0,Ho(h,!1),i.lanes=4194304)}else{if(!c)if(t=ki(T),t!==null){if(i.flags|=128,c=!0,u=t.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),Ho(h,!0),h.tail===null&&h.tailMode==="hidden"&&!T.alternate&&!Me)return Ze(i),null}else 2*Fe()-h.renderingStartTime>Ot&&u!==1073741824&&(i.flags|=128,c=!0,Ho(h,!1),i.lanes=4194304);h.isBackwards?(T.sibling=i.child,i.child=T):(u=h.last,u!==null?u.sibling=T:i.child=T,h.last=T)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Fe(),i.sibling=null,u=Ne.current,_e(Ne,c?u&1|2:u&1),i):(Ze(i),null);case 22:case 23:return es(),c=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(pn&1073741824)!==0&&(Ze(i),i.subtreeFlags&6&&(i.flags|=8192)):Ze(i),null;case 24:return null;case 25:return null}throw Error(o(156,i.tag))}function dm(t,i){switch(al(i),i.tag){case 1:return rn(i.type)&&Ti(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Jt(),we(on),we(Qe),El(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 5:return Tl(i),null;case 13:if(we(Ne),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(o(340));Ht()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return we(Ne),null;case 4:return Jt(),null;case 10:return gl(i.type._context),null;case 22:case 23:return es(),null;case 24:return null;default:return null}}var Hi=!1,be=!1,pm=typeof WeakSet=="function"?WeakSet:Set,K=null;function Kt(t,i){var u=t.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(c){Le(t,i,c)}else u.current=null}function zl(t,i,u){try{u()}catch(c){Le(t,i,c)}}var nc=!1;function mm(t,i){if(el=li,t=Du(),Kr(t)){if("selectionStart"in t)var u={start:t.selectionStart,end:t.selectionEnd};else e:{u=(u=t.ownerDocument)&&u.defaultView||window;var c=u.getSelection&&u.getSelection();if(c&&c.rangeCount!==0){u=c.anchorNode;var p=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{u.nodeType,h.nodeType}catch{u=null;break e}var T=0,E=-1,_=-1,k=0,U=0,V=t,F=null;n:for(;;){for(var z;V!==u||p!==0&&V.nodeType!==3||(E=T+p),V!==h||c!==0&&V.nodeType!==3||(_=T+c),V.nodeType===3&&(T+=V.nodeValue.length),(z=V.firstChild)!==null;)F=V,V=z;for(;;){if(V===t)break n;if(F===u&&++k===p&&(E=T),F===h&&++U===c&&(_=T),(z=V.nextSibling)!==null)break;V=F,F=V.parentNode}V=z}u=E===-1||_===-1?null:{start:E,end:_}}else u=null}u=u||{start:0,end:0}}else u=null;for(nl={focusedElem:t,selectionRange:u},li=!1,K=i;K!==null;)if(i=K,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,K=t;else for(;K!==null;){i=K;try{var Y=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var Q=Y.memoizedProps,Ue=Y.memoizedState,M=i.stateNode,x=M.getSnapshotBeforeUpdate(i.elementType===i.type?Q:xn(i.type,Q),Ue);M.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var R=i.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(G){Le(i,i.return,G)}if(t=i.sibling,t!==null){t.return=i.return,K=t;break}K=i.return}return Y=nc,nc=!1,Y}function qo(t,i,u){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&t)===t){var h=p.destroy;p.destroy=void 0,h!==void 0&&zl(i,u,h)}p=p.next}while(p!==c)}}function qi(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&t)===t){var c=u.create;u.destroy=c()}u=u.next}while(u!==i)}}function $l(t){var i=t.ref;if(i!==null){var u=t.stateNode;switch(t.tag){case 5:t=u;break;default:t=u}typeof i=="function"?i(t):i.current=t}}function tc(t){var i=t.alternate;i!==null&&(t.alternate=null,tc(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[Rn],delete i[Po],delete i[rl],delete i[Xp],delete i[Zp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oc(t){return t.tag===5||t.tag===3||t.tag===4}function ic(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oc(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jl(t,i,u){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(t,i):u.insertBefore(t,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(t,u)):(i=u,i.appendChild(t)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=vi));else if(c!==4&&(t=t.child,t!==null))for(Jl(t,i,u),t=t.sibling;t!==null;)Jl(t,i,u),t=t.sibling}function Wl(t,i,u){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?u.insertBefore(t,i):u.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Wl(t,i,u),t=t.sibling;t!==null;)Wl(t,i,u),t=t.sibling}var Ke=null,wn=!1;function et(t,i,u){for(u=u.child;u!==null;)rc(t,i,u),u=u.sibling}function rc(t,i,u){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(ei,u)}catch{}switch(u.tag){case 5:be||Kt(u,i);case 6:var c=Ke,p=wn;Ke=null,et(t,i,u),Ke=c,wn=p,Ke!==null&&(wn?(t=Ke,u=u.stateNode,t.nodeType===8?t.parentNode.removeChild(u):t.removeChild(u)):Ke.removeChild(u.stateNode));break;case 18:Ke!==null&&(wn?(t=Ke,u=u.stateNode,t.nodeType===8?il(t.parentNode,u):t.nodeType===1&&il(t,u),Co(t)):il(Ke,u.stateNode));break;case 4:c=Ke,p=wn,Ke=u.stateNode.containerInfo,wn=!0,et(t,i,u),Ke=c,wn=p;break;case 0:case 11:case 14:case 15:if(!be&&(c=u.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){p=c=c.next;do{var h=p,T=h.destroy;h=h.tag,T!==void 0&&((h&2)!==0||(h&4)!==0)&&zl(u,i,T),p=p.next}while(p!==c)}et(t,i,u);break;case 1:if(!be&&(Kt(u,i),c=u.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=u.memoizedProps,c.state=u.memoizedState,c.componentWillUnmount()}catch(E){Le(u,i,E)}et(t,i,u);break;case 21:et(t,i,u);break;case 22:u.mode&1?(be=(c=be)||u.memoizedState!==null,et(t,i,u),be=c):et(t,i,u);break;default:et(t,i,u)}}function lc(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var u=t.stateNode;u===null&&(u=t.stateNode=new pm),i.forEach(function(c){var p=_m.bind(null,t,c);u.has(c)||(u.add(c),c.then(p,p))})}}function In(t,i){var u=i.deletions;if(u!==null)for(var c=0;c<u.length;c++){var p=u[c];try{var h=t,T=i,E=T;e:for(;E!==null;){switch(E.tag){case 5:Ke=E.stateNode,wn=!1;break e;case 3:Ke=E.stateNode.containerInfo,wn=!0;break e;case 4:Ke=E.stateNode.containerInfo,wn=!0;break e}E=E.return}if(Ke===null)throw Error(o(160));rc(h,T,p),Ke=null,wn=!1;var _=p.alternate;_!==null&&(_.return=null),p.return=null}catch(k){Le(p,i,k)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)sc(i,t),i=i.sibling}function sc(t,i){var u=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(In(i,t),Nn(t),c&4){try{qo(3,t,t.return),qi(3,t)}catch(Q){Le(t,t.return,Q)}try{qo(5,t,t.return)}catch(Q){Le(t,t.return,Q)}}break;case 1:In(i,t),Nn(t),c&512&&u!==null&&Kt(u,u.return);break;case 5:if(In(i,t),Nn(t),c&512&&u!==null&&Kt(u,u.return),t.flags&32){var p=t.stateNode;try{so(p,"")}catch(Q){Le(t,t.return,Q)}}if(c&4&&(p=t.stateNode,p!=null)){var h=t.memoizedProps,T=u!==null?u.memoizedProps:h,E=t.type,_=t.updateQueue;if(t.updateQueue=null,_!==null)try{E==="input"&&h.type==="radio"&&h.name!=null&&Fs(p,h),Er(E,T);var k=Er(E,h);for(T=0;T<_.length;T+=2){var U=_[T],V=_[T+1];U==="style"?$s(p,V):U==="dangerouslySetInnerHTML"?qs(p,V):U==="children"?so(p,V):H(p,U,V,k)}switch(E){case"input":yr(p,h);break;case"textarea":Gs(p,h);break;case"select":var F=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!h.multiple;var z=h.value;z!=null?wt(p,!!h.multiple,z,!1):F!==!!h.multiple&&(h.defaultValue!=null?wt(p,!!h.multiple,h.defaultValue,!0):wt(p,!!h.multiple,h.multiple?[]:"",!1))}p[Po]=h}catch(Q){Le(t,t.return,Q)}}break;case 6:if(In(i,t),Nn(t),c&4){if(t.stateNode===null)throw Error(o(162));p=t.stateNode,h=t.memoizedProps;try{p.nodeValue=h}catch(Q){Le(t,t.return,Q)}}break;case 3:if(In(i,t),Nn(t),c&4&&u!==null&&u.memoizedState.isDehydrated)try{Co(i.containerInfo)}catch(Q){Le(t,t.return,Q)}break;case 4:In(i,t),Nn(t);break;case 13:In(i,t),Nn(t),p=t.child,p.flags&8192&&(h=p.memoizedState!==null,p.stateNode.isHidden=h,!h||p.alternate!==null&&p.alternate.memoizedState!==null||(Ol=Fe())),c&4&&lc(t);break;case 22:if(U=u!==null&&u.memoizedState!==null,t.mode&1?(be=(k=be)||U,In(i,t),be=k):In(i,t),Nn(t),c&8192){if(k=t.memoizedState!==null,(t.stateNode.isHidden=k)&&!U&&(t.mode&1)!==0)for(K=t,U=t.child;U!==null;){for(V=K=U;K!==null;){switch(F=K,z=F.child,F.tag){case 0:case 11:case 14:case 15:qo(4,F,F.return);break;case 1:Kt(F,F.return);var Y=F.stateNode;if(typeof Y.componentWillUnmount=="function"){c=F,u=F.return;try{i=c,Y.props=i.memoizedProps,Y.state=i.memoizedState,Y.componentWillUnmount()}catch(Q){Le(c,u,Q)}}break;case 5:Kt(F,F.return);break;case 22:if(F.memoizedState!==null){cc(V);continue}}z!==null?(z.return=F,K=z):cc(V)}U=U.sibling}e:for(U=null,V=t;;){if(V.tag===5){if(U===null){U=V;try{p=V.stateNode,k?(h=p.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(E=V.stateNode,_=V.memoizedProps.style,T=_!=null&&_.hasOwnProperty("display")?_.display:null,E.style.display=zs("display",T))}catch(Q){Le(t,t.return,Q)}}}else if(V.tag===6){if(U===null)try{V.stateNode.nodeValue=k?"":V.memoizedProps}catch(Q){Le(t,t.return,Q)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===t)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===t)break e;for(;V.sibling===null;){if(V.return===null||V.return===t)break e;U===V&&(U=null),V=V.return}U===V&&(U=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:In(i,t),Nn(t),c&4&&lc(t);break;case 21:break;default:In(i,t),Nn(t)}}function Nn(t){var i=t.flags;if(i&2){try{e:{for(var u=t.return;u!==null;){if(oc(u)){var c=u;break e}u=u.return}throw Error(o(160))}switch(c.tag){case 5:var p=c.stateNode;c.flags&32&&(so(p,""),c.flags&=-33);var h=ic(t);Wl(t,h,p);break;case 3:case 4:var T=c.stateNode.containerInfo,E=ic(t);Jl(t,E,T);break;default:throw Error(o(161))}}catch(_){Le(t,t.return,_)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function gm(t,i,u){K=t,uc(t)}function uc(t,i,u){for(var c=(t.mode&1)!==0;K!==null;){var p=K,h=p.child;if(p.tag===22&&c){var T=p.memoizedState!==null||Hi;if(!T){var E=p.alternate,_=E!==null&&E.memoizedState!==null||be;E=Hi;var k=be;if(Hi=T,(be=_)&&!k)for(K=p;K!==null;)T=K,_=T.child,T.tag===22&&T.memoizedState!==null?fc(p):_!==null?(_.return=T,K=_):fc(p);for(;h!==null;)K=h,uc(h),h=h.sibling;K=p,Hi=E,be=k}ac(t)}else(p.subtreeFlags&8772)!==0&&h!==null?(h.return=p,K=h):ac(t)}}function ac(t){for(;K!==null;){var i=K;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:be||qi(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!be)if(u===null)c.componentDidMount();else{var p=i.elementType===i.type?u.memoizedProps:xn(i.type,u.memoizedProps);c.componentDidUpdate(p,u.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var h=i.updateQueue;h!==null&&ca(i,h,c);break;case 3:var T=i.updateQueue;if(T!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}ca(i,T,u)}break;case 5:var E=i.stateNode;if(u===null&&i.flags&4){u=E;var _=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&u.focus();break;case"img":_.src&&(u.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var k=i.alternate;if(k!==null){var U=k.memoizedState;if(U!==null){var V=U.dehydrated;V!==null&&Co(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}be||i.flags&512&&$l(i)}catch(F){Le(i,i.return,F)}}if(i===t){K=null;break}if(u=i.sibling,u!==null){u.return=i.return,K=u;break}K=i.return}}function cc(t){for(;K!==null;){var i=K;if(i===t){K=null;break}var u=i.sibling;if(u!==null){u.return=i.return,K=u;break}K=i.return}}function fc(t){for(;K!==null;){var i=K;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{qi(4,i)}catch(_){Le(i,u,_)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var p=i.return;try{c.componentDidMount()}catch(_){Le(i,p,_)}}var h=i.return;try{$l(i)}catch(_){Le(i,h,_)}break;case 5:var T=i.return;try{$l(i)}catch(_){Le(i,T,_)}}}catch(_){Le(i,i.return,_)}if(i===t){K=null;break}var E=i.sibling;if(E!==null){E.return=i.return,K=E;break}K=i.return}}var hm=Math.ceil,zi=J.ReactCurrentDispatcher,Kl=J.ReactCurrentOwner,vn=J.ReactCurrentBatchConfig,ge=0,$e=null,Ge=null,Ye=0,pn=0,Yt=Qn(0),qe=0,zo=null,ht=0,$i=0,Yl=0,$o=null,sn=null,Ol=0,Ot=1/0,Hn=null,Ji=!1,Ql=null,nt=null,Wi=!1,tt=null,Ki=0,Jo=0,Xl=null,Yi=-1,Oi=0;function tn(){return(ge&6)!==0?Fe():Yi!==-1?Yi:Yi=Fe()}function ot(t){return(t.mode&1)===0?1:(ge&2)!==0&&Ye!==0?Ye&-Ye:jp.transition!==null?(Oi===0&&(Oi=iu()),Oi):(t=Te,t!==0||(t=window.event,t=t===void 0?16:pu(t.type)),t)}function An(t,i,u,c){if(50<Jo)throw Jo=0,Xl=null,Error(o(185));mo(t,u,c),((ge&2)===0||t!==$e)&&(t===$e&&((ge&2)===0&&($i|=u),qe===4&&it(t,Ye)),un(t,c),u===1&&ge===0&&(i.mode&1)===0&&(Ot=Fe()+500,Ei&&Zn()))}function un(t,i){var u=t.callbackNode;jd(t,i);var c=oi(t,t===$e?Ye:0);if(c===0)u!==null&&nu(u),t.callbackNode=null,t.callbackPriority=0;else if(i=c&-c,t.callbackPriority!==i){if(u!=null&&nu(u),i===1)t.tag===0?bp(pc.bind(null,t)):bu(pc.bind(null,t)),Op(function(){(ge&6)===0&&Zn()}),u=null;else{switch(ru(c)){case 1:u=Rr;break;case 4:u=tu;break;case 16:u=jo;break;case 536870912:u=ou;break;default:u=jo}u=Sc(u,dc.bind(null,t))}t.callbackPriority=i,t.callbackNode=u}}function dc(t,i){if(Yi=-1,Oi=0,(ge&6)!==0)throw Error(o(327));var u=t.callbackNode;if(Qt()&&t.callbackNode!==u)return null;var c=oi(t,t===$e?Ye:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||i)i=Qi(t,c);else{i=c;var p=ge;ge|=2;var h=gc();($e!==t||Ye!==i)&&(Hn=null,Ot=Fe()+500,vt(t,i));do try{Cm();break}catch(E){mc(t,E)}while(!0);ml(),zi.current=h,ge=p,Ge!==null?i=0:($e=null,Ye=0,i=qe)}if(i!==0){if(i===2&&(p=Pr(t),p!==0&&(c=p,i=Zl(t,p))),i===1)throw u=zo,vt(t,0),it(t,c),un(t,Fe()),u;if(i===6)it(t,c);else{if(p=t.current.alternate,(c&30)===0&&!ym(p)&&(i=Qi(t,c),i===2&&(h=Pr(t),h!==0&&(c=h,i=Zl(t,h))),i===1))throw u=zo,vt(t,0),it(t,c),un(t,Fe()),u;switch(t.finishedWork=p,t.finishedLanes=c,i){case 0:case 1:throw Error(o(345));case 2:Ct(t,sn,Hn);break;case 3:if(it(t,c),(c&130023424)===c&&(i=Ol+500-Fe(),10<i)){if(oi(t,0)!==0)break;if(p=t.suspendedLanes,(p&c)!==c){tn(),t.pingedLanes|=t.suspendedLanes&p;break}t.timeoutHandle=ol(Ct.bind(null,t,sn,Hn),i);break}Ct(t,sn,Hn);break;case 4:if(it(t,c),(c&4194240)===c)break;for(i=t.eventTimes,p=-1;0<c;){var T=31-Sn(c);h=1<<T,T=i[T],T>p&&(p=T),c&=~h}if(c=p,c=Fe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*hm(c/1960))-c,10<c){t.timeoutHandle=ol(Ct.bind(null,t,sn,Hn),c);break}Ct(t,sn,Hn);break;case 5:Ct(t,sn,Hn);break;default:throw Error(o(329))}}}return un(t,Fe()),t.callbackNode===u?dc.bind(null,t):null}function Zl(t,i){var u=$o;return t.current.memoizedState.isDehydrated&&(vt(t,i).flags|=256),t=Qi(t,i),t!==2&&(i=sn,sn=u,i!==null&&bl(i)),t}function bl(t){sn===null?sn=t:sn.push.apply(sn,t)}function ym(t){for(var i=t;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var c=0;c<u.length;c++){var p=u[c],h=p.getSnapshot;p=p.value;try{if(!En(h(),p))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function it(t,i){for(i&=~Yl,i&=~$i,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var u=31-Sn(i),c=1<<u;t[u]=-1,i&=~c}}function pc(t){if((ge&6)!==0)throw Error(o(327));Qt();var i=oi(t,0);if((i&1)===0)return un(t,Fe()),null;var u=Qi(t,i);if(t.tag!==0&&u===2){var c=Pr(t);c!==0&&(i=c,u=Zl(t,c))}if(u===1)throw u=zo,vt(t,0),it(t,i),un(t,Fe()),u;if(u===6)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,Ct(t,sn,Hn),un(t,Fe()),null}function jl(t,i){var u=ge;ge|=1;try{return t(i)}finally{ge=u,ge===0&&(Ot=Fe()+500,Ei&&Zn())}}function yt(t){tt!==null&&tt.tag===0&&(ge&6)===0&&Qt();var i=ge;ge|=1;var u=vn.transition,c=Te;try{if(vn.transition=null,Te=1,t)return t()}finally{Te=c,vn.transition=u,ge=i,(ge&6)===0&&Zn()}}function es(){pn=Yt.current,we(Yt)}function vt(t,i){t.finishedWork=null,t.finishedLanes=0;var u=t.timeoutHandle;if(u!==-1&&(t.timeoutHandle=-1,Yp(u)),Ge!==null)for(u=Ge.return;u!==null;){var c=u;switch(al(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ti();break;case 3:Jt(),we(on),we(Qe),El();break;case 5:Tl(c);break;case 4:Jt();break;case 13:we(Ne);break;case 19:we(Ne);break;case 10:gl(c.type._context);break;case 22:case 23:es()}u=u.return}if($e=t,Ge=t=rt(t.current,null),Ye=pn=i,qe=0,zo=null,Yl=$i=ht=0,sn=$o=null,pt!==null){for(i=0;i<pt.length;i++)if(u=pt[i],c=u.interleaved,c!==null){u.interleaved=null;var p=c.next,h=u.pending;if(h!==null){var T=h.next;h.next=p,c.next=T}u.pending=c}pt=null}return t}function mc(t,i){do{var u=Ge;try{if(ml(),Ni.current=Ui,Di){for(var c=De.memoizedState;c!==null;){var p=c.queue;p!==null&&(p.pending=null),c=c.next}Di=!1}if(gt=0,ze=He=De=null,Uo=!1,Vo=0,Kl.current=null,u===null||u.return===null){qe=1,zo=i,Ge=null;break}e:{var h=t,T=u.return,E=u,_=i;if(i=Ye,E.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var k=_,U=E,V=U.tag;if((U.mode&1)===0&&(V===0||V===11||V===15)){var F=U.alternate;F?(U.updateQueue=F.updateQueue,U.memoizedState=F.memoizedState,U.lanes=F.lanes):(U.updateQueue=null,U.memoizedState=null)}var z=Ba(T);if(z!==null){z.flags&=-257,Ha(z,T,E,h,i),z.mode&1&&Ga(h,k,i),i=z,_=k;var Y=i.updateQueue;if(Y===null){var Q=new Set;Q.add(_),i.updateQueue=Q}else Y.add(_);break e}else{if((i&1)===0){Ga(h,k,i),ns();break e}_=Error(o(426))}}else if(Me&&E.mode&1){var Ue=Ba(T);if(Ue!==null){(Ue.flags&65536)===0&&(Ue.flags|=256),Ha(Ue,T,E,h,i),dl(Wt(_,E));break e}}h=_=Wt(_,E),qe!==4&&(qe=2),$o===null?$o=[h]:$o.push(h),h=T;do{switch(h.tag){case 3:h.flags|=65536,i&=-i,h.lanes|=i;var M=Ua(h,_,i);aa(h,M);break e;case 1:E=_;var x=h.type,R=h.stateNode;if((h.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(nt===null||!nt.has(R)))){h.flags|=65536,i&=-i,h.lanes|=i;var G=Va(h,E,i);aa(h,G);break e}}h=h.return}while(h!==null)}yc(u)}catch(X){i=X,Ge===u&&u!==null&&(Ge=u=u.return);continue}break}while(!0)}function gc(){var t=zi.current;return zi.current=Ui,t===null?Ui:t}function ns(){(qe===0||qe===3||qe===2)&&(qe=4),$e===null||(ht&268435455)===0&&($i&268435455)===0||it($e,Ye)}function Qi(t,i){var u=ge;ge|=2;var c=gc();($e!==t||Ye!==i)&&(Hn=null,vt(t,i));do try{vm();break}catch(p){mc(t,p)}while(!0);if(ml(),ge=u,zi.current=c,Ge!==null)throw Error(o(261));return $e=null,Ye=0,qe}function vm(){for(;Ge!==null;)hc(Ge)}function Cm(){for(;Ge!==null&&!Jd();)hc(Ge)}function hc(t){var i=Tc(t.alternate,t,pn);t.memoizedProps=t.pendingProps,i===null?yc(t):Ge=i,Kl.current=null}function yc(t){var i=t;do{var u=i.alternate;if(t=i.return,(i.flags&32768)===0){if(u=fm(u,i,pn),u!==null){Ge=u;return}}else{if(u=dm(u,i),u!==null){u.flags&=32767,Ge=u;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,Ge=null;return}}if(i=i.sibling,i!==null){Ge=i;return}Ge=i=t}while(i!==null);qe===0&&(qe=5)}function Ct(t,i,u){var c=Te,p=vn.transition;try{vn.transition=null,Te=1,Tm(t,i,u,c)}finally{vn.transition=p,Te=c}return null}function Tm(t,i,u,c){do Qt();while(tt!==null);if((ge&6)!==0)throw Error(o(327));u=t.finishedWork;var p=t.finishedLanes;if(u===null)return null;if(t.finishedWork=null,t.finishedLanes=0,u===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var h=u.lanes|u.childLanes;if(ep(t,h),t===$e&&(Ge=$e=null,Ye=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Wi||(Wi=!0,Sc(jo,function(){return Qt(),null})),h=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||h){h=vn.transition,vn.transition=null;var T=Te;Te=1;var E=ge;ge|=4,Kl.current=null,mm(t,u),sc(u,t),Hp(nl),li=!!el,nl=el=null,t.current=u,gm(u),Wd(),ge=E,Te=T,vn.transition=h}else t.current=u;if(Wi&&(Wi=!1,tt=t,Ki=p),h=t.pendingLanes,h===0&&(nt=null),Od(u.stateNode),un(t,Fe()),i!==null)for(c=t.onRecoverableError,u=0;u<i.length;u++)p=i[u],c(p.value,{componentStack:p.stack,digest:p.digest});if(Ji)throw Ji=!1,t=Ql,Ql=null,t;return(Ki&1)!==0&&t.tag!==0&&Qt(),h=t.pendingLanes,(h&1)!==0?t===Xl?Jo++:(Jo=0,Xl=t):Jo=0,Zn(),null}function Qt(){if(tt!==null){var t=ru(Ki),i=vn.transition,u=Te;try{if(vn.transition=null,Te=16>t?16:t,tt===null)var c=!1;else{if(t=tt,tt=null,Ki=0,(ge&6)!==0)throw Error(o(331));var p=ge;for(ge|=4,K=t.current;K!==null;){var h=K,T=h.child;if((K.flags&16)!==0){var E=h.deletions;if(E!==null){for(var _=0;_<E.length;_++){var k=E[_];for(K=k;K!==null;){var U=K;switch(U.tag){case 0:case 11:case 15:qo(8,U,h)}var V=U.child;if(V!==null)V.return=U,K=V;else for(;K!==null;){U=K;var F=U.sibling,z=U.return;if(tc(U),U===k){K=null;break}if(F!==null){F.return=z,K=F;break}K=z}}}var Y=h.alternate;if(Y!==null){var Q=Y.child;if(Q!==null){Y.child=null;do{var Ue=Q.sibling;Q.sibling=null,Q=Ue}while(Q!==null)}}K=h}}if((h.subtreeFlags&2064)!==0&&T!==null)T.return=h,K=T;else e:for(;K!==null;){if(h=K,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:qo(9,h,h.return)}var M=h.sibling;if(M!==null){M.return=h.return,K=M;break e}K=h.return}}var x=t.current;for(K=x;K!==null;){T=K;var R=T.child;if((T.subtreeFlags&2064)!==0&&R!==null)R.return=T,K=R;else e:for(T=x;K!==null;){if(E=K,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:qi(9,E)}}catch(X){Le(E,E.return,X)}if(E===T){K=null;break e}var G=E.sibling;if(G!==null){G.return=E.return,K=G;break e}K=E.return}}if(ge=p,Zn(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(ei,t)}catch{}c=!0}return c}finally{Te=u,vn.transition=i}}return!1}function vc(t,i,u){i=Wt(u,i),i=Ua(t,i,1),t=jn(t,i,1),i=tn(),t!==null&&(mo(t,1,i),un(t,i))}function Le(t,i,u){if(t.tag===3)vc(t,t,u);else for(;i!==null;){if(i.tag===3){vc(i,t,u);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(nt===null||!nt.has(c))){t=Wt(u,t),t=Va(i,t,1),i=jn(i,t,1),t=tn(),i!==null&&(mo(i,1,t),un(i,t));break}}i=i.return}}function Sm(t,i,u){var c=t.pingCache;c!==null&&c.delete(i),i=tn(),t.pingedLanes|=t.suspendedLanes&u,$e===t&&(Ye&u)===u&&(qe===4||qe===3&&(Ye&130023424)===Ye&&500>Fe()-Ol?vt(t,0):Yl|=u),un(t,i)}function Cc(t,i){i===0&&((t.mode&1)===0?i=1:(i=ti,ti<<=1,(ti&130023424)===0&&(ti=4194304)));var u=tn();t=Vn(t,i),t!==null&&(mo(t,i,u),un(t,u))}function Em(t){var i=t.memoizedState,u=0;i!==null&&(u=i.retryLane),Cc(t,u)}function _m(t,i){var u=0;switch(t.tag){case 13:var c=t.stateNode,p=t.memoizedState;p!==null&&(u=p.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(o(314))}c!==null&&c.delete(i),Cc(t,u)}var Tc;Tc=function(t,i,u){if(t!==null)if(t.memoizedProps!==i.pendingProps||on.current)ln=!0;else{if((t.lanes&u)===0&&(i.flags&128)===0)return ln=!1,cm(t,i,u);ln=(t.flags&131072)!==0}else ln=!1,Me&&(i.flags&1048576)!==0&&ju(i,xi,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Bi(t,i),t=i.pendingProps;var p=Vt(i,Qe.current);$t(i,u),p=wl(null,i,c,t,p,u);var h=Il();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,rn(c)?(h=!0,Si(i)):h=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,vl(i),p.updater=Vi,i.stateNode=p,p._reactInternals=i,Nl(i,c,t,u),i=Ul(null,i,c,!0,h,u)):(i.tag=0,Me&&h&&ul(i),nn(null,i,p,u),i=i.child),i;case 16:c=i.elementType;e:{switch(Bi(t,i),t=i.pendingProps,p=c._init,c=p(c._payload),i.type=c,p=i.tag=wm(c),t=xn(c,t),p){case 0:i=Fl(null,i,c,t,u);break e;case 1:i=Ka(null,i,c,t,u);break e;case 11:i=qa(null,i,c,t,u);break e;case 14:i=za(null,i,c,xn(c.type,t),u);break e}throw Error(o(306,c,""))}return i;case 0:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:xn(c,p),Fl(t,i,c,p,u);case 1:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:xn(c,p),Ka(t,i,c,p,u);case 3:e:{if(Ya(i),t===null)throw Error(o(387));c=i.pendingProps,h=i.memoizedState,p=h.element,ua(t,i),Pi(i,c,null,u);var T=i.memoizedState;if(c=T.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){p=Wt(Error(o(423)),i),i=Oa(t,i,c,u,p);break e}else if(c!==p){p=Wt(Error(o(424)),i),i=Oa(t,i,c,u,p);break e}else for(dn=On(i.stateNode.containerInfo.firstChild),fn=i,Me=!0,_n=null,u=la(i,null,c,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ht(),c===p){i=Bn(t,i,u);break e}nn(t,i,c,u)}i=i.child}return i;case 5:return fa(i),t===null&&fl(i),c=i.type,p=i.pendingProps,h=t!==null?t.memoizedProps:null,T=p.children,tl(c,p)?T=null:h!==null&&tl(c,h)&&(i.flags|=32),Wa(t,i),nn(t,i,T,u),i.child;case 6:return t===null&&fl(i),null;case 13:return Qa(t,i,u);case 4:return Cl(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=qt(i,null,c,u):nn(t,i,c,u),i.child;case 11:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:xn(c,p),qa(t,i,c,p,u);case 7:return nn(t,i,i.pendingProps,u),i.child;case 8:return nn(t,i,i.pendingProps.children,u),i.child;case 12:return nn(t,i,i.pendingProps.children,u),i.child;case 10:e:{if(c=i.type._context,p=i.pendingProps,h=i.memoizedProps,T=p.value,_e(Ai,c._currentValue),c._currentValue=T,h!==null)if(En(h.value,T)){if(h.children===p.children&&!on.current){i=Bn(t,i,u);break e}}else for(h=i.child,h!==null&&(h.return=i);h!==null;){var E=h.dependencies;if(E!==null){T=h.child;for(var _=E.firstContext;_!==null;){if(_.context===c){if(h.tag===1){_=Gn(-1,u&-u),_.tag=2;var k=h.updateQueue;if(k!==null){k=k.shared;var U=k.pending;U===null?_.next=_:(_.next=U.next,U.next=_),k.pending=_}}h.lanes|=u,_=h.alternate,_!==null&&(_.lanes|=u),hl(h.return,u,i),E.lanes|=u;break}_=_.next}}else if(h.tag===10)T=h.type===i.type?null:h.child;else if(h.tag===18){if(T=h.return,T===null)throw Error(o(341));T.lanes|=u,E=T.alternate,E!==null&&(E.lanes|=u),hl(T,u,i),T=h.sibling}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===i){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}nn(t,i,p.children,u),i=i.child}return i;case 9:return p=i.type,c=i.pendingProps.children,$t(i,u),p=hn(p),c=c(p),i.flags|=1,nn(t,i,c,u),i.child;case 14:return c=i.type,p=xn(c,i.pendingProps),p=xn(c.type,p),za(t,i,c,p,u);case 15:return $a(t,i,i.type,i.pendingProps,u);case 17:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:xn(c,p),Bi(t,i),i.tag=1,rn(c)?(t=!0,Si(i)):t=!1,$t(i,u),La(i,c,p),Nl(i,c,p,u),Ul(null,i,c,!0,t,u);case 19:return Za(t,i,u);case 22:return Ja(t,i,u)}throw Error(o(156,i.tag))};function Sc(t,i){return eu(t,i)}function xm(t,i,u,c){this.tag=t,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,i,u,c){return new xm(t,i,u,c)}function ts(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wm(t){if(typeof t=="function")return ts(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pe)return 11;if(t===ke)return 14}return 2}function rt(t,i){var u=t.alternate;return u===null?(u=Cn(t.tag,i,t.key,t.mode),u.elementType=t.elementType,u.type=t.type,u.stateNode=t.stateNode,u.alternate=t,t.alternate=u):(u.pendingProps=i,u.type=t.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=t.flags&14680064,u.childLanes=t.childLanes,u.lanes=t.lanes,u.child=t.child,u.memoizedProps=t.memoizedProps,u.memoizedState=t.memoizedState,u.updateQueue=t.updateQueue,i=t.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=t.sibling,u.index=t.index,u.ref=t.ref,u}function Xi(t,i,u,c,p,h){var T=2;if(c=t,typeof t=="function")ts(t)&&(T=1);else if(typeof t=="string")T=5;else e:switch(t){case ie:return Tt(u.children,p,h,i);case he:T=8,p|=8;break;case j:return t=Cn(12,u,i,p|2),t.elementType=j,t.lanes=h,t;case Be:return t=Cn(13,u,i,p),t.elementType=Be,t.lanes=h,t;case Oe:return t=Cn(19,u,i,p),t.elementType=Oe,t.lanes=h,t;case Ae:return Zi(u,p,h,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:T=10;break e;case ue:T=9;break e;case Pe:T=11;break e;case ke:T=14;break e;case Ee:T=16,c=null;break e}throw Error(o(130,t==null?t:typeof t,""))}return i=Cn(T,u,i,p),i.elementType=t,i.type=c,i.lanes=h,i}function Tt(t,i,u,c){return t=Cn(7,t,c,i),t.lanes=u,t}function Zi(t,i,u,c){return t=Cn(22,t,c,i),t.elementType=Ae,t.lanes=u,t.stateNode={isHidden:!1},t}function os(t,i,u){return t=Cn(6,t,null,i),t.lanes=u,t}function is(t,i,u){return i=Cn(4,t.children!==null?t.children:[],t.key,i),i.lanes=u,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Im(t,i,u,c,p){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kr(0),this.expirationTimes=kr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.identifierPrefix=c,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function rs(t,i,u,c,p,h,T,E,_){return t=new Im(t,i,u,E,_),i===1?(i=1,h===!0&&(i|=8)):i=0,h=Cn(3,null,null,i),t.current=h,h.stateNode=t,h.memoizedState={element:c,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},vl(h),t}function Am(t,i,u){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:c==null?null:""+c,children:t,containerInfo:i,implementation:u}}function Ec(t){if(!t)return Xn;t=t._reactInternals;e:{if(ut(t)!==t||t.tag!==1)throw Error(o(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(rn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(o(171))}if(t.tag===1){var u=t.type;if(rn(u))return Xu(t,u,i)}return i}function _c(t,i,u,c,p,h,T,E,_){return t=rs(u,c,!0,t,p,h,T,E,_),t.context=Ec(null),u=t.current,c=tn(),p=ot(u),h=Gn(c,p),h.callback=i??null,jn(u,h,p),t.current.lanes=p,mo(t,p,c),un(t,c),t}function bi(t,i,u,c){var p=i.current,h=tn(),T=ot(p);return u=Ec(u),i.context===null?i.context=u:i.pendingContext=u,i=Gn(h,T),i.payload={element:t},c=c===void 0?null:c,c!==null&&(i.callback=c),t=jn(p,i,T),t!==null&&(An(t,p,T,h),Ri(t,p,T)),T}function ji(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xc(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var u=t.retryLane;t.retryLane=u!==0&&u<i?u:i}}function ls(t,i){xc(t,i),(t=t.alternate)&&xc(t,i)}function Mm(){return null}var wc=typeof reportError=="function"?reportError:function(t){console.error(t)};function ss(t){this._internalRoot=t}er.prototype.render=ss.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(o(409));bi(t,i,null,null)},er.prototype.unmount=ss.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;yt(function(){bi(null,t,null,null)}),i[Dn]=null}};function er(t){this._internalRoot=t}er.prototype.unstable_scheduleHydration=function(t){if(t){var i=uu();t={blockedOn:null,target:t,priority:i};for(var u=0;u<Wn.length&&i!==0&&i<Wn[u].priority;u++);Wn.splice(u,0,t),u===0&&fu(t)}};function us(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nr(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ic(){}function Rm(t,i,u,c,p){if(p){if(typeof c=="function"){var h=c;c=function(){var k=ji(T);h.call(k)}}var T=_c(i,c,t,0,null,!1,!1,"",Ic);return t._reactRootContainer=T,t[Dn]=T.current,Mo(t.nodeType===8?t.parentNode:t),yt(),T}for(;p=t.lastChild;)t.removeChild(p);if(typeof c=="function"){var E=c;c=function(){var k=ji(_);E.call(k)}}var _=rs(t,0,!1,null,null,!1,!1,"",Ic);return t._reactRootContainer=_,t[Dn]=_.current,Mo(t.nodeType===8?t.parentNode:t),yt(function(){bi(i,_,u,c)}),_}function tr(t,i,u,c,p){var h=u._reactRootContainer;if(h){var T=h;if(typeof p=="function"){var E=p;p=function(){var _=ji(T);E.call(_)}}bi(i,T,t,p)}else T=Rm(u,i,t,p,c);return ji(T)}lu=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var u=po(i.pendingLanes);u!==0&&(Nr(i,u|1),un(i,Fe()),(ge&6)===0&&(Ot=Fe()+500,Zn()))}break;case 13:yt(function(){var c=Vn(t,1);if(c!==null){var p=tn();An(c,t,1,p)}}),ls(t,1)}},Dr=function(t){if(t.tag===13){var i=Vn(t,134217728);if(i!==null){var u=tn();An(i,t,134217728,u)}ls(t,134217728)}},su=function(t){if(t.tag===13){var i=ot(t),u=Vn(t,i);if(u!==null){var c=tn();An(u,t,i,c)}ls(t,i)}},uu=function(){return Te},au=function(t,i){var u=Te;try{return Te=t,i()}finally{Te=u}},wr=function(t,i,u){switch(i){case"input":if(yr(t,u),i=u.name,u.type==="radio"&&i!=null){for(u=t;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var c=u[i];if(c!==t&&c.form===t.form){var p=Ci(c);if(!p)throw Error(o(90));en(c),yr(c,p)}}}break;case"textarea":Gs(t,u);break;case"select":i=u.value,i!=null&&wt(t,!!u.multiple,i,!1)}},Ys=jl,Os=yt;var Pm={usingClientEntryPoint:!1,Events:[ko,Ft,Ci,Ws,Ks,jl]},Wo={findFiberByHostInstance:at,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},km={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bs(t),t===null?null:t.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||Mm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var or=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!or.isDisabled&&or.supportsFiber)try{ei=or.inject(km),Mn=or}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pm,an.createPortal=function(t,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!us(i))throw Error(o(200));return Am(t,i,null,u)},an.createRoot=function(t,i){if(!us(t))throw Error(o(299));var u=!1,c="",p=wc;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=rs(t,1,!1,null,null,u,!1,c,p),t[Dn]=i.current,Mo(t.nodeType===8?t.parentNode:t),new ss(i)},an.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=bs(i),t=t===null?null:t.stateNode,t},an.flushSync=function(t){return yt(t)},an.hydrate=function(t,i,u){if(!nr(i))throw Error(o(200));return tr(null,t,i,!0,u)},an.hydrateRoot=function(t,i,u){if(!us(t))throw Error(o(405));var c=u!=null&&u.hydratedSources||null,p=!1,h="",T=wc;if(u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(h=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),i=_c(i,null,t,1,u??null,p,!1,h,T),t[Dn]=i.current,Mo(t),c)for(t=0;t<c.length;t++)u=c[t],p=u._getVersion,p=p(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,p]:i.mutableSourceEagerHydrationData.push(u,p);return new er(i)},an.render=function(t,i,u){if(!nr(i))throw Error(o(200));return tr(null,t,i,!1,u)},an.unmountComponentAtNode=function(t){if(!nr(t))throw Error(o(40));return t._reactRootContainer?(yt(function(){tr(null,null,t,!1,function(){t._reactRootContainer=null,t[Dn]=null})}),!0):!1},an.unstable_batchedUpdates=jl,an.unstable_renderSubtreeIntoContainer=function(t,i,u,c){if(!nr(u))throw Error(o(200));if(t==null||t._reactInternals===void 0)throw Error(o(38));return tr(t,i,u,!1,c)},an.version="18.3.1-next-f1338f8080-20240426",an}var Lc;function Bm(){if(Lc)return fs.exports;Lc=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fs.exports=Gm(),fs.exports}var Fc;function Hm(){if(Fc)return ir;Fc=1;var n=Bm();return ir.createRoot=n.createRoot,ir.hydrateRoot=n.hydrateRoot,ir}var qm=Hm();const zm=id(qm);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $m,Jm;function Wm(){return{geminiUrl:$m,vertexUrl:Jm}}function Km(n,e,o,r){var a,f;if(!(n!=null&&n.baseUrl)){const d=Wm();return e?(a=d.vertexUrl)!==null&&a!==void 0?a:o:(f=d.geminiUrl)!==null&&f!==void 0?f:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _t{}function Z(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(r,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const f=e[a];return f!=null?String(f):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function s(n,e,o){for(let f=0;f<e.length-1;f++){const d=e[f];if(d.endsWith("[]")){const g=d.slice(0,-2);if(!(g in n))if(Array.isArray(o))n[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(o))for(let m=0;m<y.length;m++){const v=y[m];s(v,e.slice(f+1),o[m])}else for(const m of y)s(m,e.slice(f+1),o)}return}else if(d.endsWith("[0]")){const g=d.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];s(y[0],e.slice(f+1),o);return}(!n[d]||typeof n[d]!="object")&&(n[d]={}),n=n[d]}const r=e[e.length-1],a=n[r];if(a!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===a)return;if(typeof a=="object"&&typeof o=="object"&&a!==null&&o!==null)Object.assign(a,o);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else n[r]=o}function l(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return;const r=e[o];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in n){const f=n[a];return Array.isArray(f)?f.map(d=>l(d,e.slice(o+1))):void 0}else return}else n=n[r]}return n}catch(o){if(o instanceof TypeError)return;throw o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hs(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Uc;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Uc||(Uc={}));var Vc;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Vc||(Vc={}));var Re;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Re||(Re={}));var Gc;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Gc||(Gc={}));var Bc;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Bc||(Bc={}));var Hc;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Hc||(Hc={}));var qc;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(qc||(qc={}));var zc;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(zc||(zc={}));var $c;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})($c||($c={}));var Jc;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Jc||(Jc={}));var Wc;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Wc||(Wc={}));var Kc;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Kc||(Kc={}));var Yc;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Yc||(Yc={}));var Oc;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Oc||(Oc={}));var Qc;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Qc||(Qc={}));var Xc;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Xc||(Xc={}));var ar;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(ar||(ar={}));var Zc;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Zc||(Zc={}));var ys;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ys||(ys={}));var bc;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(bc||(bc={}));var jc;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(jc||(jc={}));var ef;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(ef||(ef={}));var nf;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(nf||(nf={}));var tf;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(tf||(tf={}));var of;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(of||(of={}));var rf;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(rf||(rf={}));var lf;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(lf||(lf={}));var sf;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(sf||(sf={}));var uf;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(uf||(uf={}));var af;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(af||(af={}));var cf;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(cf||(cf={}));var ff;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(ff||(ff={}));var df;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(df||(df={}));var pf;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(pf||(pf={}));var mf;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(mf||(mf={}));var gf;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(gf||(gf={}));var hf;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(hf||(hf={}));var yf;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(yf||(yf={}));var vf;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(vf||(vf={}));var Cf;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Cf||(Cf={}));var Tf;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Tf||(Tf={}));var Sf;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Sf||(Sf={}));var Xt;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Xt||(Xt={}));class vs{constructor(e){const o={};for(const r of e.headers.entries())o[r[0]]=r[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Yo{get text(){var e,o,r,a,f,d,g,y;if(((a=(r=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const C=[];for(const S of(y=(g=(d=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[A,N]of Object.entries(S))A!=="text"&&A!=="thought"&&(N!==null||N!==void 0)&&C.push(A);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,m+=S.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var e,o,r,a,f,d,g,y;if(((a=(r=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const C of(y=(g=(d=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[S,A]of Object.entries(C))S!=="inlineData"&&(A!==null||A!==void 0)&&v.push(S);C.inlineData&&typeof C.inlineData.data=="string"&&(m+=atob(C.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,o,r,a,f,d,g,y;if(((a=(r=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(g=(d=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,o,r,a,f,d,g,y,m;if(((a=(r=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(d=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,o,r,a,f,d,g,y,m;if(((a=(r=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(d=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class Ef{}class _f{}class Ym{}class Om{}class Qm{}class xf{}class wf{}class If{}class Xm{}class Af{}class Mf{}class Rf{}class Pf{}class Zm{}class bm{}class jm{}class kf{}class eg{get text(){var e,o,r;let a="",f=!1;const d=[];for(const g of(r=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&r!==void 0?r:[]){for(const[y,m]of Object.entries(g))y!=="text"&&y!=="thought"&&m!==null&&d.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,a+=g.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?a:void 0}get data(){var e,o,r;let a="";const f=[];for(const d of(r=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&r!==void 0?r:[]){for(const[g,y]of Object.entries(d))g!=="inlineData"&&y!==null&&f.push(g);d.inlineData&&typeof d.inlineData.data=="string"&&(a+=atob(d.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class cr{_fromAPIResponse({apiResponse:e,isVertexAI:o}){const r=new cr;if(r.name=e.name,r.metadata=e.metadata,r.done=e.done,r.error=e.error,o){const a=e.response;if(a){const f=new Af,d=a.videos;f.generatedVideos=d==null?void 0:d.map(g=>({video:{uri:g.gcsUri,videoBytes:g.bytesBase64Encoded?hs(g.bytesBase64Encoded):void 0,mimeType:g.mimeType}})),f.raiMediaFilteredCount=a.raiMediaFilteredCount,f.raiMediaFilteredReasons=a.raiMediaFilteredReasons,r.response=f}}else{const a=e.response;if(a){const f=new Af,d=a.generateVideoResponse,g=d==null?void 0:d.generatedSamples;f.generatedVideos=g==null?void 0:g.map(y=>{const m=y.video;return{video:{uri:m==null?void 0:m.uri,videoBytes:m!=null&&m.encodedVideo?hs(m==null?void 0:m.encodedVideo):void 0,mimeType:y.encoding}}}),f.raiMediaFilteredCount=d==null?void 0:d.raiMediaFilteredCount,f.raiMediaFilteredReasons=d==null?void 0:d.raiMediaFilteredReasons,r.response=f}}return r}}class ng{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ce(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ld(n,e){const o=Ce(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function sd(n){return Array.isArray(n)?n.map(e=>fr(e)):[fr(n)]}function fr(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function ud(n){const e=fr(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ad(n){const e=fr(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Nf(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function cd(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Nf(e)):[Nf(n)]}function Cs(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Df(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Lf(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function je(n){if(n==null)throw new Error("ContentUnion is required");return Cs(n)?n:{role:"user",parts:cd(n)}}function fd(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const r=je(o);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const o=je(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>je(o)):[je(e)]}function Tn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Df(n)||Lf(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[je(n)]}const e=[],o=[],r=Cs(n[0]);for(const a of n){const f=Cs(a);if(f!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)e.push(a);else{if(Df(a)||Lf(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(a)}}return r||e.push({role:"user",parts:cd(o)}),e}function tg(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(r=>r!=="null");if(o.length===1)e.type=Object.values(Re).includes(o[0].toUpperCase())?o[0].toUpperCase():Re.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of o)e.anyOf.push({type:Object.values(Re).includes(r.toUpperCase())?r.toUpperCase():Re.TYPE_UNSPECIFIED})}}function Zt(n){const e={},o=["items"],r=["anyOf"],a=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=n.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,n=f[1]):f[1].type==="null"&&(e.nullable=!0,n=f[0])),n.type instanceof Array&&tg(n.type,e);for(const[d,g]of Object.entries(n))if(g!=null)if(d=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(Re).includes(g.toUpperCase())?g.toUpperCase():Re.TYPE_UNSPECIFIED}else if(o.includes(d))e[d]=Zt(g);else if(r.includes(d)){const y=[];for(const m of g){if(m.type=="null"){e.nullable=!0;continue}y.push(Zt(m))}e[d]=y}else if(a.includes(d)){const y={};for(const[m,v]of Object.entries(g))y[m]=Zt(v);e[d]=y}else{if(d==="additionalProperties")continue;e[d]=g}return e}function Rs(n){return Zt(n)}function Ps(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function ks(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function no(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Zt(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Zt(e.response));return n}function to(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function og(n,e,o,r=1){const a=!e.startsWith(`${o}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:a?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:a?`${o}/${e}`:e}function qn(n,e){if(typeof e!="string")throw new Error("name must be a string");return og(n,e,"cachedContents")}function dd(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function xt(n){return hs(n)}function ig(n){return n!=null&&typeof n=="object"&&"name"in n}function rg(n){return n!=null&&typeof n=="object"&&"video"in n}function lg(n){return n!=null&&typeof n=="object"&&"uri"in n}function pd(n){var e;let o;if(ig(n)&&(o=n.name),!(lg(n)&&(o=n.uri,o===void 0))&&!(rg(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const a=o.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${o}`);o=a[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function md(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function gd(n){for(const e of["models","tunedModels","publisherModels"])if(sg(n,e))return n[e];return[]}function sg(n,e){return n!==null&&typeof n=="object"&&e in n}function ug(n,e={}){const o=n,r={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function ag(n,e={}){const o=[],r=new Set;for(const a of n){const f=a.name;if(r.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);r.add(f);const d=ug(a,e);d.functionDeclarations&&o.push(...d.functionDeclarations)}return{functionDeclarations:o}}function hd(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function cg(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function oo(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function yd(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fg(n){const e={},o=l(n,["fps"]);o!=null&&s(e,["fps"],o);const r=l(n,["endOffset"]);r!=null&&s(e,["endOffset"],r);const a=l(n,["startOffset"]);return a!=null&&s(e,["startOffset"],a),e}function dg(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(n,["data"]);o!=null&&s(e,["data"],o);const r=l(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function pg(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(n,["fileUri"]);o!=null&&s(e,["fileUri"],o);const r=l(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function mg(n){const e={},o=l(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],fg(o));const r=l(n,["thought"]);r!=null&&s(e,["thought"],r);const a=l(n,["inlineData"]);a!=null&&s(e,["inlineData"],dg(a));const f=l(n,["fileData"]);f!=null&&s(e,["fileData"],pg(f));const d=l(n,["thoughtSignature"]);d!=null&&s(e,["thoughtSignature"],d);const g=l(n,["codeExecutionResult"]);g!=null&&s(e,["codeExecutionResult"],g);const y=l(n,["executableCode"]);y!=null&&s(e,["executableCode"],y);const m=l(n,["functionCall"]);m!=null&&s(e,["functionCall"],m);const v=l(n,["functionResponse"]);v!=null&&s(e,["functionResponse"],v);const C=l(n,["text"]);return C!=null&&s(e,["text"],C),e}function vd(n){const e={},o=l(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>mg(f))),s(e,["parts"],a)}const r=l(n,["role"]);return r!=null&&s(e,["role"],r),e}function gg(n){const e={},o=l(n,["anyOf"]);o!=null&&s(e,["anyOf"],o);const r=l(n,["default"]);r!=null&&s(e,["default"],r);const a=l(n,["description"]);a!=null&&s(e,["description"],a);const f=l(n,["enum"]);f!=null&&s(e,["enum"],f);const d=l(n,["example"]);d!=null&&s(e,["example"],d);const g=l(n,["format"]);g!=null&&s(e,["format"],g);const y=l(n,["items"]);y!=null&&s(e,["items"],y);const m=l(n,["maxItems"]);m!=null&&s(e,["maxItems"],m);const v=l(n,["maxLength"]);v!=null&&s(e,["maxLength"],v);const C=l(n,["maxProperties"]);C!=null&&s(e,["maxProperties"],C);const S=l(n,["maximum"]);S!=null&&s(e,["maximum"],S);const A=l(n,["minItems"]);A!=null&&s(e,["minItems"],A);const N=l(n,["minLength"]);N!=null&&s(e,["minLength"],N);const P=l(n,["minProperties"]);P!=null&&s(e,["minProperties"],P);const D=l(n,["minimum"]);D!=null&&s(e,["minimum"],D);const q=l(n,["nullable"]);q!=null&&s(e,["nullable"],q);const $=l(n,["pattern"]);$!=null&&s(e,["pattern"],$);const H=l(n,["properties"]);H!=null&&s(e,["properties"],H);const J=l(n,["propertyOrdering"]);J!=null&&s(e,["propertyOrdering"],J);const O=l(n,["required"]);O!=null&&s(e,["required"],O);const oe=l(n,["title"]);oe!=null&&s(e,["title"],oe);const ie=l(n,["type"]);return ie!=null&&s(e,["type"],ie),e}function hg(n){const e={};if(l(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=l(n,["category"]);o!=null&&s(e,["category"],o);const r=l(n,["threshold"]);return r!=null&&s(e,["threshold"],r),e}function yg(n){const e={},o=l(n,["behavior"]);o!=null&&s(e,["behavior"],o);const r=l(n,["description"]);r!=null&&s(e,["description"],r);const a=l(n,["name"]);a!=null&&s(e,["name"],a);const f=l(n,["parameters"]);f!=null&&s(e,["parameters"],f);const d=l(n,["parametersJsonSchema"]);d!=null&&s(e,["parametersJsonSchema"],d);const g=l(n,["response"]);g!=null&&s(e,["response"],g);const y=l(n,["responseJsonSchema"]);return y!=null&&s(e,["responseJsonSchema"],y),e}function vg(n){const e={},o=l(n,["startTime"]);o!=null&&s(e,["startTime"],o);const r=l(n,["endTime"]);return r!=null&&s(e,["endTime"],r),e}function Cg(n){const e={},o=l(n,["timeRangeFilter"]);return o!=null&&s(e,["timeRangeFilter"],vg(o)),e}function Tg(n){const e={},o=l(n,["mode"]);o!=null&&s(e,["mode"],o);const r=l(n,["dynamicThreshold"]);return r!=null&&s(e,["dynamicThreshold"],r),e}function Sg(n){const e={},o=l(n,["dynamicRetrievalConfig"]);return o!=null&&s(e,["dynamicRetrievalConfig"],Tg(o)),e}function Eg(){return{}}function _g(n){const e={},o=l(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(m=>yg(m))),s(e,["functionDeclarations"],y)}if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(n,["googleSearch"]);r!=null&&s(e,["googleSearch"],Cg(r));const a=l(n,["googleSearchRetrieval"]);if(a!=null&&s(e,["googleSearchRetrieval"],Sg(a)),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(n,["urlContext"])!=null&&s(e,["urlContext"],Eg());const d=l(n,["codeExecution"]);d!=null&&s(e,["codeExecution"],d);const g=l(n,["computerUse"]);return g!=null&&s(e,["computerUse"],g),e}function xg(n){const e={},o=l(n,["mode"]);o!=null&&s(e,["mode"],o);const r=l(n,["allowedFunctionNames"]);return r!=null&&s(e,["allowedFunctionNames"],r),e}function wg(n){const e={},o=l(n,["latitude"]);o!=null&&s(e,["latitude"],o);const r=l(n,["longitude"]);return r!=null&&s(e,["longitude"],r),e}function Ig(n){const e={},o=l(n,["latLng"]);o!=null&&s(e,["latLng"],wg(o));const r=l(n,["languageCode"]);return r!=null&&s(e,["languageCode"],r),e}function Ag(n){const e={},o=l(n,["functionCallingConfig"]);o!=null&&s(e,["functionCallingConfig"],xg(o));const r=l(n,["retrievalConfig"]);return r!=null&&s(e,["retrievalConfig"],Ig(r)),e}function Mg(n){const e={},o=l(n,["voiceName"]);return o!=null&&s(e,["voiceName"],o),e}function Cd(n){const e={},o=l(n,["prebuiltVoiceConfig"]);return o!=null&&s(e,["prebuiltVoiceConfig"],Mg(o)),e}function Rg(n){const e={},o=l(n,["speaker"]);o!=null&&s(e,["speaker"],o);const r=l(n,["voiceConfig"]);return r!=null&&s(e,["voiceConfig"],Cd(r)),e}function Pg(n){const e={},o=l(n,["speakerVoiceConfigs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>Rg(a))),s(e,["speakerVoiceConfigs"],r)}return e}function kg(n){const e={},o=l(n,["voiceConfig"]);o!=null&&s(e,["voiceConfig"],Cd(o));const r=l(n,["multiSpeakerVoiceConfig"]);r!=null&&s(e,["multiSpeakerVoiceConfig"],Pg(r));const a=l(n,["languageCode"]);return a!=null&&s(e,["languageCode"],a),e}function Ng(n){const e={},o=l(n,["includeThoughts"]);o!=null&&s(e,["includeThoughts"],o);const r=l(n,["thinkingBudget"]);return r!=null&&s(e,["thinkingBudget"],r),e}function Dg(n,e,o){const r={},a=l(e,["systemInstruction"]);o!==void 0&&a!=null&&s(o,["systemInstruction"],vd(je(a)));const f=l(e,["temperature"]);f!=null&&s(r,["temperature"],f);const d=l(e,["topP"]);d!=null&&s(r,["topP"],d);const g=l(e,["topK"]);g!=null&&s(r,["topK"],g);const y=l(e,["candidateCount"]);y!=null&&s(r,["candidateCount"],y);const m=l(e,["maxOutputTokens"]);m!=null&&s(r,["maxOutputTokens"],m);const v=l(e,["stopSequences"]);v!=null&&s(r,["stopSequences"],v);const C=l(e,["responseLogprobs"]);C!=null&&s(r,["responseLogprobs"],C);const S=l(e,["logprobs"]);S!=null&&s(r,["logprobs"],S);const A=l(e,["presencePenalty"]);A!=null&&s(r,["presencePenalty"],A);const N=l(e,["frequencyPenalty"]);N!=null&&s(r,["frequencyPenalty"],N);const P=l(e,["seed"]);P!=null&&s(r,["seed"],P);const D=l(e,["responseMimeType"]);D!=null&&s(r,["responseMimeType"],D);const q=l(e,["responseSchema"]);q!=null&&s(r,["responseSchema"],gg(Rs(q)));const $=l(e,["responseJsonSchema"]);if($!=null&&s(r,["responseJsonSchema"],$),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=l(e,["safetySettings"]);if(o!==void 0&&H!=null){let ue=H;Array.isArray(ue)&&(ue=ue.map(Pe=>hg(Pe))),s(o,["safetySettings"],ue)}const J=l(e,["tools"]);if(o!==void 0&&J!=null){let ue=to(J);Array.isArray(ue)&&(ue=ue.map(Pe=>_g(no(Pe)))),s(o,["tools"],ue)}const O=l(e,["toolConfig"]);if(o!==void 0&&O!=null&&s(o,["toolConfig"],Ag(O)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const oe=l(e,["cachedContent"]);o!==void 0&&oe!=null&&s(o,["cachedContent"],qn(n,oe));const ie=l(e,["responseModalities"]);ie!=null&&s(r,["responseModalities"],ie);const he=l(e,["mediaResolution"]);he!=null&&s(r,["mediaResolution"],he);const j=l(e,["speechConfig"]);if(j!=null&&s(r,["speechConfig"],kg(Ps(j))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=l(e,["thinkingConfig"]);return ae!=null&&s(r,["thinkingConfig"],Ng(ae)),r}function Lg(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["request","model"],Ce(n,r));const a=l(e,["contents"]);if(a!=null){let d=Tn(a);Array.isArray(d)&&(d=d.map(g=>vd(g))),s(o,["request","contents"],d)}const f=l(e,["config"]);return f!=null&&s(o,["request","generationConfig"],Dg(n,f,o)),o}function Fg(n,e){const o={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=l(e,["fileName"]);r!=null&&s(o,["fileName"],r);const a=l(e,["inlinedRequests"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>Lg(n,d))),s(o,["requests","requests"],f)}return o}function Ug(n,e){const o={},r=l(n,["displayName"]);if(e!==void 0&&r!=null&&s(e,["batch","displayName"],r),l(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Vg(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","model"],Ce(n,r));const a=l(e,["src"]);a!=null&&s(o,["batch","inputConfig"],Fg(n,hd(n,a)));const f=l(e,["config"]);return f!=null&&s(o,["config"],Ug(f,o)),o}function Gg(n,e){const o={},r=l(e,["name"]);r!=null&&s(o,["_url","name"],oo(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],a),o}function Bg(n,e){const o={},r=l(e,["name"]);r!=null&&s(o,["_url","name"],oo(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],a),o}function Hg(n,e){const o={},r=l(n,["pageSize"]);e!==void 0&&r!=null&&s(e,["_query","pageSize"],r);const a=l(n,["pageToken"]);if(e!==void 0&&a!=null&&s(e,["_query","pageToken"],a),l(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function qg(n){const e={},o=l(n,["config"]);return o!=null&&s(e,["config"],Hg(o,e)),e}function zg(n,e){const o={},r=l(e,["name"]);r!=null&&s(o,["_url","name"],oo(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],a),o}function $g(n){const e={},o=l(n,["format"]);o!=null&&s(e,["instancesFormat"],o);const r=l(n,["gcsUri"]);r!=null&&s(e,["gcsSource","uris"],r);const a=l(n,["bigqueryUri"]);if(a!=null&&s(e,["bigquerySource","inputUri"],a),l(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Jg(n){const e={},o=l(n,["format"]);o!=null&&s(e,["predictionsFormat"],o);const r=l(n,["gcsUri"]);r!=null&&s(e,["gcsDestination","outputUriPrefix"],r);const a=l(n,["bigqueryUri"]);if(a!=null&&s(e,["bigqueryDestination","outputUri"],a),l(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function Wg(n,e){const o={},r=l(n,["displayName"]);e!==void 0&&r!=null&&s(e,["displayName"],r);const a=l(n,["dest"]);return e!==void 0&&a!=null&&s(e,["outputConfig"],Jg(cg(a))),o}function Kg(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["model"],Ce(n,r));const a=l(e,["src"]);a!=null&&s(o,["inputConfig"],$g(hd(n,a)));const f=l(e,["config"]);return f!=null&&s(o,["config"],Wg(f,o)),o}function Yg(n,e){const o={},r=l(e,["name"]);r!=null&&s(o,["_url","name"],oo(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],a),o}function Og(n,e){const o={},r=l(e,["name"]);r!=null&&s(o,["_url","name"],oo(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],a),o}function Qg(n,e){const o={},r=l(n,["pageSize"]);e!==void 0&&r!=null&&s(e,["_query","pageSize"],r);const a=l(n,["pageToken"]);e!==void 0&&a!=null&&s(e,["_query","pageToken"],a);const f=l(n,["filter"]);return e!==void 0&&f!=null&&s(e,["_query","filter"],f),o}function Xg(n){const e={},o=l(n,["config"]);return o!=null&&s(e,["config"],Qg(o,e)),e}function Zg(n,e){const o={},r=l(e,["name"]);r!=null&&s(o,["_url","name"],oo(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],a),o}function bg(n){const e={},o=l(n,["fps"]);o!=null&&s(e,["fps"],o);const r=l(n,["endOffset"]);r!=null&&s(e,["endOffset"],r);const a=l(n,["startOffset"]);return a!=null&&s(e,["startOffset"],a),e}function jg(n){const e={},o=l(n,["data"]);o!=null&&s(e,["data"],o);const r=l(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function eh(n){const e={},o=l(n,["fileUri"]);o!=null&&s(e,["fileUri"],o);const r=l(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function nh(n){const e={},o=l(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],bg(o));const r=l(n,["thought"]);r!=null&&s(e,["thought"],r);const a=l(n,["inlineData"]);a!=null&&s(e,["inlineData"],jg(a));const f=l(n,["fileData"]);f!=null&&s(e,["fileData"],eh(f));const d=l(n,["thoughtSignature"]);d!=null&&s(e,["thoughtSignature"],d);const g=l(n,["codeExecutionResult"]);g!=null&&s(e,["codeExecutionResult"],g);const y=l(n,["executableCode"]);y!=null&&s(e,["executableCode"],y);const m=l(n,["functionCall"]);m!=null&&s(e,["functionCall"],m);const v=l(n,["functionResponse"]);v!=null&&s(e,["functionResponse"],v);const C=l(n,["text"]);return C!=null&&s(e,["text"],C),e}function th(n){const e={},o=l(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>nh(f))),s(e,["parts"],a)}const r=l(n,["role"]);return r!=null&&s(e,["role"],r),e}function oh(n){const e={},o=l(n,["citationSources"]);return o!=null&&s(e,["citations"],o),e}function ih(n){const e={},o=l(n,["retrievedUrl"]);o!=null&&s(e,["retrievedUrl"],o);const r=l(n,["urlRetrievalStatus"]);return r!=null&&s(e,["urlRetrievalStatus"],r),e}function rh(n){const e={},o=l(n,["urlMetadata"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>ih(a))),s(e,["urlMetadata"],r)}return e}function lh(n){const e={},o=l(n,["content"]);o!=null&&s(e,["content"],th(o));const r=l(n,["citationMetadata"]);r!=null&&s(e,["citationMetadata"],oh(r));const a=l(n,["tokenCount"]);a!=null&&s(e,["tokenCount"],a);const f=l(n,["finishReason"]);f!=null&&s(e,["finishReason"],f);const d=l(n,["urlContextMetadata"]);d!=null&&s(e,["urlContextMetadata"],rh(d));const g=l(n,["avgLogprobs"]);g!=null&&s(e,["avgLogprobs"],g);const y=l(n,["groundingMetadata"]);y!=null&&s(e,["groundingMetadata"],y);const m=l(n,["index"]);m!=null&&s(e,["index"],m);const v=l(n,["logprobsResult"]);v!=null&&s(e,["logprobsResult"],v);const C=l(n,["safetyRatings"]);return C!=null&&s(e,["safetyRatings"],C),e}function sh(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(m=>lh(m))),s(e,["candidates"],y)}const a=l(n,["modelVersion"]);a!=null&&s(e,["modelVersion"],a);const f=l(n,["promptFeedback"]);f!=null&&s(e,["promptFeedback"],f);const d=l(n,["responseId"]);d!=null&&s(e,["responseId"],d);const g=l(n,["usageMetadata"]);return g!=null&&s(e,["usageMetadata"],g),e}function Td(n){const e={},o=l(n,["details"]);o!=null&&s(e,["details"],o);const r=l(n,["code"]);r!=null&&s(e,["code"],r);const a=l(n,["message"]);return a!=null&&s(e,["message"],a),e}function uh(n){const e={},o=l(n,["response"]);o!=null&&s(e,["response"],sh(o));const r=l(n,["error"]);return r!=null&&s(e,["error"],Td(r)),e}function ah(n){const e={},o=l(n,["responsesFile"]);o!=null&&s(e,["fileName"],o);const r=l(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(f=>uh(f))),s(e,["inlinedResponses"],a)}return e}function Ts(n){const e={},o=l(n,["name"]);o!=null&&s(e,["name"],o);const r=l(n,["metadata","displayName"]);r!=null&&s(e,["displayName"],r);const a=l(n,["metadata","state"]);a!=null&&s(e,["state"],yd(a));const f=l(n,["metadata","createTime"]);f!=null&&s(e,["createTime"],f);const d=l(n,["metadata","endTime"]);d!=null&&s(e,["endTime"],d);const g=l(n,["metadata","updateTime"]);g!=null&&s(e,["updateTime"],g);const y=l(n,["metadata","model"]);y!=null&&s(e,["model"],y);const m=l(n,["metadata","output"]);return m!=null&&s(e,["dest"],ah(m)),e}function ch(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["nextPageToken"]);r!=null&&s(e,["nextPageToken"],r);const a=l(n,["operations"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>Ts(d))),s(e,["batchJobs"],f)}return e}function fh(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["name"]);r!=null&&s(e,["name"],r);const a=l(n,["done"]);a!=null&&s(e,["done"],a);const f=l(n,["error"]);return f!=null&&s(e,["error"],Td(f)),e}function Sd(n){const e={},o=l(n,["details"]);o!=null&&s(e,["details"],o);const r=l(n,["code"]);r!=null&&s(e,["code"],r);const a=l(n,["message"]);return a!=null&&s(e,["message"],a),e}function dh(n){const e={},o=l(n,["instancesFormat"]);o!=null&&s(e,["format"],o);const r=l(n,["gcsSource","uris"]);r!=null&&s(e,["gcsUri"],r);const a=l(n,["bigquerySource","inputUri"]);return a!=null&&s(e,["bigqueryUri"],a),e}function ph(n){const e={},o=l(n,["predictionsFormat"]);o!=null&&s(e,["format"],o);const r=l(n,["gcsDestination","outputUriPrefix"]);r!=null&&s(e,["gcsUri"],r);const a=l(n,["bigqueryDestination","outputUri"]);return a!=null&&s(e,["bigqueryUri"],a),e}function Ss(n){const e={},o=l(n,["name"]);o!=null&&s(e,["name"],o);const r=l(n,["displayName"]);r!=null&&s(e,["displayName"],r);const a=l(n,["state"]);a!=null&&s(e,["state"],yd(a));const f=l(n,["error"]);f!=null&&s(e,["error"],Sd(f));const d=l(n,["createTime"]);d!=null&&s(e,["createTime"],d);const g=l(n,["startTime"]);g!=null&&s(e,["startTime"],g);const y=l(n,["endTime"]);y!=null&&s(e,["endTime"],y);const m=l(n,["updateTime"]);m!=null&&s(e,["updateTime"],m);const v=l(n,["model"]);v!=null&&s(e,["model"],v);const C=l(n,["inputConfig"]);C!=null&&s(e,["src"],dh(C));const S=l(n,["outputConfig"]);return S!=null&&s(e,["dest"],ph(S)),e}function mh(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["nextPageToken"]);r!=null&&s(e,["nextPageToken"],r);const a=l(n,["batchPredictionJobs"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>Ss(d))),s(e,["batchJobs"],f)}return e}function gh(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["name"]);r!=null&&s(e,["name"],r);const a=l(n,["done"]);a!=null&&s(e,["done"],a);const f=l(n,["error"]);return f!=null&&s(e,["error"],Sd(f)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Et;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Et||(Et={}));class Qo{constructor(e,o,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,r,a)}init(e,o,r){var a,f;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!r||Object.keys(r).length===0?d={config:{}}:typeof r=="object"?d=Object.assign({},r):d=r,d.config&&(d.config.pageToken=o.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(f=(a=d.config)===null||a===void 0?void 0:a.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hh extends _t{constructor(e){super(),this.apiClient=e,this.create=async o=>{if(this.apiClient.isVertexAI()){const a=Date.now().toString();if(Array.isArray(o.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(o.config=o.config||{},o.config.displayName===void 0&&(o.config.displayName="genaiBatchJob_${timestampStr}"),o.config.dest===void 0&&typeof o.src=="string")if(o.src.startsWith("gs://")&&o.src.endsWith(".jsonl"))o.config.dest=`${o.src.slice(0,-6)}/dest`;else if(o.src.startsWith("bq://"))o.config.dest=`${o.src}_dest_${a}`;else throw new Error("Unsupported source:"+o.src)}return await this.createInternal(o)},this.list=async(o={})=>new Qo(Et.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(o),o)}async createInternal(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=Kg(this.apiClient,e);return g=Z("batchPredictionJobs",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d.then(v=>Ss(v))}else{const m=Vg(this.apiClient,e);return g=Z("{model}:batchGenerateContent",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d.then(v=>Ts(v))}}async get(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=Yg(this.apiClient,e);return g=Z("batchPredictionJobs/{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d.then(v=>Ss(v))}else{const m=Gg(this.apiClient,e);return g=Z("batches/{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d.then(v=>Ts(v))}}async cancel(e){var o,r,a,f;let d="",g={};if(this.apiClient.isVertexAI()){const y=Og(this.apiClient,e);d=Z("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const y=Bg(this.apiClient,e);d=Z("batches/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=Xg(e);return g=Z("batchPredictionJobs",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const C=mh(v),S=new kf;return Object.assign(S,C),S})}else{const m=qg(e);return g=Z("batches",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const C=ch(v),S=new kf;return Object.assign(S,C),S})}}async delete(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=Zg(this.apiClient,e);return g=Z("batchPredictionJobs/{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>gh(v))}else{const m=zg(this.apiClient,e);return g=Z("batches/{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>fh(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yh(n){const e={},o=l(n,["fps"]);o!=null&&s(e,["fps"],o);const r=l(n,["endOffset"]);r!=null&&s(e,["endOffset"],r);const a=l(n,["startOffset"]);return a!=null&&s(e,["startOffset"],a),e}function vh(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(n,["data"]);o!=null&&s(e,["data"],o);const r=l(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function Ch(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(n,["fileUri"]);o!=null&&s(e,["fileUri"],o);const r=l(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function Th(n){const e={},o=l(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],yh(o));const r=l(n,["thought"]);r!=null&&s(e,["thought"],r);const a=l(n,["inlineData"]);a!=null&&s(e,["inlineData"],vh(a));const f=l(n,["fileData"]);f!=null&&s(e,["fileData"],Ch(f));const d=l(n,["thoughtSignature"]);d!=null&&s(e,["thoughtSignature"],d);const g=l(n,["codeExecutionResult"]);g!=null&&s(e,["codeExecutionResult"],g);const y=l(n,["executableCode"]);y!=null&&s(e,["executableCode"],y);const m=l(n,["functionCall"]);m!=null&&s(e,["functionCall"],m);const v=l(n,["functionResponse"]);v!=null&&s(e,["functionResponse"],v);const C=l(n,["text"]);return C!=null&&s(e,["text"],C),e}function Ff(n){const e={},o=l(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>Th(f))),s(e,["parts"],a)}const r=l(n,["role"]);return r!=null&&s(e,["role"],r),e}function Sh(n){const e={},o=l(n,["behavior"]);o!=null&&s(e,["behavior"],o);const r=l(n,["description"]);r!=null&&s(e,["description"],r);const a=l(n,["name"]);a!=null&&s(e,["name"],a);const f=l(n,["parameters"]);f!=null&&s(e,["parameters"],f);const d=l(n,["parametersJsonSchema"]);d!=null&&s(e,["parametersJsonSchema"],d);const g=l(n,["response"]);g!=null&&s(e,["response"],g);const y=l(n,["responseJsonSchema"]);return y!=null&&s(e,["responseJsonSchema"],y),e}function Eh(n){const e={},o=l(n,["startTime"]);o!=null&&s(e,["startTime"],o);const r=l(n,["endTime"]);return r!=null&&s(e,["endTime"],r),e}function _h(n){const e={},o=l(n,["timeRangeFilter"]);return o!=null&&s(e,["timeRangeFilter"],Eh(o)),e}function xh(n){const e={},o=l(n,["mode"]);o!=null&&s(e,["mode"],o);const r=l(n,["dynamicThreshold"]);return r!=null&&s(e,["dynamicThreshold"],r),e}function wh(n){const e={},o=l(n,["dynamicRetrievalConfig"]);return o!=null&&s(e,["dynamicRetrievalConfig"],xh(o)),e}function Ih(){return{}}function Ah(n){const e={},o=l(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(m=>Sh(m))),s(e,["functionDeclarations"],y)}if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(n,["googleSearch"]);r!=null&&s(e,["googleSearch"],_h(r));const a=l(n,["googleSearchRetrieval"]);if(a!=null&&s(e,["googleSearchRetrieval"],wh(a)),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(n,["urlContext"])!=null&&s(e,["urlContext"],Ih());const d=l(n,["codeExecution"]);d!=null&&s(e,["codeExecution"],d);const g=l(n,["computerUse"]);return g!=null&&s(e,["computerUse"],g),e}function Mh(n){const e={},o=l(n,["mode"]);o!=null&&s(e,["mode"],o);const r=l(n,["allowedFunctionNames"]);return r!=null&&s(e,["allowedFunctionNames"],r),e}function Rh(n){const e={},o=l(n,["latitude"]);o!=null&&s(e,["latitude"],o);const r=l(n,["longitude"]);return r!=null&&s(e,["longitude"],r),e}function Ph(n){const e={},o=l(n,["latLng"]);o!=null&&s(e,["latLng"],Rh(o));const r=l(n,["languageCode"]);return r!=null&&s(e,["languageCode"],r),e}function kh(n){const e={},o=l(n,["functionCallingConfig"]);o!=null&&s(e,["functionCallingConfig"],Mh(o));const r=l(n,["retrievalConfig"]);return r!=null&&s(e,["retrievalConfig"],Ph(r)),e}function Nh(n,e){const o={},r=l(n,["ttl"]);e!==void 0&&r!=null&&s(e,["ttl"],r);const a=l(n,["expireTime"]);e!==void 0&&a!=null&&s(e,["expireTime"],a);const f=l(n,["displayName"]);e!==void 0&&f!=null&&s(e,["displayName"],f);const d=l(n,["contents"]);if(e!==void 0&&d!=null){let v=Tn(d);Array.isArray(v)&&(v=v.map(C=>Ff(C))),s(e,["contents"],v)}const g=l(n,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["systemInstruction"],Ff(je(g)));const y=l(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(C=>Ah(C))),s(e,["tools"],v)}const m=l(n,["toolConfig"]);if(e!==void 0&&m!=null&&s(e,["toolConfig"],kh(m)),l(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function Dh(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["model"],ld(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],Nh(a,o)),o}function Lh(n,e){const o={},r=l(e,["name"]);r!=null&&s(o,["_url","name"],qn(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],a),o}function Fh(n,e){const o={},r=l(e,["name"]);r!=null&&s(o,["_url","name"],qn(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],a),o}function Uh(n,e){const o={},r=l(n,["ttl"]);e!==void 0&&r!=null&&s(e,["ttl"],r);const a=l(n,["expireTime"]);return e!==void 0&&a!=null&&s(e,["expireTime"],a),o}function Vh(n,e){const o={},r=l(e,["name"]);r!=null&&s(o,["_url","name"],qn(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],Uh(a,o)),o}function Gh(n,e){const o={},r=l(n,["pageSize"]);e!==void 0&&r!=null&&s(e,["_query","pageSize"],r);const a=l(n,["pageToken"]);return e!==void 0&&a!=null&&s(e,["_query","pageToken"],a),o}function Bh(n){const e={},o=l(n,["config"]);return o!=null&&s(e,["config"],Gh(o,e)),e}function Hh(n){const e={},o=l(n,["fps"]);o!=null&&s(e,["fps"],o);const r=l(n,["endOffset"]);r!=null&&s(e,["endOffset"],r);const a=l(n,["startOffset"]);return a!=null&&s(e,["startOffset"],a),e}function qh(n){const e={},o=l(n,["displayName"]);o!=null&&s(e,["displayName"],o);const r=l(n,["data"]);r!=null&&s(e,["data"],r);const a=l(n,["mimeType"]);return a!=null&&s(e,["mimeType"],a),e}function zh(n){const e={},o=l(n,["displayName"]);o!=null&&s(e,["displayName"],o);const r=l(n,["fileUri"]);r!=null&&s(e,["fileUri"],r);const a=l(n,["mimeType"]);return a!=null&&s(e,["mimeType"],a),e}function $h(n){const e={},o=l(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],Hh(o));const r=l(n,["thought"]);r!=null&&s(e,["thought"],r);const a=l(n,["inlineData"]);a!=null&&s(e,["inlineData"],qh(a));const f=l(n,["fileData"]);f!=null&&s(e,["fileData"],zh(f));const d=l(n,["thoughtSignature"]);d!=null&&s(e,["thoughtSignature"],d);const g=l(n,["codeExecutionResult"]);g!=null&&s(e,["codeExecutionResult"],g);const y=l(n,["executableCode"]);y!=null&&s(e,["executableCode"],y);const m=l(n,["functionCall"]);m!=null&&s(e,["functionCall"],m);const v=l(n,["functionResponse"]);v!=null&&s(e,["functionResponse"],v);const C=l(n,["text"]);return C!=null&&s(e,["text"],C),e}function Uf(n){const e={},o=l(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>$h(f))),s(e,["parts"],a)}const r=l(n,["role"]);return r!=null&&s(e,["role"],r),e}function Jh(n){const e={};if(l(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=l(n,["description"]);o!=null&&s(e,["description"],o);const r=l(n,["name"]);r!=null&&s(e,["name"],r);const a=l(n,["parameters"]);a!=null&&s(e,["parameters"],a);const f=l(n,["parametersJsonSchema"]);f!=null&&s(e,["parametersJsonSchema"],f);const d=l(n,["response"]);d!=null&&s(e,["response"],d);const g=l(n,["responseJsonSchema"]);return g!=null&&s(e,["responseJsonSchema"],g),e}function Wh(n){const e={},o=l(n,["startTime"]);o!=null&&s(e,["startTime"],o);const r=l(n,["endTime"]);return r!=null&&s(e,["endTime"],r),e}function Kh(n){const e={},o=l(n,["timeRangeFilter"]);return o!=null&&s(e,["timeRangeFilter"],Wh(o)),e}function Yh(n){const e={},o=l(n,["mode"]);o!=null&&s(e,["mode"],o);const r=l(n,["dynamicThreshold"]);return r!=null&&s(e,["dynamicThreshold"],r),e}function Oh(n){const e={},o=l(n,["dynamicRetrievalConfig"]);return o!=null&&s(e,["dynamicRetrievalConfig"],Yh(o)),e}function Qh(){return{}}function Xh(n){const e={},o=l(n,["apiKeyString"]);return o!=null&&s(e,["apiKeyString"],o),e}function Zh(n){const e={},o=l(n,["apiKeyConfig"]);o!=null&&s(e,["apiKeyConfig"],Xh(o));const r=l(n,["authType"]);r!=null&&s(e,["authType"],r);const a=l(n,["googleServiceAccountConfig"]);a!=null&&s(e,["googleServiceAccountConfig"],a);const f=l(n,["httpBasicAuthConfig"]);f!=null&&s(e,["httpBasicAuthConfig"],f);const d=l(n,["oauthConfig"]);d!=null&&s(e,["oauthConfig"],d);const g=l(n,["oidcConfig"]);return g!=null&&s(e,["oidcConfig"],g),e}function bh(n){const e={},o=l(n,["authConfig"]);return o!=null&&s(e,["authConfig"],Zh(o)),e}function jh(){return{}}function ey(n){const e={},o=l(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>Jh(S))),s(e,["functionDeclarations"],C)}const r=l(n,["retrieval"]);r!=null&&s(e,["retrieval"],r);const a=l(n,["googleSearch"]);a!=null&&s(e,["googleSearch"],Kh(a));const f=l(n,["googleSearchRetrieval"]);f!=null&&s(e,["googleSearchRetrieval"],Oh(f)),l(n,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],Qh());const g=l(n,["googleMaps"]);g!=null&&s(e,["googleMaps"],bh(g)),l(n,["urlContext"])!=null&&s(e,["urlContext"],jh());const m=l(n,["codeExecution"]);m!=null&&s(e,["codeExecution"],m);const v=l(n,["computerUse"]);return v!=null&&s(e,["computerUse"],v),e}function ny(n){const e={},o=l(n,["mode"]);o!=null&&s(e,["mode"],o);const r=l(n,["allowedFunctionNames"]);return r!=null&&s(e,["allowedFunctionNames"],r),e}function ty(n){const e={},o=l(n,["latitude"]);o!=null&&s(e,["latitude"],o);const r=l(n,["longitude"]);return r!=null&&s(e,["longitude"],r),e}function oy(n){const e={},o=l(n,["latLng"]);o!=null&&s(e,["latLng"],ty(o));const r=l(n,["languageCode"]);return r!=null&&s(e,["languageCode"],r),e}function iy(n){const e={},o=l(n,["functionCallingConfig"]);o!=null&&s(e,["functionCallingConfig"],ny(o));const r=l(n,["retrievalConfig"]);return r!=null&&s(e,["retrievalConfig"],oy(r)),e}function ry(n,e){const o={},r=l(n,["ttl"]);e!==void 0&&r!=null&&s(e,["ttl"],r);const a=l(n,["expireTime"]);e!==void 0&&a!=null&&s(e,["expireTime"],a);const f=l(n,["displayName"]);e!==void 0&&f!=null&&s(e,["displayName"],f);const d=l(n,["contents"]);if(e!==void 0&&d!=null){let C=Tn(d);Array.isArray(C)&&(C=C.map(S=>Uf(S))),s(e,["contents"],C)}const g=l(n,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["systemInstruction"],Uf(je(g)));const y=l(n,["tools"]);if(e!==void 0&&y!=null){let C=y;Array.isArray(C)&&(C=C.map(S=>ey(S))),s(e,["tools"],C)}const m=l(n,["toolConfig"]);e!==void 0&&m!=null&&s(e,["toolConfig"],iy(m));const v=l(n,["kmsKeyName"]);return e!==void 0&&v!=null&&s(e,["encryption_spec","kmsKeyName"],v),o}function ly(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["model"],ld(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],ry(a,o)),o}function sy(n,e){const o={},r=l(e,["name"]);r!=null&&s(o,["_url","name"],qn(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],a),o}function uy(n,e){const o={},r=l(e,["name"]);r!=null&&s(o,["_url","name"],qn(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],a),o}function ay(n,e){const o={},r=l(n,["ttl"]);e!==void 0&&r!=null&&s(e,["ttl"],r);const a=l(n,["expireTime"]);return e!==void 0&&a!=null&&s(e,["expireTime"],a),o}function cy(n,e){const o={},r=l(e,["name"]);r!=null&&s(o,["_url","name"],qn(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],ay(a,o)),o}function fy(n,e){const o={},r=l(n,["pageSize"]);e!==void 0&&r!=null&&s(e,["_query","pageSize"],r);const a=l(n,["pageToken"]);return e!==void 0&&a!=null&&s(e,["_query","pageToken"],a),o}function dy(n){const e={},o=l(n,["config"]);return o!=null&&s(e,["config"],fy(o,e)),e}function sr(n){const e={},o=l(n,["name"]);o!=null&&s(e,["name"],o);const r=l(n,["displayName"]);r!=null&&s(e,["displayName"],r);const a=l(n,["model"]);a!=null&&s(e,["model"],a);const f=l(n,["createTime"]);f!=null&&s(e,["createTime"],f);const d=l(n,["updateTime"]);d!=null&&s(e,["updateTime"],d);const g=l(n,["expireTime"]);g!=null&&s(e,["expireTime"],g);const y=l(n,["usageMetadata"]);return y!=null&&s(e,["usageMetadata"],y),e}function py(){return{}}function my(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["nextPageToken"]);r!=null&&s(e,["nextPageToken"],r);const a=l(n,["cachedContents"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>sr(d))),s(e,["cachedContents"],f)}return e}function ur(n){const e={},o=l(n,["name"]);o!=null&&s(e,["name"],o);const r=l(n,["displayName"]);r!=null&&s(e,["displayName"],r);const a=l(n,["model"]);a!=null&&s(e,["model"],a);const f=l(n,["createTime"]);f!=null&&s(e,["createTime"],f);const d=l(n,["updateTime"]);d!=null&&s(e,["updateTime"],d);const g=l(n,["expireTime"]);g!=null&&s(e,["expireTime"],g);const y=l(n,["usageMetadata"]);return y!=null&&s(e,["usageMetadata"],y),e}function gy(){return{}}function hy(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["nextPageToken"]);r!=null&&s(e,["nextPageToken"],r);const a=l(n,["cachedContents"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>ur(d))),s(e,["cachedContents"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yy extends _t{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Qo(Et.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(o),o)}async create(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=ly(this.apiClient,e);return g=Z("cachedContents",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d.then(v=>ur(v))}else{const m=Dh(this.apiClient,e);return g=Z("cachedContents",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d.then(v=>sr(v))}}async get(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=sy(this.apiClient,e);return g=Z("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d.then(v=>ur(v))}else{const m=Lh(this.apiClient,e);return g=Z("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d.then(v=>sr(v))}}async delete(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=uy(this.apiClient,e);return g=Z("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d.then(()=>{const v=gy(),C=new Rf;return Object.assign(C,v),C})}else{const m=Fh(this.apiClient,e);return g=Z("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d.then(()=>{const v=py(),C=new Rf;return Object.assign(C,v),C})}}async update(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=cy(this.apiClient,e);return g=Z("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d.then(v=>ur(v))}else{const m=Vh(this.apiClient,e);return g=Z("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d.then(v=>sr(v))}}async listInternal(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=dy(e);return g=Z("cachedContents",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const C=hy(v),S=new Pf;return Object.assign(S,C),S})}else{const m=Bh(e);return g=Z("cachedContents",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const C=my(v),S=new Pf;return Object.assign(S,C),S})}}}function Vf(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],r=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ie(n){return this instanceof Ie?(this.v=n,this):new Ie(n)}function bt(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=o.apply(n,e||[]),a,f=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(A){return function(N){return Promise.resolve(N).then(A,C)}}function g(A,N){r[A]&&(a[A]=function(P){return new Promise(function(D,q){f.push([A,P,D,q])>1||y(A,P)})},N&&(a[A]=N(a[A])))}function y(A,N){try{m(r[A](N))}catch(P){S(f[0][3],P)}}function m(A){A.value instanceof Ie?Promise.resolve(A.value.v).then(v,C):S(f[0][2],A)}function v(A){y("next",A)}function C(A){y("throw",A)}function S(A,N){A(N),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Oo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof Vf=="function"?Vf(n):n[Symbol.iterator](),o={},r("next"),r("throw"),r("return"),o[Symbol.asyncIterator]=function(){return this},o);function r(f){o[f]=n[f]&&function(d){return new Promise(function(g,y){d=n[f](d),a(g,y,d.done,d.value)})}}function a(f,d,g,y){Promise.resolve(y).then(function(m){f({value:m,done:g})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vy(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:Ed(o)}function Ed(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function Cy(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Gf(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let r=0;for(;r<o;)if(n[r].role==="user")e.push(n[r]),r++;else{const a=[];let f=!0;for(;r<o&&n[r].role==="model";)a.push(n[r]),f&&!Ed(n[r])&&(f=!1),r++;f?e.push(...a):e.pop()}return e}class Ty{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new Sy(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Sy{constructor(e,o,r,a={},f=[]){this.apiClient=e,this.modelsModule=o,this.model=r,this.config=a,this.history=f,this.sendPromise=Promise.resolve(),Cy(f)}async sendMessage(e){var o;await this.sendPromise;const r=je(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,d,g;const y=await a,m=(d=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content,v=y.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let S=[];v!=null&&(S=(g=v.slice(C))!==null&&g!==void 0?g:[]);const A=m?[m]:[];this.recordHistory(r,A,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var o;await this.sendPromise;const r=je(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const f=await a;return this.processStreamResponse(f,r)}getHistory(e=!1){const o=e?Gf(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var r,a;return bt(this,arguments,function*(){var d,g,y,m;const v=[];try{for(var C=!0,S=Oo(e),A;A=yield Ie(S.next()),d=A.done,!d;C=!0){m=A.value,C=!1;const N=m;if(vy(N)){const P=(a=(r=N.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;P!==void 0&&v.push(P)}yield yield Ie(N)}}catch(N){g={error:N}}finally{try{!C&&!d&&(y=S.return)&&(yield Ie(y.call(S)))}finally{if(g)throw g.error}}this.recordHistory(o,v)})}recordHistory(e,o,r){let a=[];o.length>0&&o.every(f=>f.role!==void 0)?a=o:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Gf(r)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dr extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,dr.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ey(n,e){const o={},r=l(n,["pageSize"]);e!==void 0&&r!=null&&s(e,["_query","pageSize"],r);const a=l(n,["pageToken"]);return e!==void 0&&a!=null&&s(e,["_query","pageToken"],a),o}function _y(n){const e={},o=l(n,["config"]);return o!=null&&s(e,["config"],Ey(o,e)),e}function xy(n){const e={},o=l(n,["details"]);o!=null&&s(e,["details"],o);const r=l(n,["message"]);r!=null&&s(e,["message"],r);const a=l(n,["code"]);return a!=null&&s(e,["code"],a),e}function wy(n){const e={},o=l(n,["name"]);o!=null&&s(e,["name"],o);const r=l(n,["displayName"]);r!=null&&s(e,["displayName"],r);const a=l(n,["mimeType"]);a!=null&&s(e,["mimeType"],a);const f=l(n,["sizeBytes"]);f!=null&&s(e,["sizeBytes"],f);const d=l(n,["createTime"]);d!=null&&s(e,["createTime"],d);const g=l(n,["expirationTime"]);g!=null&&s(e,["expirationTime"],g);const y=l(n,["updateTime"]);y!=null&&s(e,["updateTime"],y);const m=l(n,["sha256Hash"]);m!=null&&s(e,["sha256Hash"],m);const v=l(n,["uri"]);v!=null&&s(e,["uri"],v);const C=l(n,["downloadUri"]);C!=null&&s(e,["downloadUri"],C);const S=l(n,["state"]);S!=null&&s(e,["state"],S);const A=l(n,["source"]);A!=null&&s(e,["source"],A);const N=l(n,["videoMetadata"]);N!=null&&s(e,["videoMetadata"],N);const P=l(n,["error"]);return P!=null&&s(e,["error"],xy(P)),e}function Iy(n){const e={},o=l(n,["file"]);o!=null&&s(e,["file"],wy(o));const r=l(n,["config"]);return r!=null&&s(e,["config"],r),e}function Ay(n){const e={},o=l(n,["name"]);o!=null&&s(e,["_url","file"],pd(o));const r=l(n,["config"]);return r!=null&&s(e,["config"],r),e}function My(n){const e={},o=l(n,["name"]);o!=null&&s(e,["_url","file"],pd(o));const r=l(n,["config"]);return r!=null&&s(e,["config"],r),e}function Ry(n){const e={},o=l(n,["details"]);o!=null&&s(e,["details"],o);const r=l(n,["message"]);r!=null&&s(e,["message"],r);const a=l(n,["code"]);return a!=null&&s(e,["code"],a),e}function Es(n){const e={},o=l(n,["name"]);o!=null&&s(e,["name"],o);const r=l(n,["displayName"]);r!=null&&s(e,["displayName"],r);const a=l(n,["mimeType"]);a!=null&&s(e,["mimeType"],a);const f=l(n,["sizeBytes"]);f!=null&&s(e,["sizeBytes"],f);const d=l(n,["createTime"]);d!=null&&s(e,["createTime"],d);const g=l(n,["expirationTime"]);g!=null&&s(e,["expirationTime"],g);const y=l(n,["updateTime"]);y!=null&&s(e,["updateTime"],y);const m=l(n,["sha256Hash"]);m!=null&&s(e,["sha256Hash"],m);const v=l(n,["uri"]);v!=null&&s(e,["uri"],v);const C=l(n,["downloadUri"]);C!=null&&s(e,["downloadUri"],C);const S=l(n,["state"]);S!=null&&s(e,["state"],S);const A=l(n,["source"]);A!=null&&s(e,["source"],A);const N=l(n,["videoMetadata"]);N!=null&&s(e,["videoMetadata"],N);const P=l(n,["error"]);return P!=null&&s(e,["error"],Ry(P)),e}function Py(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["nextPageToken"]);r!=null&&s(e,["nextPageToken"],r);const a=l(n,["files"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>Es(d))),s(e,["files"],f)}return e}function ky(n){const e={},o=l(n,["sdkHttpResponse"]);return o!=null&&s(e,["sdkHttpResponse"],o),e}function Ny(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dy extends _t{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Qo(Et.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>Es(o))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,r;let a,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_y(e);return f=Z("files",g._url),d=g._query,delete g.config,delete g._url,delete g._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=Py(y),v=new Zm;return Object.assign(v,m),v})}}async createInternal(e){var o,r;let a,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Iy(e);return f=Z("upload/v1beta/files",g._url),d=g._query,delete g.config,delete g._url,delete g._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>{const m=ky(y),v=new bm;return Object.assign(v,m),v})}}async get(e){var o,r;let a,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Ay(e);return f=Z("files/{file}",g._url),d=g._query,delete g.config,delete g._url,delete g._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>Es(y))}}async delete(e){var o,r;let a,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=My(e);return f=Z("files/{file}",g._url),d=g._query,delete g.config,delete g._url,delete g._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(()=>{const y=Ny(),m=new jm;return Object.assign(m,y),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ly(n){const e={},o=l(n,["voiceName"]);return o!=null&&s(e,["voiceName"],o),e}function _d(n){const e={},o=l(n,["prebuiltVoiceConfig"]);return o!=null&&s(e,["prebuiltVoiceConfig"],Ly(o)),e}function Fy(n){const e={},o=l(n,["speaker"]);o!=null&&s(e,["speaker"],o);const r=l(n,["voiceConfig"]);return r!=null&&s(e,["voiceConfig"],_d(r)),e}function Uy(n){const e={},o=l(n,["speakerVoiceConfigs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>Fy(a))),s(e,["speakerVoiceConfigs"],r)}return e}function Vy(n){const e={},o=l(n,["voiceConfig"]);o!=null&&s(e,["voiceConfig"],_d(o));const r=l(n,["multiSpeakerVoiceConfig"]);r!=null&&s(e,["multiSpeakerVoiceConfig"],Uy(r));const a=l(n,["languageCode"]);return a!=null&&s(e,["languageCode"],a),e}function Gy(n){const e={},o=l(n,["fps"]);o!=null&&s(e,["fps"],o);const r=l(n,["endOffset"]);r!=null&&s(e,["endOffset"],r);const a=l(n,["startOffset"]);return a!=null&&s(e,["startOffset"],a),e}function By(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(n,["data"]);o!=null&&s(e,["data"],o);const r=l(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function Hy(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(n,["fileUri"]);o!=null&&s(e,["fileUri"],o);const r=l(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function qy(n){const e={},o=l(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],Gy(o));const r=l(n,["thought"]);r!=null&&s(e,["thought"],r);const a=l(n,["inlineData"]);a!=null&&s(e,["inlineData"],By(a));const f=l(n,["fileData"]);f!=null&&s(e,["fileData"],Hy(f));const d=l(n,["thoughtSignature"]);d!=null&&s(e,["thoughtSignature"],d);const g=l(n,["codeExecutionResult"]);g!=null&&s(e,["codeExecutionResult"],g);const y=l(n,["executableCode"]);y!=null&&s(e,["executableCode"],y);const m=l(n,["functionCall"]);m!=null&&s(e,["functionCall"],m);const v=l(n,["functionResponse"]);v!=null&&s(e,["functionResponse"],v);const C=l(n,["text"]);return C!=null&&s(e,["text"],C),e}function zy(n){const e={},o=l(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>qy(f))),s(e,["parts"],a)}const r=l(n,["role"]);return r!=null&&s(e,["role"],r),e}function $y(n){const e={},o=l(n,["behavior"]);o!=null&&s(e,["behavior"],o);const r=l(n,["description"]);r!=null&&s(e,["description"],r);const a=l(n,["name"]);a!=null&&s(e,["name"],a);const f=l(n,["parameters"]);f!=null&&s(e,["parameters"],f);const d=l(n,["parametersJsonSchema"]);d!=null&&s(e,["parametersJsonSchema"],d);const g=l(n,["response"]);g!=null&&s(e,["response"],g);const y=l(n,["responseJsonSchema"]);return y!=null&&s(e,["responseJsonSchema"],y),e}function Jy(n){const e={},o=l(n,["startTime"]);o!=null&&s(e,["startTime"],o);const r=l(n,["endTime"]);return r!=null&&s(e,["endTime"],r),e}function Wy(n){const e={},o=l(n,["timeRangeFilter"]);return o!=null&&s(e,["timeRangeFilter"],Jy(o)),e}function Ky(n){const e={},o=l(n,["mode"]);o!=null&&s(e,["mode"],o);const r=l(n,["dynamicThreshold"]);return r!=null&&s(e,["dynamicThreshold"],r),e}function Yy(n){const e={},o=l(n,["dynamicRetrievalConfig"]);return o!=null&&s(e,["dynamicRetrievalConfig"],Ky(o)),e}function Oy(){return{}}function Qy(n){const e={},o=l(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(m=>$y(m))),s(e,["functionDeclarations"],y)}if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(n,["googleSearch"]);r!=null&&s(e,["googleSearch"],Wy(r));const a=l(n,["googleSearchRetrieval"]);if(a!=null&&s(e,["googleSearchRetrieval"],Yy(a)),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(n,["urlContext"])!=null&&s(e,["urlContext"],Oy());const d=l(n,["codeExecution"]);d!=null&&s(e,["codeExecution"],d);const g=l(n,["computerUse"]);return g!=null&&s(e,["computerUse"],g),e}function Xy(n){const e={},o=l(n,["handle"]);if(o!=null&&s(e,["handle"],o),l(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Bf(){return{}}function Zy(n){const e={},o=l(n,["disabled"]);o!=null&&s(e,["disabled"],o);const r=l(n,["startOfSpeechSensitivity"]);r!=null&&s(e,["startOfSpeechSensitivity"],r);const a=l(n,["endOfSpeechSensitivity"]);a!=null&&s(e,["endOfSpeechSensitivity"],a);const f=l(n,["prefixPaddingMs"]);f!=null&&s(e,["prefixPaddingMs"],f);const d=l(n,["silenceDurationMs"]);return d!=null&&s(e,["silenceDurationMs"],d),e}function by(n){const e={},o=l(n,["automaticActivityDetection"]);o!=null&&s(e,["automaticActivityDetection"],Zy(o));const r=l(n,["activityHandling"]);r!=null&&s(e,["activityHandling"],r);const a=l(n,["turnCoverage"]);return a!=null&&s(e,["turnCoverage"],a),e}function jy(n){const e={},o=l(n,["targetTokens"]);return o!=null&&s(e,["targetTokens"],o),e}function ev(n){const e={},o=l(n,["triggerTokens"]);o!=null&&s(e,["triggerTokens"],o);const r=l(n,["slidingWindow"]);return r!=null&&s(e,["slidingWindow"],jy(r)),e}function nv(n){const e={},o=l(n,["proactiveAudio"]);return o!=null&&s(e,["proactiveAudio"],o),e}function tv(n,e){const o={},r=l(n,["generationConfig"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig"],r);const a=l(n,["responseModalities"]);e!==void 0&&a!=null&&s(e,["setup","generationConfig","responseModalities"],a);const f=l(n,["temperature"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","temperature"],f);const d=l(n,["topP"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","topP"],d);const g=l(n,["topK"]);e!==void 0&&g!=null&&s(e,["setup","generationConfig","topK"],g);const y=l(n,["maxOutputTokens"]);e!==void 0&&y!=null&&s(e,["setup","generationConfig","maxOutputTokens"],y);const m=l(n,["mediaResolution"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","mediaResolution"],m);const v=l(n,["seed"]);e!==void 0&&v!=null&&s(e,["setup","generationConfig","seed"],v);const C=l(n,["speechConfig"]);e!==void 0&&C!=null&&s(e,["setup","generationConfig","speechConfig"],Vy(ks(C)));const S=l(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],S);const A=l(n,["systemInstruction"]);e!==void 0&&A!=null&&s(e,["setup","systemInstruction"],zy(je(A)));const N=l(n,["tools"]);if(e!==void 0&&N!=null){let O=to(N);Array.isArray(O)&&(O=O.map(oe=>Qy(no(oe)))),s(e,["setup","tools"],O)}const P=l(n,["sessionResumption"]);e!==void 0&&P!=null&&s(e,["setup","sessionResumption"],Xy(P));const D=l(n,["inputAudioTranscription"]);e!==void 0&&D!=null&&s(e,["setup","inputAudioTranscription"],Bf());const q=l(n,["outputAudioTranscription"]);e!==void 0&&q!=null&&s(e,["setup","outputAudioTranscription"],Bf());const $=l(n,["realtimeInputConfig"]);e!==void 0&&$!=null&&s(e,["setup","realtimeInputConfig"],by($));const H=l(n,["contextWindowCompression"]);e!==void 0&&H!=null&&s(e,["setup","contextWindowCompression"],ev(H));const J=l(n,["proactivity"]);return e!==void 0&&J!=null&&s(e,["setup","proactivity"],nv(J)),o}function ov(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["setup","model"],Ce(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],tv(a,o)),o}function iv(){return{}}function rv(){return{}}function lv(n){const e={},o=l(n,["media"]);o!=null&&s(e,["mediaChunks"],sd(o));const r=l(n,["audio"]);r!=null&&s(e,["audio"],ad(r));const a=l(n,["audioStreamEnd"]);a!=null&&s(e,["audioStreamEnd"],a);const f=l(n,["video"]);f!=null&&s(e,["video"],ud(f));const d=l(n,["text"]);return d!=null&&s(e,["text"],d),l(n,["activityStart"])!=null&&s(e,["activityStart"],iv()),l(n,["activityEnd"])!=null&&s(e,["activityEnd"],rv()),e}function xd(n){const e={},o=l(n,["text"]);o!=null&&s(e,["text"],o);const r=l(n,["weight"]);return r!=null&&s(e,["weight"],r),e}function sv(n){const e={},o=l(n,["weightedPrompts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>xd(a))),s(e,["weightedPrompts"],r)}return e}function wd(n){const e={},o=l(n,["temperature"]);o!=null&&s(e,["temperature"],o);const r=l(n,["topK"]);r!=null&&s(e,["topK"],r);const a=l(n,["seed"]);a!=null&&s(e,["seed"],a);const f=l(n,["guidance"]);f!=null&&s(e,["guidance"],f);const d=l(n,["bpm"]);d!=null&&s(e,["bpm"],d);const g=l(n,["density"]);g!=null&&s(e,["density"],g);const y=l(n,["brightness"]);y!=null&&s(e,["brightness"],y);const m=l(n,["scale"]);m!=null&&s(e,["scale"],m);const v=l(n,["muteBass"]);v!=null&&s(e,["muteBass"],v);const C=l(n,["muteDrums"]);C!=null&&s(e,["muteDrums"],C);const S=l(n,["onlyBassAndDrums"]);S!=null&&s(e,["onlyBassAndDrums"],S);const A=l(n,["musicGenerationMode"]);return A!=null&&s(e,["musicGenerationMode"],A),e}function uv(n){const e={},o=l(n,["musicGenerationConfig"]);return o!=null&&s(e,["musicGenerationConfig"],wd(o)),e}function Id(n){const e={},o=l(n,["model"]);return o!=null&&s(e,["model"],o),e}function Ad(n){const e={},o=l(n,["weightedPrompts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>xd(a))),s(e,["weightedPrompts"],r)}return e}function _s(n){const e={},o=l(n,["setup"]);o!=null&&s(e,["setup"],Id(o));const r=l(n,["clientContent"]);r!=null&&s(e,["clientContent"],Ad(r));const a=l(n,["musicGenerationConfig"]);a!=null&&s(e,["musicGenerationConfig"],wd(a));const f=l(n,["playbackControl"]);return f!=null&&s(e,["playbackControl"],f),e}function av(n){const e={},o=l(n,["voiceName"]);return o!=null&&s(e,["voiceName"],o),e}function cv(n){const e={},o=l(n,["prebuiltVoiceConfig"]);return o!=null&&s(e,["prebuiltVoiceConfig"],av(o)),e}function fv(n){const e={},o=l(n,["voiceConfig"]);if(o!=null&&s(e,["voiceConfig"],cv(o)),l(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=l(n,["languageCode"]);return r!=null&&s(e,["languageCode"],r),e}function dv(n){const e={},o=l(n,["fps"]);o!=null&&s(e,["fps"],o);const r=l(n,["endOffset"]);r!=null&&s(e,["endOffset"],r);const a=l(n,["startOffset"]);return a!=null&&s(e,["startOffset"],a),e}function pv(n){const e={},o=l(n,["displayName"]);o!=null&&s(e,["displayName"],o);const r=l(n,["data"]);r!=null&&s(e,["data"],r);const a=l(n,["mimeType"]);return a!=null&&s(e,["mimeType"],a),e}function mv(n){const e={},o=l(n,["displayName"]);o!=null&&s(e,["displayName"],o);const r=l(n,["fileUri"]);r!=null&&s(e,["fileUri"],r);const a=l(n,["mimeType"]);return a!=null&&s(e,["mimeType"],a),e}function gv(n){const e={},o=l(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],dv(o));const r=l(n,["thought"]);r!=null&&s(e,["thought"],r);const a=l(n,["inlineData"]);a!=null&&s(e,["inlineData"],pv(a));const f=l(n,["fileData"]);f!=null&&s(e,["fileData"],mv(f));const d=l(n,["thoughtSignature"]);d!=null&&s(e,["thoughtSignature"],d);const g=l(n,["codeExecutionResult"]);g!=null&&s(e,["codeExecutionResult"],g);const y=l(n,["executableCode"]);y!=null&&s(e,["executableCode"],y);const m=l(n,["functionCall"]);m!=null&&s(e,["functionCall"],m);const v=l(n,["functionResponse"]);v!=null&&s(e,["functionResponse"],v);const C=l(n,["text"]);return C!=null&&s(e,["text"],C),e}function hv(n){const e={},o=l(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>gv(f))),s(e,["parts"],a)}const r=l(n,["role"]);return r!=null&&s(e,["role"],r),e}function yv(n){const e={};if(l(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=l(n,["description"]);o!=null&&s(e,["description"],o);const r=l(n,["name"]);r!=null&&s(e,["name"],r);const a=l(n,["parameters"]);a!=null&&s(e,["parameters"],a);const f=l(n,["parametersJsonSchema"]);f!=null&&s(e,["parametersJsonSchema"],f);const d=l(n,["response"]);d!=null&&s(e,["response"],d);const g=l(n,["responseJsonSchema"]);return g!=null&&s(e,["responseJsonSchema"],g),e}function vv(n){const e={},o=l(n,["startTime"]);o!=null&&s(e,["startTime"],o);const r=l(n,["endTime"]);return r!=null&&s(e,["endTime"],r),e}function Cv(n){const e={},o=l(n,["timeRangeFilter"]);return o!=null&&s(e,["timeRangeFilter"],vv(o)),e}function Tv(n){const e={},o=l(n,["mode"]);o!=null&&s(e,["mode"],o);const r=l(n,["dynamicThreshold"]);return r!=null&&s(e,["dynamicThreshold"],r),e}function Sv(n){const e={},o=l(n,["dynamicRetrievalConfig"]);return o!=null&&s(e,["dynamicRetrievalConfig"],Tv(o)),e}function Ev(){return{}}function _v(n){const e={},o=l(n,["apiKeyString"]);return o!=null&&s(e,["apiKeyString"],o),e}function xv(n){const e={},o=l(n,["apiKeyConfig"]);o!=null&&s(e,["apiKeyConfig"],_v(o));const r=l(n,["authType"]);r!=null&&s(e,["authType"],r);const a=l(n,["googleServiceAccountConfig"]);a!=null&&s(e,["googleServiceAccountConfig"],a);const f=l(n,["httpBasicAuthConfig"]);f!=null&&s(e,["httpBasicAuthConfig"],f);const d=l(n,["oauthConfig"]);d!=null&&s(e,["oauthConfig"],d);const g=l(n,["oidcConfig"]);return g!=null&&s(e,["oidcConfig"],g),e}function wv(n){const e={},o=l(n,["authConfig"]);return o!=null&&s(e,["authConfig"],xv(o)),e}function Iv(){return{}}function Av(n){const e={},o=l(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>yv(S))),s(e,["functionDeclarations"],C)}const r=l(n,["retrieval"]);r!=null&&s(e,["retrieval"],r);const a=l(n,["googleSearch"]);a!=null&&s(e,["googleSearch"],Cv(a));const f=l(n,["googleSearchRetrieval"]);f!=null&&s(e,["googleSearchRetrieval"],Sv(f)),l(n,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],Ev());const g=l(n,["googleMaps"]);g!=null&&s(e,["googleMaps"],wv(g)),l(n,["urlContext"])!=null&&s(e,["urlContext"],Iv());const m=l(n,["codeExecution"]);m!=null&&s(e,["codeExecution"],m);const v=l(n,["computerUse"]);return v!=null&&s(e,["computerUse"],v),e}function Mv(n){const e={},o=l(n,["handle"]);o!=null&&s(e,["handle"],o);const r=l(n,["transparent"]);return r!=null&&s(e,["transparent"],r),e}function Hf(){return{}}function Rv(n){const e={},o=l(n,["disabled"]);o!=null&&s(e,["disabled"],o);const r=l(n,["startOfSpeechSensitivity"]);r!=null&&s(e,["startOfSpeechSensitivity"],r);const a=l(n,["endOfSpeechSensitivity"]);a!=null&&s(e,["endOfSpeechSensitivity"],a);const f=l(n,["prefixPaddingMs"]);f!=null&&s(e,["prefixPaddingMs"],f);const d=l(n,["silenceDurationMs"]);return d!=null&&s(e,["silenceDurationMs"],d),e}function Pv(n){const e={},o=l(n,["automaticActivityDetection"]);o!=null&&s(e,["automaticActivityDetection"],Rv(o));const r=l(n,["activityHandling"]);r!=null&&s(e,["activityHandling"],r);const a=l(n,["turnCoverage"]);return a!=null&&s(e,["turnCoverage"],a),e}function kv(n){const e={},o=l(n,["targetTokens"]);return o!=null&&s(e,["targetTokens"],o),e}function Nv(n){const e={},o=l(n,["triggerTokens"]);o!=null&&s(e,["triggerTokens"],o);const r=l(n,["slidingWindow"]);return r!=null&&s(e,["slidingWindow"],kv(r)),e}function Dv(n){const e={},o=l(n,["proactiveAudio"]);return o!=null&&s(e,["proactiveAudio"],o),e}function Lv(n,e){const o={},r=l(n,["generationConfig"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig"],r);const a=l(n,["responseModalities"]);e!==void 0&&a!=null&&s(e,["setup","generationConfig","responseModalities"],a);const f=l(n,["temperature"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","temperature"],f);const d=l(n,["topP"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","topP"],d);const g=l(n,["topK"]);e!==void 0&&g!=null&&s(e,["setup","generationConfig","topK"],g);const y=l(n,["maxOutputTokens"]);e!==void 0&&y!=null&&s(e,["setup","generationConfig","maxOutputTokens"],y);const m=l(n,["mediaResolution"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","mediaResolution"],m);const v=l(n,["seed"]);e!==void 0&&v!=null&&s(e,["setup","generationConfig","seed"],v);const C=l(n,["speechConfig"]);e!==void 0&&C!=null&&s(e,["setup","generationConfig","speechConfig"],fv(ks(C)));const S=l(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],S);const A=l(n,["systemInstruction"]);e!==void 0&&A!=null&&s(e,["setup","systemInstruction"],hv(je(A)));const N=l(n,["tools"]);if(e!==void 0&&N!=null){let O=to(N);Array.isArray(O)&&(O=O.map(oe=>Av(no(oe)))),s(e,["setup","tools"],O)}const P=l(n,["sessionResumption"]);e!==void 0&&P!=null&&s(e,["setup","sessionResumption"],Mv(P));const D=l(n,["inputAudioTranscription"]);e!==void 0&&D!=null&&s(e,["setup","inputAudioTranscription"],Hf());const q=l(n,["outputAudioTranscription"]);e!==void 0&&q!=null&&s(e,["setup","outputAudioTranscription"],Hf());const $=l(n,["realtimeInputConfig"]);e!==void 0&&$!=null&&s(e,["setup","realtimeInputConfig"],Pv($));const H=l(n,["contextWindowCompression"]);e!==void 0&&H!=null&&s(e,["setup","contextWindowCompression"],Nv(H));const J=l(n,["proactivity"]);return e!==void 0&&J!=null&&s(e,["setup","proactivity"],Dv(J)),o}function Fv(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["setup","model"],Ce(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],Lv(a,o)),o}function Uv(){return{}}function Vv(){return{}}function Gv(n){const e={},o=l(n,["media"]);o!=null&&s(e,["mediaChunks"],sd(o));const r=l(n,["audio"]);r!=null&&s(e,["audio"],ad(r));const a=l(n,["audioStreamEnd"]);a!=null&&s(e,["audioStreamEnd"],a);const f=l(n,["video"]);f!=null&&s(e,["video"],ud(f));const d=l(n,["text"]);return d!=null&&s(e,["text"],d),l(n,["activityStart"])!=null&&s(e,["activityStart"],Uv()),l(n,["activityEnd"])!=null&&s(e,["activityEnd"],Vv()),e}function Bv(){return{}}function Hv(n){const e={},o=l(n,["fps"]);o!=null&&s(e,["fps"],o);const r=l(n,["endOffset"]);r!=null&&s(e,["endOffset"],r);const a=l(n,["startOffset"]);return a!=null&&s(e,["startOffset"],a),e}function qv(n){const e={},o=l(n,["data"]);o!=null&&s(e,["data"],o);const r=l(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function zv(n){const e={},o=l(n,["fileUri"]);o!=null&&s(e,["fileUri"],o);const r=l(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function $v(n){const e={},o=l(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],Hv(o));const r=l(n,["thought"]);r!=null&&s(e,["thought"],r);const a=l(n,["inlineData"]);a!=null&&s(e,["inlineData"],qv(a));const f=l(n,["fileData"]);f!=null&&s(e,["fileData"],zv(f));const d=l(n,["thoughtSignature"]);d!=null&&s(e,["thoughtSignature"],d);const g=l(n,["codeExecutionResult"]);g!=null&&s(e,["codeExecutionResult"],g);const y=l(n,["executableCode"]);y!=null&&s(e,["executableCode"],y);const m=l(n,["functionCall"]);m!=null&&s(e,["functionCall"],m);const v=l(n,["functionResponse"]);v!=null&&s(e,["functionResponse"],v);const C=l(n,["text"]);return C!=null&&s(e,["text"],C),e}function Jv(n){const e={},o=l(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>$v(f))),s(e,["parts"],a)}const r=l(n,["role"]);return r!=null&&s(e,["role"],r),e}function qf(n){const e={},o=l(n,["text"]);o!=null&&s(e,["text"],o);const r=l(n,["finished"]);return r!=null&&s(e,["finished"],r),e}function Wv(n){const e={},o=l(n,["retrievedUrl"]);o!=null&&s(e,["retrievedUrl"],o);const r=l(n,["urlRetrievalStatus"]);return r!=null&&s(e,["urlRetrievalStatus"],r),e}function Kv(n){const e={},o=l(n,["urlMetadata"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>Wv(a))),s(e,["urlMetadata"],r)}return e}function Yv(n){const e={},o=l(n,["modelTurn"]);o!=null&&s(e,["modelTurn"],Jv(o));const r=l(n,["turnComplete"]);r!=null&&s(e,["turnComplete"],r);const a=l(n,["interrupted"]);a!=null&&s(e,["interrupted"],a);const f=l(n,["groundingMetadata"]);f!=null&&s(e,["groundingMetadata"],f);const d=l(n,["generationComplete"]);d!=null&&s(e,["generationComplete"],d);const g=l(n,["inputTranscription"]);g!=null&&s(e,["inputTranscription"],qf(g));const y=l(n,["outputTranscription"]);y!=null&&s(e,["outputTranscription"],qf(y));const m=l(n,["urlContextMetadata"]);return m!=null&&s(e,["urlContextMetadata"],Kv(m)),e}function Ov(n){const e={},o=l(n,["id"]);o!=null&&s(e,["id"],o);const r=l(n,["args"]);r!=null&&s(e,["args"],r);const a=l(n,["name"]);return a!=null&&s(e,["name"],a),e}function Qv(n){const e={},o=l(n,["functionCalls"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>Ov(a))),s(e,["functionCalls"],r)}return e}function Xv(n){const e={},o=l(n,["ids"]);return o!=null&&s(e,["ids"],o),e}function rr(n){const e={},o=l(n,["modality"]);o!=null&&s(e,["modality"],o);const r=l(n,["tokenCount"]);return r!=null&&s(e,["tokenCount"],r),e}function Zv(n){const e={},o=l(n,["promptTokenCount"]);o!=null&&s(e,["promptTokenCount"],o);const r=l(n,["cachedContentTokenCount"]);r!=null&&s(e,["cachedContentTokenCount"],r);const a=l(n,["responseTokenCount"]);a!=null&&s(e,["responseTokenCount"],a);const f=l(n,["toolUsePromptTokenCount"]);f!=null&&s(e,["toolUsePromptTokenCount"],f);const d=l(n,["thoughtsTokenCount"]);d!=null&&s(e,["thoughtsTokenCount"],d);const g=l(n,["totalTokenCount"]);g!=null&&s(e,["totalTokenCount"],g);const y=l(n,["promptTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(A=>rr(A))),s(e,["promptTokensDetails"],S)}const m=l(n,["cacheTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(A=>rr(A))),s(e,["cacheTokensDetails"],S)}const v=l(n,["responseTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(A=>rr(A))),s(e,["responseTokensDetails"],S)}const C=l(n,["toolUsePromptTokensDetails"]);if(C!=null){let S=C;Array.isArray(S)&&(S=S.map(A=>rr(A))),s(e,["toolUsePromptTokensDetails"],S)}return e}function bv(n){const e={},o=l(n,["timeLeft"]);return o!=null&&s(e,["timeLeft"],o),e}function jv(n){const e={},o=l(n,["newHandle"]);o!=null&&s(e,["newHandle"],o);const r=l(n,["resumable"]);r!=null&&s(e,["resumable"],r);const a=l(n,["lastConsumedClientMessageIndex"]);return a!=null&&s(e,["lastConsumedClientMessageIndex"],a),e}function eC(n){const e={};l(n,["setupComplete"])!=null&&s(e,["setupComplete"],Bv());const r=l(n,["serverContent"]);r!=null&&s(e,["serverContent"],Yv(r));const a=l(n,["toolCall"]);a!=null&&s(e,["toolCall"],Qv(a));const f=l(n,["toolCallCancellation"]);f!=null&&s(e,["toolCallCancellation"],Xv(f));const d=l(n,["usageMetadata"]);d!=null&&s(e,["usageMetadata"],Zv(d));const g=l(n,["goAway"]);g!=null&&s(e,["goAway"],bv(g));const y=l(n,["sessionResumptionUpdate"]);return y!=null&&s(e,["sessionResumptionUpdate"],jv(y)),e}function nC(){return{}}function tC(n){const e={},o=l(n,["text"]);o!=null&&s(e,["text"],o);const r=l(n,["weight"]);return r!=null&&s(e,["weight"],r),e}function oC(n){const e={},o=l(n,["weightedPrompts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>tC(a))),s(e,["weightedPrompts"],r)}return e}function iC(n){const e={},o=l(n,["temperature"]);o!=null&&s(e,["temperature"],o);const r=l(n,["topK"]);r!=null&&s(e,["topK"],r);const a=l(n,["seed"]);a!=null&&s(e,["seed"],a);const f=l(n,["guidance"]);f!=null&&s(e,["guidance"],f);const d=l(n,["bpm"]);d!=null&&s(e,["bpm"],d);const g=l(n,["density"]);g!=null&&s(e,["density"],g);const y=l(n,["brightness"]);y!=null&&s(e,["brightness"],y);const m=l(n,["scale"]);m!=null&&s(e,["scale"],m);const v=l(n,["muteBass"]);v!=null&&s(e,["muteBass"],v);const C=l(n,["muteDrums"]);C!=null&&s(e,["muteDrums"],C);const S=l(n,["onlyBassAndDrums"]);S!=null&&s(e,["onlyBassAndDrums"],S);const A=l(n,["musicGenerationMode"]);return A!=null&&s(e,["musicGenerationMode"],A),e}function rC(n){const e={},o=l(n,["clientContent"]);o!=null&&s(e,["clientContent"],oC(o));const r=l(n,["musicGenerationConfig"]);return r!=null&&s(e,["musicGenerationConfig"],iC(r)),e}function lC(n){const e={},o=l(n,["data"]);o!=null&&s(e,["data"],o);const r=l(n,["mimeType"]);r!=null&&s(e,["mimeType"],r);const a=l(n,["sourceMetadata"]);return a!=null&&s(e,["sourceMetadata"],rC(a)),e}function sC(n){const e={},o=l(n,["audioChunks"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>lC(a))),s(e,["audioChunks"],r)}return e}function uC(n){const e={},o=l(n,["text"]);o!=null&&s(e,["text"],o);const r=l(n,["filteredReason"]);return r!=null&&s(e,["filteredReason"],r),e}function aC(n){const e={};l(n,["setupComplete"])!=null&&s(e,["setupComplete"],nC());const r=l(n,["serverContent"]);r!=null&&s(e,["serverContent"],sC(r));const a=l(n,["filteredPrompt"]);return a!=null&&s(e,["filteredPrompt"],uC(a)),e}function cC(n){const e={},o=l(n,["sessionId"]);return o!=null&&s(e,["sessionId"],o),e}function fC(n){const e={},o=l(n,["fps"]);o!=null&&s(e,["fps"],o);const r=l(n,["endOffset"]);r!=null&&s(e,["endOffset"],r);const a=l(n,["startOffset"]);return a!=null&&s(e,["startOffset"],a),e}function dC(n){const e={},o=l(n,["displayName"]);o!=null&&s(e,["displayName"],o);const r=l(n,["data"]);r!=null&&s(e,["data"],r);const a=l(n,["mimeType"]);return a!=null&&s(e,["mimeType"],a),e}function pC(n){const e={},o=l(n,["displayName"]);o!=null&&s(e,["displayName"],o);const r=l(n,["fileUri"]);r!=null&&s(e,["fileUri"],r);const a=l(n,["mimeType"]);return a!=null&&s(e,["mimeType"],a),e}function mC(n){const e={},o=l(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],fC(o));const r=l(n,["thought"]);r!=null&&s(e,["thought"],r);const a=l(n,["inlineData"]);a!=null&&s(e,["inlineData"],dC(a));const f=l(n,["fileData"]);f!=null&&s(e,["fileData"],pC(f));const d=l(n,["thoughtSignature"]);d!=null&&s(e,["thoughtSignature"],d);const g=l(n,["codeExecutionResult"]);g!=null&&s(e,["codeExecutionResult"],g);const y=l(n,["executableCode"]);y!=null&&s(e,["executableCode"],y);const m=l(n,["functionCall"]);m!=null&&s(e,["functionCall"],m);const v=l(n,["functionResponse"]);v!=null&&s(e,["functionResponse"],v);const C=l(n,["text"]);return C!=null&&s(e,["text"],C),e}function gC(n){const e={},o=l(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>mC(f))),s(e,["parts"],a)}const r=l(n,["role"]);return r!=null&&s(e,["role"],r),e}function zf(n){const e={},o=l(n,["text"]);o!=null&&s(e,["text"],o);const r=l(n,["finished"]);return r!=null&&s(e,["finished"],r),e}function hC(n){const e={},o=l(n,["modelTurn"]);o!=null&&s(e,["modelTurn"],gC(o));const r=l(n,["turnComplete"]);r!=null&&s(e,["turnComplete"],r);const a=l(n,["interrupted"]);a!=null&&s(e,["interrupted"],a);const f=l(n,["groundingMetadata"]);f!=null&&s(e,["groundingMetadata"],f);const d=l(n,["generationComplete"]);d!=null&&s(e,["generationComplete"],d);const g=l(n,["inputTranscription"]);g!=null&&s(e,["inputTranscription"],zf(g));const y=l(n,["outputTranscription"]);return y!=null&&s(e,["outputTranscription"],zf(y)),e}function yC(n){const e={},o=l(n,["args"]);o!=null&&s(e,["args"],o);const r=l(n,["name"]);return r!=null&&s(e,["name"],r),e}function vC(n){const e={},o=l(n,["functionCalls"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>yC(a))),s(e,["functionCalls"],r)}return e}function CC(n){const e={},o=l(n,["ids"]);return o!=null&&s(e,["ids"],o),e}function lr(n){const e={},o=l(n,["modality"]);o!=null&&s(e,["modality"],o);const r=l(n,["tokenCount"]);return r!=null&&s(e,["tokenCount"],r),e}function TC(n){const e={},o=l(n,["promptTokenCount"]);o!=null&&s(e,["promptTokenCount"],o);const r=l(n,["cachedContentTokenCount"]);r!=null&&s(e,["cachedContentTokenCount"],r);const a=l(n,["candidatesTokenCount"]);a!=null&&s(e,["responseTokenCount"],a);const f=l(n,["toolUsePromptTokenCount"]);f!=null&&s(e,["toolUsePromptTokenCount"],f);const d=l(n,["thoughtsTokenCount"]);d!=null&&s(e,["thoughtsTokenCount"],d);const g=l(n,["totalTokenCount"]);g!=null&&s(e,["totalTokenCount"],g);const y=l(n,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(N=>lr(N))),s(e,["promptTokensDetails"],A)}const m=l(n,["cacheTokensDetails"]);if(m!=null){let A=m;Array.isArray(A)&&(A=A.map(N=>lr(N))),s(e,["cacheTokensDetails"],A)}const v=l(n,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(N=>lr(N))),s(e,["responseTokensDetails"],A)}const C=l(n,["toolUsePromptTokensDetails"]);if(C!=null){let A=C;Array.isArray(A)&&(A=A.map(N=>lr(N))),s(e,["toolUsePromptTokensDetails"],A)}const S=l(n,["trafficType"]);return S!=null&&s(e,["trafficType"],S),e}function SC(n){const e={},o=l(n,["timeLeft"]);return o!=null&&s(e,["timeLeft"],o),e}function EC(n){const e={},o=l(n,["newHandle"]);o!=null&&s(e,["newHandle"],o);const r=l(n,["resumable"]);r!=null&&s(e,["resumable"],r);const a=l(n,["lastConsumedClientMessageIndex"]);return a!=null&&s(e,["lastConsumedClientMessageIndex"],a),e}function _C(n){const e={},o=l(n,["setupComplete"]);o!=null&&s(e,["setupComplete"],cC(o));const r=l(n,["serverContent"]);r!=null&&s(e,["serverContent"],hC(r));const a=l(n,["toolCall"]);a!=null&&s(e,["toolCall"],vC(a));const f=l(n,["toolCallCancellation"]);f!=null&&s(e,["toolCallCancellation"],CC(f));const d=l(n,["usageMetadata"]);d!=null&&s(e,["usageMetadata"],TC(d));const g=l(n,["goAway"]);g!=null&&s(e,["goAway"],SC(g));const y=l(n,["sessionResumptionUpdate"]);return y!=null&&s(e,["sessionResumptionUpdate"],EC(y)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xC(n){const e={},o=l(n,["fps"]);o!=null&&s(e,["fps"],o);const r=l(n,["endOffset"]);r!=null&&s(e,["endOffset"],r);const a=l(n,["startOffset"]);return a!=null&&s(e,["startOffset"],a),e}function wC(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(n,["data"]);o!=null&&s(e,["data"],o);const r=l(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function IC(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(n,["fileUri"]);o!=null&&s(e,["fileUri"],o);const r=l(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function AC(n){const e={},o=l(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],xC(o));const r=l(n,["thought"]);r!=null&&s(e,["thought"],r);const a=l(n,["inlineData"]);a!=null&&s(e,["inlineData"],wC(a));const f=l(n,["fileData"]);f!=null&&s(e,["fileData"],IC(f));const d=l(n,["thoughtSignature"]);d!=null&&s(e,["thoughtSignature"],d);const g=l(n,["codeExecutionResult"]);g!=null&&s(e,["codeExecutionResult"],g);const y=l(n,["executableCode"]);y!=null&&s(e,["executableCode"],y);const m=l(n,["functionCall"]);m!=null&&s(e,["functionCall"],m);const v=l(n,["functionResponse"]);v!=null&&s(e,["functionResponse"],v);const C=l(n,["text"]);return C!=null&&s(e,["text"],C),e}function pr(n){const e={},o=l(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>AC(f))),s(e,["parts"],a)}const r=l(n,["role"]);return r!=null&&s(e,["role"],r),e}function MC(n){const e={},o=l(n,["anyOf"]);o!=null&&s(e,["anyOf"],o);const r=l(n,["default"]);r!=null&&s(e,["default"],r);const a=l(n,["description"]);a!=null&&s(e,["description"],a);const f=l(n,["enum"]);f!=null&&s(e,["enum"],f);const d=l(n,["example"]);d!=null&&s(e,["example"],d);const g=l(n,["format"]);g!=null&&s(e,["format"],g);const y=l(n,["items"]);y!=null&&s(e,["items"],y);const m=l(n,["maxItems"]);m!=null&&s(e,["maxItems"],m);const v=l(n,["maxLength"]);v!=null&&s(e,["maxLength"],v);const C=l(n,["maxProperties"]);C!=null&&s(e,["maxProperties"],C);const S=l(n,["maximum"]);S!=null&&s(e,["maximum"],S);const A=l(n,["minItems"]);A!=null&&s(e,["minItems"],A);const N=l(n,["minLength"]);N!=null&&s(e,["minLength"],N);const P=l(n,["minProperties"]);P!=null&&s(e,["minProperties"],P);const D=l(n,["minimum"]);D!=null&&s(e,["minimum"],D);const q=l(n,["nullable"]);q!=null&&s(e,["nullable"],q);const $=l(n,["pattern"]);$!=null&&s(e,["pattern"],$);const H=l(n,["properties"]);H!=null&&s(e,["properties"],H);const J=l(n,["propertyOrdering"]);J!=null&&s(e,["propertyOrdering"],J);const O=l(n,["required"]);O!=null&&s(e,["required"],O);const oe=l(n,["title"]);oe!=null&&s(e,["title"],oe);const ie=l(n,["type"]);return ie!=null&&s(e,["type"],ie),e}function RC(n){const e={};if(l(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=l(n,["category"]);o!=null&&s(e,["category"],o);const r=l(n,["threshold"]);return r!=null&&s(e,["threshold"],r),e}function PC(n){const e={},o=l(n,["behavior"]);o!=null&&s(e,["behavior"],o);const r=l(n,["description"]);r!=null&&s(e,["description"],r);const a=l(n,["name"]);a!=null&&s(e,["name"],a);const f=l(n,["parameters"]);f!=null&&s(e,["parameters"],f);const d=l(n,["parametersJsonSchema"]);d!=null&&s(e,["parametersJsonSchema"],d);const g=l(n,["response"]);g!=null&&s(e,["response"],g);const y=l(n,["responseJsonSchema"]);return y!=null&&s(e,["responseJsonSchema"],y),e}function kC(n){const e={},o=l(n,["startTime"]);o!=null&&s(e,["startTime"],o);const r=l(n,["endTime"]);return r!=null&&s(e,["endTime"],r),e}function NC(n){const e={},o=l(n,["timeRangeFilter"]);return o!=null&&s(e,["timeRangeFilter"],kC(o)),e}function DC(n){const e={},o=l(n,["mode"]);o!=null&&s(e,["mode"],o);const r=l(n,["dynamicThreshold"]);return r!=null&&s(e,["dynamicThreshold"],r),e}function LC(n){const e={},o=l(n,["dynamicRetrievalConfig"]);return o!=null&&s(e,["dynamicRetrievalConfig"],DC(o)),e}function FC(){return{}}function UC(n){const e={},o=l(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(m=>PC(m))),s(e,["functionDeclarations"],y)}if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(n,["googleSearch"]);r!=null&&s(e,["googleSearch"],NC(r));const a=l(n,["googleSearchRetrieval"]);if(a!=null&&s(e,["googleSearchRetrieval"],LC(a)),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(n,["urlContext"])!=null&&s(e,["urlContext"],FC());const d=l(n,["codeExecution"]);d!=null&&s(e,["codeExecution"],d);const g=l(n,["computerUse"]);return g!=null&&s(e,["computerUse"],g),e}function VC(n){const e={},o=l(n,["mode"]);o!=null&&s(e,["mode"],o);const r=l(n,["allowedFunctionNames"]);return r!=null&&s(e,["allowedFunctionNames"],r),e}function GC(n){const e={},o=l(n,["latitude"]);o!=null&&s(e,["latitude"],o);const r=l(n,["longitude"]);return r!=null&&s(e,["longitude"],r),e}function BC(n){const e={},o=l(n,["latLng"]);o!=null&&s(e,["latLng"],GC(o));const r=l(n,["languageCode"]);return r!=null&&s(e,["languageCode"],r),e}function HC(n){const e={},o=l(n,["functionCallingConfig"]);o!=null&&s(e,["functionCallingConfig"],VC(o));const r=l(n,["retrievalConfig"]);return r!=null&&s(e,["retrievalConfig"],BC(r)),e}function qC(n){const e={},o=l(n,["voiceName"]);return o!=null&&s(e,["voiceName"],o),e}function Md(n){const e={},o=l(n,["prebuiltVoiceConfig"]);return o!=null&&s(e,["prebuiltVoiceConfig"],qC(o)),e}function zC(n){const e={},o=l(n,["speaker"]);o!=null&&s(e,["speaker"],o);const r=l(n,["voiceConfig"]);return r!=null&&s(e,["voiceConfig"],Md(r)),e}function $C(n){const e={},o=l(n,["speakerVoiceConfigs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>zC(a))),s(e,["speakerVoiceConfigs"],r)}return e}function JC(n){const e={},o=l(n,["voiceConfig"]);o!=null&&s(e,["voiceConfig"],Md(o));const r=l(n,["multiSpeakerVoiceConfig"]);r!=null&&s(e,["multiSpeakerVoiceConfig"],$C(r));const a=l(n,["languageCode"]);return a!=null&&s(e,["languageCode"],a),e}function WC(n){const e={},o=l(n,["includeThoughts"]);o!=null&&s(e,["includeThoughts"],o);const r=l(n,["thinkingBudget"]);return r!=null&&s(e,["thinkingBudget"],r),e}function KC(n,e,o){const r={},a=l(e,["systemInstruction"]);o!==void 0&&a!=null&&s(o,["systemInstruction"],pr(je(a)));const f=l(e,["temperature"]);f!=null&&s(r,["temperature"],f);const d=l(e,["topP"]);d!=null&&s(r,["topP"],d);const g=l(e,["topK"]);g!=null&&s(r,["topK"],g);const y=l(e,["candidateCount"]);y!=null&&s(r,["candidateCount"],y);const m=l(e,["maxOutputTokens"]);m!=null&&s(r,["maxOutputTokens"],m);const v=l(e,["stopSequences"]);v!=null&&s(r,["stopSequences"],v);const C=l(e,["responseLogprobs"]);C!=null&&s(r,["responseLogprobs"],C);const S=l(e,["logprobs"]);S!=null&&s(r,["logprobs"],S);const A=l(e,["presencePenalty"]);A!=null&&s(r,["presencePenalty"],A);const N=l(e,["frequencyPenalty"]);N!=null&&s(r,["frequencyPenalty"],N);const P=l(e,["seed"]);P!=null&&s(r,["seed"],P);const D=l(e,["responseMimeType"]);D!=null&&s(r,["responseMimeType"],D);const q=l(e,["responseSchema"]);q!=null&&s(r,["responseSchema"],MC(Rs(q)));const $=l(e,["responseJsonSchema"]);if($!=null&&s(r,["responseJsonSchema"],$),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=l(e,["safetySettings"]);if(o!==void 0&&H!=null){let ue=H;Array.isArray(ue)&&(ue=ue.map(Pe=>RC(Pe))),s(o,["safetySettings"],ue)}const J=l(e,["tools"]);if(o!==void 0&&J!=null){let ue=to(J);Array.isArray(ue)&&(ue=ue.map(Pe=>UC(no(Pe)))),s(o,["tools"],ue)}const O=l(e,["toolConfig"]);if(o!==void 0&&O!=null&&s(o,["toolConfig"],HC(O)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const oe=l(e,["cachedContent"]);o!==void 0&&oe!=null&&s(o,["cachedContent"],qn(n,oe));const ie=l(e,["responseModalities"]);ie!=null&&s(r,["responseModalities"],ie);const he=l(e,["mediaResolution"]);he!=null&&s(r,["mediaResolution"],he);const j=l(e,["speechConfig"]);if(j!=null&&s(r,["speechConfig"],JC(Ps(j))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=l(e,["thinkingConfig"]);return ae!=null&&s(r,["thinkingConfig"],WC(ae)),r}function $f(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","model"],Ce(n,r));const a=l(e,["contents"]);if(a!=null){let d=Tn(a);Array.isArray(d)&&(d=d.map(g=>pr(g))),s(o,["contents"],d)}const f=l(e,["config"]);return f!=null&&s(o,["generationConfig"],KC(n,f,o)),o}function YC(n,e){const o={},r=l(n,["taskType"]);e!==void 0&&r!=null&&s(e,["requests[]","taskType"],r);const a=l(n,["title"]);e!==void 0&&a!=null&&s(e,["requests[]","title"],a);const f=l(n,["outputDimensionality"]);if(e!==void 0&&f!=null&&s(e,["requests[]","outputDimensionality"],f),l(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function OC(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","model"],Ce(n,r));const a=l(e,["contents"]);a!=null&&s(o,["requests[]","content"],fd(n,a));const f=l(e,["config"]);f!=null&&s(o,["config"],YC(f,o));const d=l(e,["model"]);return d!==void 0&&s(o,["requests[]","model"],Ce(n,d)),o}function QC(n,e){const o={};if(l(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=l(n,["numberOfImages"]);e!==void 0&&r!=null&&s(e,["parameters","sampleCount"],r);const a=l(n,["aspectRatio"]);e!==void 0&&a!=null&&s(e,["parameters","aspectRatio"],a);const f=l(n,["guidanceScale"]);if(e!==void 0&&f!=null&&s(e,["parameters","guidanceScale"],f),l(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=l(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&s(e,["parameters","safetySetting"],d);const g=l(n,["personGeneration"]);e!==void 0&&g!=null&&s(e,["parameters","personGeneration"],g);const y=l(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&s(e,["parameters","includeSafetyAttributes"],y);const m=l(n,["includeRaiReason"]);e!==void 0&&m!=null&&s(e,["parameters","includeRaiReason"],m);const v=l(n,["language"]);e!==void 0&&v!=null&&s(e,["parameters","language"],v);const C=l(n,["outputMimeType"]);e!==void 0&&C!=null&&s(e,["parameters","outputOptions","mimeType"],C);const S=l(n,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&s(e,["parameters","outputOptions","compressionQuality"],S),l(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const A=l(n,["imageSize"]);if(e!==void 0&&A!=null&&s(e,["parameters","sampleImageSize"],A),l(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function XC(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","model"],Ce(n,r));const a=l(e,["prompt"]);a!=null&&s(o,["instances[0]","prompt"],a);const f=l(e,["config"]);return f!=null&&s(o,["config"],QC(f,o)),o}function ZC(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","name"],Ce(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],a),o}function bC(n,e,o){const r={},a=l(e,["pageSize"]);o!==void 0&&a!=null&&s(o,["_query","pageSize"],a);const f=l(e,["pageToken"]);o!==void 0&&f!=null&&s(o,["_query","pageToken"],f);const d=l(e,["filter"]);o!==void 0&&d!=null&&s(o,["_query","filter"],d);const g=l(e,["queryBase"]);return o!==void 0&&g!=null&&s(o,["_url","models_url"],md(n,g)),r}function jC(n,e){const o={},r=l(e,["config"]);return r!=null&&s(o,["config"],bC(n,r,o)),o}function eT(n,e){const o={},r=l(n,["displayName"]);e!==void 0&&r!=null&&s(e,["displayName"],r);const a=l(n,["description"]);e!==void 0&&a!=null&&s(e,["description"],a);const f=l(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&s(e,["defaultCheckpointId"],f),o}function nT(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","name"],Ce(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],eT(a,o)),o}function tT(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","name"],Ce(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],a),o}function oT(n){const e={};if(l(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function iT(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","model"],Ce(n,r));const a=l(e,["contents"]);if(a!=null){let d=Tn(a);Array.isArray(d)&&(d=d.map(g=>pr(g))),s(o,["contents"],d)}const f=l(e,["config"]);return f!=null&&s(o,["config"],oT(f)),o}function rT(n){const e={};if(l(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=l(n,["imageBytes"]);o!=null&&s(e,["bytesBase64Encoded"],xt(o));const r=l(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function lT(n,e){const o={},r=l(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&s(e,["parameters","sampleCount"],r),l(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=l(n,["durationSeconds"]);if(e!==void 0&&a!=null&&s(e,["parameters","durationSeconds"],a),l(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=l(n,["aspectRatio"]);if(e!==void 0&&f!=null&&s(e,["parameters","aspectRatio"],f),l(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const d=l(n,["personGeneration"]);if(e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d),l(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=l(n,["negativePrompt"]);e!==void 0&&g!=null&&s(e,["parameters","negativePrompt"],g);const y=l(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&s(e,["parameters","enhancePrompt"],y),l(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(l(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(l(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function sT(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","model"],Ce(n,r));const a=l(e,["prompt"]);a!=null&&s(o,["instances[0]","prompt"],a);const f=l(e,["image"]);if(f!=null&&s(o,["instances[0]","image"],rT(f)),l(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const d=l(e,["config"]);return d!=null&&s(o,["config"],lT(d,o)),o}function uT(n){const e={},o=l(n,["fps"]);o!=null&&s(e,["fps"],o);const r=l(n,["endOffset"]);r!=null&&s(e,["endOffset"],r);const a=l(n,["startOffset"]);return a!=null&&s(e,["startOffset"],a),e}function aT(n){const e={},o=l(n,["displayName"]);o!=null&&s(e,["displayName"],o);const r=l(n,["data"]);r!=null&&s(e,["data"],r);const a=l(n,["mimeType"]);return a!=null&&s(e,["mimeType"],a),e}function cT(n){const e={},o=l(n,["displayName"]);o!=null&&s(e,["displayName"],o);const r=l(n,["fileUri"]);r!=null&&s(e,["fileUri"],r);const a=l(n,["mimeType"]);return a!=null&&s(e,["mimeType"],a),e}function fT(n){const e={},o=l(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],uT(o));const r=l(n,["thought"]);r!=null&&s(e,["thought"],r);const a=l(n,["inlineData"]);a!=null&&s(e,["inlineData"],aT(a));const f=l(n,["fileData"]);f!=null&&s(e,["fileData"],cT(f));const d=l(n,["thoughtSignature"]);d!=null&&s(e,["thoughtSignature"],d);const g=l(n,["codeExecutionResult"]);g!=null&&s(e,["codeExecutionResult"],g);const y=l(n,["executableCode"]);y!=null&&s(e,["executableCode"],y);const m=l(n,["functionCall"]);m!=null&&s(e,["functionCall"],m);const v=l(n,["functionResponse"]);v!=null&&s(e,["functionResponse"],v);const C=l(n,["text"]);return C!=null&&s(e,["text"],C),e}function io(n){const e={},o=l(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>fT(f))),s(e,["parts"],a)}const r=l(n,["role"]);return r!=null&&s(e,["role"],r),e}function dT(n){const e={},o=l(n,["anyOf"]);o!=null&&s(e,["anyOf"],o);const r=l(n,["default"]);r!=null&&s(e,["default"],r);const a=l(n,["description"]);a!=null&&s(e,["description"],a);const f=l(n,["enum"]);f!=null&&s(e,["enum"],f);const d=l(n,["example"]);d!=null&&s(e,["example"],d);const g=l(n,["format"]);g!=null&&s(e,["format"],g);const y=l(n,["items"]);y!=null&&s(e,["items"],y);const m=l(n,["maxItems"]);m!=null&&s(e,["maxItems"],m);const v=l(n,["maxLength"]);v!=null&&s(e,["maxLength"],v);const C=l(n,["maxProperties"]);C!=null&&s(e,["maxProperties"],C);const S=l(n,["maximum"]);S!=null&&s(e,["maximum"],S);const A=l(n,["minItems"]);A!=null&&s(e,["minItems"],A);const N=l(n,["minLength"]);N!=null&&s(e,["minLength"],N);const P=l(n,["minProperties"]);P!=null&&s(e,["minProperties"],P);const D=l(n,["minimum"]);D!=null&&s(e,["minimum"],D);const q=l(n,["nullable"]);q!=null&&s(e,["nullable"],q);const $=l(n,["pattern"]);$!=null&&s(e,["pattern"],$);const H=l(n,["properties"]);H!=null&&s(e,["properties"],H);const J=l(n,["propertyOrdering"]);J!=null&&s(e,["propertyOrdering"],J);const O=l(n,["required"]);O!=null&&s(e,["required"],O);const oe=l(n,["title"]);oe!=null&&s(e,["title"],oe);const ie=l(n,["type"]);return ie!=null&&s(e,["type"],ie),e}function pT(n){const e={},o=l(n,["featureSelectionPreference"]);return o!=null&&s(e,["featureSelectionPreference"],o),e}function mT(n){const e={},o=l(n,["method"]);o!=null&&s(e,["method"],o);const r=l(n,["category"]);r!=null&&s(e,["category"],r);const a=l(n,["threshold"]);return a!=null&&s(e,["threshold"],a),e}function gT(n){const e={};if(l(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=l(n,["description"]);o!=null&&s(e,["description"],o);const r=l(n,["name"]);r!=null&&s(e,["name"],r);const a=l(n,["parameters"]);a!=null&&s(e,["parameters"],a);const f=l(n,["parametersJsonSchema"]);f!=null&&s(e,["parametersJsonSchema"],f);const d=l(n,["response"]);d!=null&&s(e,["response"],d);const g=l(n,["responseJsonSchema"]);return g!=null&&s(e,["responseJsonSchema"],g),e}function hT(n){const e={},o=l(n,["startTime"]);o!=null&&s(e,["startTime"],o);const r=l(n,["endTime"]);return r!=null&&s(e,["endTime"],r),e}function yT(n){const e={},o=l(n,["timeRangeFilter"]);return o!=null&&s(e,["timeRangeFilter"],hT(o)),e}function vT(n){const e={},o=l(n,["mode"]);o!=null&&s(e,["mode"],o);const r=l(n,["dynamicThreshold"]);return r!=null&&s(e,["dynamicThreshold"],r),e}function CT(n){const e={},o=l(n,["dynamicRetrievalConfig"]);return o!=null&&s(e,["dynamicRetrievalConfig"],vT(o)),e}function TT(){return{}}function ST(n){const e={},o=l(n,["apiKeyString"]);return o!=null&&s(e,["apiKeyString"],o),e}function ET(n){const e={},o=l(n,["apiKeyConfig"]);o!=null&&s(e,["apiKeyConfig"],ST(o));const r=l(n,["authType"]);r!=null&&s(e,["authType"],r);const a=l(n,["googleServiceAccountConfig"]);a!=null&&s(e,["googleServiceAccountConfig"],a);const f=l(n,["httpBasicAuthConfig"]);f!=null&&s(e,["httpBasicAuthConfig"],f);const d=l(n,["oauthConfig"]);d!=null&&s(e,["oauthConfig"],d);const g=l(n,["oidcConfig"]);return g!=null&&s(e,["oidcConfig"],g),e}function _T(n){const e={},o=l(n,["authConfig"]);return o!=null&&s(e,["authConfig"],ET(o)),e}function xT(){return{}}function Rd(n){const e={},o=l(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>gT(S))),s(e,["functionDeclarations"],C)}const r=l(n,["retrieval"]);r!=null&&s(e,["retrieval"],r);const a=l(n,["googleSearch"]);a!=null&&s(e,["googleSearch"],yT(a));const f=l(n,["googleSearchRetrieval"]);f!=null&&s(e,["googleSearchRetrieval"],CT(f)),l(n,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],TT());const g=l(n,["googleMaps"]);g!=null&&s(e,["googleMaps"],_T(g)),l(n,["urlContext"])!=null&&s(e,["urlContext"],xT());const m=l(n,["codeExecution"]);m!=null&&s(e,["codeExecution"],m);const v=l(n,["computerUse"]);return v!=null&&s(e,["computerUse"],v),e}function wT(n){const e={},o=l(n,["mode"]);o!=null&&s(e,["mode"],o);const r=l(n,["allowedFunctionNames"]);return r!=null&&s(e,["allowedFunctionNames"],r),e}function IT(n){const e={},o=l(n,["latitude"]);o!=null&&s(e,["latitude"],o);const r=l(n,["longitude"]);return r!=null&&s(e,["longitude"],r),e}function AT(n){const e={},o=l(n,["latLng"]);o!=null&&s(e,["latLng"],IT(o));const r=l(n,["languageCode"]);return r!=null&&s(e,["languageCode"],r),e}function MT(n){const e={},o=l(n,["functionCallingConfig"]);o!=null&&s(e,["functionCallingConfig"],wT(o));const r=l(n,["retrievalConfig"]);return r!=null&&s(e,["retrievalConfig"],AT(r)),e}function RT(n){const e={},o=l(n,["voiceName"]);return o!=null&&s(e,["voiceName"],o),e}function PT(n){const e={},o=l(n,["prebuiltVoiceConfig"]);return o!=null&&s(e,["prebuiltVoiceConfig"],RT(o)),e}function kT(n){const e={},o=l(n,["voiceConfig"]);if(o!=null&&s(e,["voiceConfig"],PT(o)),l(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=l(n,["languageCode"]);return r!=null&&s(e,["languageCode"],r),e}function NT(n){const e={},o=l(n,["includeThoughts"]);o!=null&&s(e,["includeThoughts"],o);const r=l(n,["thinkingBudget"]);return r!=null&&s(e,["thinkingBudget"],r),e}function DT(n,e,o){const r={},a=l(e,["systemInstruction"]);o!==void 0&&a!=null&&s(o,["systemInstruction"],io(je(a)));const f=l(e,["temperature"]);f!=null&&s(r,["temperature"],f);const d=l(e,["topP"]);d!=null&&s(r,["topP"],d);const g=l(e,["topK"]);g!=null&&s(r,["topK"],g);const y=l(e,["candidateCount"]);y!=null&&s(r,["candidateCount"],y);const m=l(e,["maxOutputTokens"]);m!=null&&s(r,["maxOutputTokens"],m);const v=l(e,["stopSequences"]);v!=null&&s(r,["stopSequences"],v);const C=l(e,["responseLogprobs"]);C!=null&&s(r,["responseLogprobs"],C);const S=l(e,["logprobs"]);S!=null&&s(r,["logprobs"],S);const A=l(e,["presencePenalty"]);A!=null&&s(r,["presencePenalty"],A);const N=l(e,["frequencyPenalty"]);N!=null&&s(r,["frequencyPenalty"],N);const P=l(e,["seed"]);P!=null&&s(r,["seed"],P);const D=l(e,["responseMimeType"]);D!=null&&s(r,["responseMimeType"],D);const q=l(e,["responseSchema"]);q!=null&&s(r,["responseSchema"],dT(Rs(q)));const $=l(e,["responseJsonSchema"]);$!=null&&s(r,["responseJsonSchema"],$);const H=l(e,["routingConfig"]);H!=null&&s(r,["routingConfig"],H);const J=l(e,["modelSelectionConfig"]);J!=null&&s(r,["modelConfig"],pT(J));const O=l(e,["safetySettings"]);if(o!==void 0&&O!=null){let ke=O;Array.isArray(ke)&&(ke=ke.map(Ee=>mT(Ee))),s(o,["safetySettings"],ke)}const oe=l(e,["tools"]);if(o!==void 0&&oe!=null){let ke=to(oe);Array.isArray(ke)&&(ke=ke.map(Ee=>Rd(no(Ee)))),s(o,["tools"],ke)}const ie=l(e,["toolConfig"]);o!==void 0&&ie!=null&&s(o,["toolConfig"],MT(ie));const he=l(e,["labels"]);o!==void 0&&he!=null&&s(o,["labels"],he);const j=l(e,["cachedContent"]);o!==void 0&&j!=null&&s(o,["cachedContent"],qn(n,j));const ae=l(e,["responseModalities"]);ae!=null&&s(r,["responseModalities"],ae);const ue=l(e,["mediaResolution"]);ue!=null&&s(r,["mediaResolution"],ue);const Pe=l(e,["speechConfig"]);Pe!=null&&s(r,["speechConfig"],kT(Ps(Pe)));const Be=l(e,["audioTimestamp"]);Be!=null&&s(r,["audioTimestamp"],Be);const Oe=l(e,["thinkingConfig"]);return Oe!=null&&s(r,["thinkingConfig"],NT(Oe)),r}function Jf(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","model"],Ce(n,r));const a=l(e,["contents"]);if(a!=null){let d=Tn(a);Array.isArray(d)&&(d=d.map(g=>io(g))),s(o,["contents"],d)}const f=l(e,["config"]);return f!=null&&s(o,["generationConfig"],DT(n,f,o)),o}function LT(n,e){const o={},r=l(n,["taskType"]);e!==void 0&&r!=null&&s(e,["instances[]","task_type"],r);const a=l(n,["title"]);e!==void 0&&a!=null&&s(e,["instances[]","title"],a);const f=l(n,["outputDimensionality"]);e!==void 0&&f!=null&&s(e,["parameters","outputDimensionality"],f);const d=l(n,["mimeType"]);e!==void 0&&d!=null&&s(e,["instances[]","mimeType"],d);const g=l(n,["autoTruncate"]);return e!==void 0&&g!=null&&s(e,["parameters","autoTruncate"],g),o}function FT(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","model"],Ce(n,r));const a=l(e,["contents"]);a!=null&&s(o,["instances[]","content"],fd(n,a));const f=l(e,["config"]);return f!=null&&s(o,["config"],LT(f,o)),o}function UT(n,e){const o={},r=l(n,["outputGcsUri"]);e!==void 0&&r!=null&&s(e,["parameters","storageUri"],r);const a=l(n,["negativePrompt"]);e!==void 0&&a!=null&&s(e,["parameters","negativePrompt"],a);const f=l(n,["numberOfImages"]);e!==void 0&&f!=null&&s(e,["parameters","sampleCount"],f);const d=l(n,["aspectRatio"]);e!==void 0&&d!=null&&s(e,["parameters","aspectRatio"],d);const g=l(n,["guidanceScale"]);e!==void 0&&g!=null&&s(e,["parameters","guidanceScale"],g);const y=l(n,["seed"]);e!==void 0&&y!=null&&s(e,["parameters","seed"],y);const m=l(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&s(e,["parameters","safetySetting"],m);const v=l(n,["personGeneration"]);e!==void 0&&v!=null&&s(e,["parameters","personGeneration"],v);const C=l(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&s(e,["parameters","includeSafetyAttributes"],C);const S=l(n,["includeRaiReason"]);e!==void 0&&S!=null&&s(e,["parameters","includeRaiReason"],S);const A=l(n,["language"]);e!==void 0&&A!=null&&s(e,["parameters","language"],A);const N=l(n,["outputMimeType"]);e!==void 0&&N!=null&&s(e,["parameters","outputOptions","mimeType"],N);const P=l(n,["outputCompressionQuality"]);e!==void 0&&P!=null&&s(e,["parameters","outputOptions","compressionQuality"],P);const D=l(n,["addWatermark"]);e!==void 0&&D!=null&&s(e,["parameters","addWatermark"],D);const q=l(n,["imageSize"]);e!==void 0&&q!=null&&s(e,["parameters","sampleImageSize"],q);const $=l(n,["enhancePrompt"]);return e!==void 0&&$!=null&&s(e,["parameters","enhancePrompt"],$),o}function VT(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","model"],Ce(n,r));const a=l(e,["prompt"]);a!=null&&s(o,["instances[0]","prompt"],a);const f=l(e,["config"]);return f!=null&&s(o,["config"],UT(f,o)),o}function ro(n){const e={},o=l(n,["gcsUri"]);o!=null&&s(e,["gcsUri"],o);const r=l(n,["imageBytes"]);r!=null&&s(e,["bytesBase64Encoded"],xt(r));const a=l(n,["mimeType"]);return a!=null&&s(e,["mimeType"],a),e}function GT(n){const e={},o=l(n,["maskMode"]);o!=null&&s(e,["maskMode"],o);const r=l(n,["segmentationClasses"]);r!=null&&s(e,["maskClasses"],r);const a=l(n,["maskDilation"]);return a!=null&&s(e,["dilation"],a),e}function BT(n){const e={},o=l(n,["controlType"]);o!=null&&s(e,["controlType"],o);const r=l(n,["enableControlImageComputation"]);return r!=null&&s(e,["computeControl"],r),e}function HT(n){const e={},o=l(n,["styleDescription"]);return o!=null&&s(e,["styleDescription"],o),e}function qT(n){const e={},o=l(n,["subjectType"]);o!=null&&s(e,["subjectType"],o);const r=l(n,["subjectDescription"]);return r!=null&&s(e,["subjectDescription"],r),e}function zT(n){const e={},o=l(n,["referenceImage"]);o!=null&&s(e,["referenceImage"],ro(o));const r=l(n,["referenceId"]);r!=null&&s(e,["referenceId"],r);const a=l(n,["referenceType"]);a!=null&&s(e,["referenceType"],a);const f=l(n,["maskImageConfig"]);f!=null&&s(e,["maskImageConfig"],GT(f));const d=l(n,["controlImageConfig"]);d!=null&&s(e,["controlImageConfig"],BT(d));const g=l(n,["styleImageConfig"]);g!=null&&s(e,["styleImageConfig"],HT(g));const y=l(n,["subjectImageConfig"]);return y!=null&&s(e,["subjectImageConfig"],qT(y)),e}function $T(n,e){const o={},r=l(n,["outputGcsUri"]);e!==void 0&&r!=null&&s(e,["parameters","storageUri"],r);const a=l(n,["negativePrompt"]);e!==void 0&&a!=null&&s(e,["parameters","negativePrompt"],a);const f=l(n,["numberOfImages"]);e!==void 0&&f!=null&&s(e,["parameters","sampleCount"],f);const d=l(n,["aspectRatio"]);e!==void 0&&d!=null&&s(e,["parameters","aspectRatio"],d);const g=l(n,["guidanceScale"]);e!==void 0&&g!=null&&s(e,["parameters","guidanceScale"],g);const y=l(n,["seed"]);e!==void 0&&y!=null&&s(e,["parameters","seed"],y);const m=l(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&s(e,["parameters","safetySetting"],m);const v=l(n,["personGeneration"]);e!==void 0&&v!=null&&s(e,["parameters","personGeneration"],v);const C=l(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&s(e,["parameters","includeSafetyAttributes"],C);const S=l(n,["includeRaiReason"]);e!==void 0&&S!=null&&s(e,["parameters","includeRaiReason"],S);const A=l(n,["language"]);e!==void 0&&A!=null&&s(e,["parameters","language"],A);const N=l(n,["outputMimeType"]);e!==void 0&&N!=null&&s(e,["parameters","outputOptions","mimeType"],N);const P=l(n,["outputCompressionQuality"]);e!==void 0&&P!=null&&s(e,["parameters","outputOptions","compressionQuality"],P);const D=l(n,["addWatermark"]);e!==void 0&&D!=null&&s(e,["parameters","addWatermark"],D);const q=l(n,["editMode"]);e!==void 0&&q!=null&&s(e,["parameters","editMode"],q);const $=l(n,["baseSteps"]);return e!==void 0&&$!=null&&s(e,["parameters","editConfig","baseSteps"],$),o}function JT(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","model"],Ce(n,r));const a=l(e,["prompt"]);a!=null&&s(o,["instances[0]","prompt"],a);const f=l(e,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>zT(y))),s(o,["instances[0]","referenceImages"],g)}const d=l(e,["config"]);return d!=null&&s(o,["config"],$T(d,o)),o}function WT(n,e){const o={},r=l(n,["includeRaiReason"]);e!==void 0&&r!=null&&s(e,["parameters","includeRaiReason"],r);const a=l(n,["outputMimeType"]);e!==void 0&&a!=null&&s(e,["parameters","outputOptions","mimeType"],a);const f=l(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&s(e,["parameters","outputOptions","compressionQuality"],f);const d=l(n,["enhanceInputImage"]);e!==void 0&&d!=null&&s(e,["parameters","upscaleConfig","enhanceInputImage"],d);const g=l(n,["imagePreservationFactor"]);e!==void 0&&g!=null&&s(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const y=l(n,["numberOfImages"]);e!==void 0&&y!=null&&s(e,["parameters","sampleCount"],y);const m=l(n,["mode"]);return e!==void 0&&m!=null&&s(e,["parameters","mode"],m),o}function KT(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","model"],Ce(n,r));const a=l(e,["image"]);a!=null&&s(o,["instances[0]","image"],ro(a));const f=l(e,["upscaleFactor"]);f!=null&&s(o,["parameters","upscaleConfig","upscaleFactor"],f);const d=l(e,["config"]);return d!=null&&s(o,["config"],WT(d,o)),o}function YT(n){const e={},o=l(n,["productImage"]);return o!=null&&s(e,["image"],ro(o)),e}function OT(n,e){const o={},r=l(n,["prompt"]);e!==void 0&&r!=null&&s(e,["instances[0]","prompt"],r);const a=l(n,["personImage"]);e!==void 0&&a!=null&&s(e,["instances[0]","personImage","image"],ro(a));const f=l(n,["productImages"]);if(e!==void 0&&f!=null){let d=f;Array.isArray(d)&&(d=d.map(g=>YT(g))),s(e,["instances[0]","productImages"],d)}return o}function QT(n,e){const o={},r=l(n,["numberOfImages"]);e!==void 0&&r!=null&&s(e,["parameters","sampleCount"],r);const a=l(n,["baseSteps"]);e!==void 0&&a!=null&&s(e,["parameters","editConfig","baseSteps"],a);const f=l(n,["outputGcsUri"]);e!==void 0&&f!=null&&s(e,["parameters","storageUri"],f);const d=l(n,["seed"]);e!==void 0&&d!=null&&s(e,["parameters","seed"],d);const g=l(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&s(e,["parameters","safetySetting"],g);const y=l(n,["personGeneration"]);e!==void 0&&y!=null&&s(e,["parameters","personGeneration"],y);const m=l(n,["outputMimeType"]);e!==void 0&&m!=null&&s(e,["parameters","outputOptions","mimeType"],m);const v=l(n,["outputCompressionQuality"]);e!==void 0&&v!=null&&s(e,["parameters","outputOptions","compressionQuality"],v);const C=l(n,["enhancePrompt"]);return e!==void 0&&C!=null&&s(e,["parameters","enhancePrompt"],C),o}function XT(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","model"],Ce(n,r));const a=l(e,["source"]);a!=null&&s(o,["config"],OT(a,o));const f=l(e,["config"]);return f!=null&&s(o,["config"],QT(f,o)),o}function ZT(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","name"],Ce(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],a),o}function bT(n,e,o){const r={},a=l(e,["pageSize"]);o!==void 0&&a!=null&&s(o,["_query","pageSize"],a);const f=l(e,["pageToken"]);o!==void 0&&f!=null&&s(o,["_query","pageToken"],f);const d=l(e,["filter"]);o!==void 0&&d!=null&&s(o,["_query","filter"],d);const g=l(e,["queryBase"]);return o!==void 0&&g!=null&&s(o,["_url","models_url"],md(n,g)),r}function jT(n,e){const o={},r=l(e,["config"]);return r!=null&&s(o,["config"],bT(n,r,o)),o}function eS(n,e){const o={},r=l(n,["displayName"]);e!==void 0&&r!=null&&s(e,["displayName"],r);const a=l(n,["description"]);e!==void 0&&a!=null&&s(e,["description"],a);const f=l(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&s(e,["defaultCheckpointId"],f),o}function nS(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","model"],Ce(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],eS(a,o)),o}function tS(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","name"],Ce(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],a),o}function oS(n,e){const o={},r=l(n,["systemInstruction"]);e!==void 0&&r!=null&&s(e,["systemInstruction"],io(je(r)));const a=l(n,["tools"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(g=>Rd(g))),s(e,["tools"],d)}const f=l(n,["generationConfig"]);return e!==void 0&&f!=null&&s(e,["generationConfig"],f),o}function iS(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","model"],Ce(n,r));const a=l(e,["contents"]);if(a!=null){let d=Tn(a);Array.isArray(d)&&(d=d.map(g=>io(g))),s(o,["contents"],d)}const f=l(e,["config"]);return f!=null&&s(o,["config"],oS(f,o)),o}function rS(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","model"],Ce(n,r));const a=l(e,["contents"]);if(a!=null){let d=Tn(a);Array.isArray(d)&&(d=d.map(g=>io(g))),s(o,["contents"],d)}const f=l(e,["config"]);return f!=null&&s(o,["config"],f),o}function lS(n){const e={},o=l(n,["uri"]);o!=null&&s(e,["gcsUri"],o);const r=l(n,["videoBytes"]);r!=null&&s(e,["bytesBase64Encoded"],xt(r));const a=l(n,["mimeType"]);return a!=null&&s(e,["mimeType"],a),e}function sS(n,e){const o={},r=l(n,["numberOfVideos"]);e!==void 0&&r!=null&&s(e,["parameters","sampleCount"],r);const a=l(n,["outputGcsUri"]);e!==void 0&&a!=null&&s(e,["parameters","storageUri"],a);const f=l(n,["fps"]);e!==void 0&&f!=null&&s(e,["parameters","fps"],f);const d=l(n,["durationSeconds"]);e!==void 0&&d!=null&&s(e,["parameters","durationSeconds"],d);const g=l(n,["seed"]);e!==void 0&&g!=null&&s(e,["parameters","seed"],g);const y=l(n,["aspectRatio"]);e!==void 0&&y!=null&&s(e,["parameters","aspectRatio"],y);const m=l(n,["resolution"]);e!==void 0&&m!=null&&s(e,["parameters","resolution"],m);const v=l(n,["personGeneration"]);e!==void 0&&v!=null&&s(e,["parameters","personGeneration"],v);const C=l(n,["pubsubTopic"]);e!==void 0&&C!=null&&s(e,["parameters","pubsubTopic"],C);const S=l(n,["negativePrompt"]);e!==void 0&&S!=null&&s(e,["parameters","negativePrompt"],S);const A=l(n,["enhancePrompt"]);e!==void 0&&A!=null&&s(e,["parameters","enhancePrompt"],A);const N=l(n,["generateAudio"]);e!==void 0&&N!=null&&s(e,["parameters","generateAudio"],N);const P=l(n,["lastFrame"]);e!==void 0&&P!=null&&s(e,["instances[0]","lastFrame"],ro(P));const D=l(n,["compressionQuality"]);return e!==void 0&&D!=null&&s(e,["parameters","compressionQuality"],D),o}function uS(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["_url","model"],Ce(n,r));const a=l(e,["prompt"]);a!=null&&s(o,["instances[0]","prompt"],a);const f=l(e,["image"]);f!=null&&s(o,["instances[0]","image"],ro(f));const d=l(e,["video"]);d!=null&&s(o,["instances[0]","video"],lS(d));const g=l(e,["config"]);return g!=null&&s(o,["config"],sS(g,o)),o}function aS(n){const e={},o=l(n,["fps"]);o!=null&&s(e,["fps"],o);const r=l(n,["endOffset"]);r!=null&&s(e,["endOffset"],r);const a=l(n,["startOffset"]);return a!=null&&s(e,["startOffset"],a),e}function cS(n){const e={},o=l(n,["data"]);o!=null&&s(e,["data"],o);const r=l(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function fS(n){const e={},o=l(n,["fileUri"]);o!=null&&s(e,["fileUri"],o);const r=l(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function dS(n){const e={},o=l(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],aS(o));const r=l(n,["thought"]);r!=null&&s(e,["thought"],r);const a=l(n,["inlineData"]);a!=null&&s(e,["inlineData"],cS(a));const f=l(n,["fileData"]);f!=null&&s(e,["fileData"],fS(f));const d=l(n,["thoughtSignature"]);d!=null&&s(e,["thoughtSignature"],d);const g=l(n,["codeExecutionResult"]);g!=null&&s(e,["codeExecutionResult"],g);const y=l(n,["executableCode"]);y!=null&&s(e,["executableCode"],y);const m=l(n,["functionCall"]);m!=null&&s(e,["functionCall"],m);const v=l(n,["functionResponse"]);v!=null&&s(e,["functionResponse"],v);const C=l(n,["text"]);return C!=null&&s(e,["text"],C),e}function pS(n){const e={},o=l(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>dS(f))),s(e,["parts"],a)}const r=l(n,["role"]);return r!=null&&s(e,["role"],r),e}function mS(n){const e={},o=l(n,["citationSources"]);return o!=null&&s(e,["citations"],o),e}function gS(n){const e={},o=l(n,["retrievedUrl"]);o!=null&&s(e,["retrievedUrl"],o);const r=l(n,["urlRetrievalStatus"]);return r!=null&&s(e,["urlRetrievalStatus"],r),e}function hS(n){const e={},o=l(n,["urlMetadata"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>gS(a))),s(e,["urlMetadata"],r)}return e}function yS(n){const e={},o=l(n,["content"]);o!=null&&s(e,["content"],pS(o));const r=l(n,["citationMetadata"]);r!=null&&s(e,["citationMetadata"],mS(r));const a=l(n,["tokenCount"]);a!=null&&s(e,["tokenCount"],a);const f=l(n,["finishReason"]);f!=null&&s(e,["finishReason"],f);const d=l(n,["urlContextMetadata"]);d!=null&&s(e,["urlContextMetadata"],hS(d));const g=l(n,["avgLogprobs"]);g!=null&&s(e,["avgLogprobs"],g);const y=l(n,["groundingMetadata"]);y!=null&&s(e,["groundingMetadata"],y);const m=l(n,["index"]);m!=null&&s(e,["index"],m);const v=l(n,["logprobsResult"]);v!=null&&s(e,["logprobsResult"],v);const C=l(n,["safetyRatings"]);return C!=null&&s(e,["safetyRatings"],C),e}function Wf(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(m=>yS(m))),s(e,["candidates"],y)}const a=l(n,["modelVersion"]);a!=null&&s(e,["modelVersion"],a);const f=l(n,["promptFeedback"]);f!=null&&s(e,["promptFeedback"],f);const d=l(n,["responseId"]);d!=null&&s(e,["responseId"],d);const g=l(n,["usageMetadata"]);return g!=null&&s(e,["usageMetadata"],g),e}function vS(n){const e={},o=l(n,["values"]);return o!=null&&s(e,["values"],o),e}function CS(){return{}}function TS(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["embeddings"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>vS(d))),s(e,["embeddings"],f)}return l(n,["metadata"])!=null&&s(e,["metadata"],CS()),e}function SS(n){const e={},o=l(n,["bytesBase64Encoded"]);o!=null&&s(e,["imageBytes"],xt(o));const r=l(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function Pd(n){const e={},o=l(n,["safetyAttributes","categories"]);o!=null&&s(e,["categories"],o);const r=l(n,["safetyAttributes","scores"]);r!=null&&s(e,["scores"],r);const a=l(n,["contentType"]);return a!=null&&s(e,["contentType"],a),e}function ES(n){const e={},o=l(n,["_self"]);o!=null&&s(e,["image"],SS(o));const r=l(n,["raiFilteredReason"]);r!=null&&s(e,["raiFilteredReason"],r);const a=l(n,["_self"]);return a!=null&&s(e,["safetyAttributes"],Pd(a)),e}function _S(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>ES(d))),s(e,["generatedImages"],f)}const a=l(n,["positivePromptSafetyAttributes"]);return a!=null&&s(e,["positivePromptSafetyAttributes"],Pd(a)),e}function xS(n){const e={},o=l(n,["baseModel"]);o!=null&&s(e,["baseModel"],o);const r=l(n,["createTime"]);r!=null&&s(e,["createTime"],r);const a=l(n,["updateTime"]);return a!=null&&s(e,["updateTime"],a),e}function xs(n){const e={},o=l(n,["name"]);o!=null&&s(e,["name"],o);const r=l(n,["displayName"]);r!=null&&s(e,["displayName"],r);const a=l(n,["description"]);a!=null&&s(e,["description"],a);const f=l(n,["version"]);f!=null&&s(e,["version"],f);const d=l(n,["_self"]);d!=null&&s(e,["tunedModelInfo"],xS(d));const g=l(n,["inputTokenLimit"]);g!=null&&s(e,["inputTokenLimit"],g);const y=l(n,["outputTokenLimit"]);y!=null&&s(e,["outputTokenLimit"],y);const m=l(n,["supportedGenerationMethods"]);return m!=null&&s(e,["supportedActions"],m),e}function wS(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["nextPageToken"]);r!=null&&s(e,["nextPageToken"],r);const a=l(n,["_self"]);if(a!=null){let f=gd(a);Array.isArray(f)&&(f=f.map(d=>xs(d))),s(e,["models"],f)}return e}function IS(){return{}}function AS(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["totalTokens"]);r!=null&&s(e,["totalTokens"],r);const a=l(n,["cachedContentTokenCount"]);return a!=null&&s(e,["cachedContentTokenCount"],a),e}function MS(n){const e={},o=l(n,["video","uri"]);o!=null&&s(e,["uri"],o);const r=l(n,["video","encodedVideo"]);r!=null&&s(e,["videoBytes"],xt(r));const a=l(n,["encoding"]);return a!=null&&s(e,["mimeType"],a),e}function RS(n){const e={},o=l(n,["_self"]);return o!=null&&s(e,["video"],MS(o)),e}function PS(n){const e={},o=l(n,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>RS(d))),s(e,["generatedVideos"],f)}const r=l(n,["raiMediaFilteredCount"]);r!=null&&s(e,["raiMediaFilteredCount"],r);const a=l(n,["raiMediaFilteredReasons"]);return a!=null&&s(e,["raiMediaFilteredReasons"],a),e}function kS(n){const e={},o=l(n,["name"]);o!=null&&s(e,["name"],o);const r=l(n,["metadata"]);r!=null&&s(e,["metadata"],r);const a=l(n,["done"]);a!=null&&s(e,["done"],a);const f=l(n,["error"]);f!=null&&s(e,["error"],f);const d=l(n,["response","generateVideoResponse"]);return d!=null&&s(e,["response"],PS(d)),e}function NS(n){const e={},o=l(n,["fps"]);o!=null&&s(e,["fps"],o);const r=l(n,["endOffset"]);r!=null&&s(e,["endOffset"],r);const a=l(n,["startOffset"]);return a!=null&&s(e,["startOffset"],a),e}function DS(n){const e={},o=l(n,["displayName"]);o!=null&&s(e,["displayName"],o);const r=l(n,["data"]);r!=null&&s(e,["data"],r);const a=l(n,["mimeType"]);return a!=null&&s(e,["mimeType"],a),e}function LS(n){const e={},o=l(n,["displayName"]);o!=null&&s(e,["displayName"],o);const r=l(n,["fileUri"]);r!=null&&s(e,["fileUri"],r);const a=l(n,["mimeType"]);return a!=null&&s(e,["mimeType"],a),e}function FS(n){const e={},o=l(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],NS(o));const r=l(n,["thought"]);r!=null&&s(e,["thought"],r);const a=l(n,["inlineData"]);a!=null&&s(e,["inlineData"],DS(a));const f=l(n,["fileData"]);f!=null&&s(e,["fileData"],LS(f));const d=l(n,["thoughtSignature"]);d!=null&&s(e,["thoughtSignature"],d);const g=l(n,["codeExecutionResult"]);g!=null&&s(e,["codeExecutionResult"],g);const y=l(n,["executableCode"]);y!=null&&s(e,["executableCode"],y);const m=l(n,["functionCall"]);m!=null&&s(e,["functionCall"],m);const v=l(n,["functionResponse"]);v!=null&&s(e,["functionResponse"],v);const C=l(n,["text"]);return C!=null&&s(e,["text"],C),e}function US(n){const e={},o=l(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>FS(f))),s(e,["parts"],a)}const r=l(n,["role"]);return r!=null&&s(e,["role"],r),e}function VS(n){const e={},o=l(n,["citations"]);return o!=null&&s(e,["citations"],o),e}function GS(n){const e={},o=l(n,["retrievedUrl"]);o!=null&&s(e,["retrievedUrl"],o);const r=l(n,["urlRetrievalStatus"]);return r!=null&&s(e,["urlRetrievalStatus"],r),e}function BS(n){const e={},o=l(n,["urlMetadata"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>GS(a))),s(e,["urlMetadata"],r)}return e}function HS(n){const e={},o=l(n,["content"]);o!=null&&s(e,["content"],US(o));const r=l(n,["citationMetadata"]);r!=null&&s(e,["citationMetadata"],VS(r));const a=l(n,["finishMessage"]);a!=null&&s(e,["finishMessage"],a);const f=l(n,["finishReason"]);f!=null&&s(e,["finishReason"],f);const d=l(n,["urlContextMetadata"]);d!=null&&s(e,["urlContextMetadata"],BS(d));const g=l(n,["avgLogprobs"]);g!=null&&s(e,["avgLogprobs"],g);const y=l(n,["groundingMetadata"]);y!=null&&s(e,["groundingMetadata"],y);const m=l(n,["index"]);m!=null&&s(e,["index"],m);const v=l(n,["logprobsResult"]);v!=null&&s(e,["logprobsResult"],v);const C=l(n,["safetyRatings"]);return C!=null&&s(e,["safetyRatings"],C),e}function Kf(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["candidates"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(v=>HS(v))),s(e,["candidates"],m)}const a=l(n,["createTime"]);a!=null&&s(e,["createTime"],a);const f=l(n,["modelVersion"]);f!=null&&s(e,["modelVersion"],f);const d=l(n,["promptFeedback"]);d!=null&&s(e,["promptFeedback"],d);const g=l(n,["responseId"]);g!=null&&s(e,["responseId"],g);const y=l(n,["usageMetadata"]);return y!=null&&s(e,["usageMetadata"],y),e}function qS(n){const e={},o=l(n,["truncated"]);o!=null&&s(e,["truncated"],o);const r=l(n,["token_count"]);return r!=null&&s(e,["tokenCount"],r),e}function zS(n){const e={},o=l(n,["values"]);o!=null&&s(e,["values"],o);const r=l(n,["statistics"]);return r!=null&&s(e,["statistics"],qS(r)),e}function $S(n){const e={},o=l(n,["billableCharacterCount"]);return o!=null&&s(e,["billableCharacterCount"],o),e}function JS(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["predictions[]","embeddings"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>zS(d))),s(e,["embeddings"],f)}const a=l(n,["metadata"]);return a!=null&&s(e,["metadata"],$S(a)),e}function WS(n){const e={},o=l(n,["gcsUri"]);o!=null&&s(e,["gcsUri"],o);const r=l(n,["bytesBase64Encoded"]);r!=null&&s(e,["imageBytes"],xt(r));const a=l(n,["mimeType"]);return a!=null&&s(e,["mimeType"],a),e}function kd(n){const e={},o=l(n,["safetyAttributes","categories"]);o!=null&&s(e,["categories"],o);const r=l(n,["safetyAttributes","scores"]);r!=null&&s(e,["scores"],r);const a=l(n,["contentType"]);return a!=null&&s(e,["contentType"],a),e}function mr(n){const e={},o=l(n,["_self"]);o!=null&&s(e,["image"],WS(o));const r=l(n,["raiFilteredReason"]);r!=null&&s(e,["raiFilteredReason"],r);const a=l(n,["_self"]);a!=null&&s(e,["safetyAttributes"],kd(a));const f=l(n,["prompt"]);return f!=null&&s(e,["enhancedPrompt"],f),e}function KS(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>mr(d))),s(e,["generatedImages"],f)}const a=l(n,["positivePromptSafetyAttributes"]);return a!=null&&s(e,["positivePromptSafetyAttributes"],kd(a)),e}function YS(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(f=>mr(f))),s(e,["generatedImages"],a)}return e}function OS(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(f=>mr(f))),s(e,["generatedImages"],a)}return e}function QS(n){const e={},o=l(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>mr(a))),s(e,["generatedImages"],r)}return e}function XS(n){const e={},o=l(n,["endpoint"]);o!=null&&s(e,["name"],o);const r=l(n,["deployedModelId"]);return r!=null&&s(e,["deployedModelId"],r),e}function ZS(n){const e={},o=l(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&s(e,["baseModel"],o);const r=l(n,["createTime"]);r!=null&&s(e,["createTime"],r);const a=l(n,["updateTime"]);return a!=null&&s(e,["updateTime"],a),e}function bS(n){const e={},o=l(n,["checkpointId"]);o!=null&&s(e,["checkpointId"],o);const r=l(n,["epoch"]);r!=null&&s(e,["epoch"],r);const a=l(n,["step"]);return a!=null&&s(e,["step"],a),e}function ws(n){const e={},o=l(n,["name"]);o!=null&&s(e,["name"],o);const r=l(n,["displayName"]);r!=null&&s(e,["displayName"],r);const a=l(n,["description"]);a!=null&&s(e,["description"],a);const f=l(n,["versionId"]);f!=null&&s(e,["version"],f);const d=l(n,["deployedModels"]);if(d!=null){let C=d;Array.isArray(C)&&(C=C.map(S=>XS(S))),s(e,["endpoints"],C)}const g=l(n,["labels"]);g!=null&&s(e,["labels"],g);const y=l(n,["_self"]);y!=null&&s(e,["tunedModelInfo"],ZS(y));const m=l(n,["defaultCheckpointId"]);m!=null&&s(e,["defaultCheckpointId"],m);const v=l(n,["checkpoints"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(S=>bS(S))),s(e,["checkpoints"],C)}return e}function jS(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["nextPageToken"]);r!=null&&s(e,["nextPageToken"],r);const a=l(n,["_self"]);if(a!=null){let f=gd(a);Array.isArray(f)&&(f=f.map(d=>ws(d))),s(e,["models"],f)}return e}function e0(){return{}}function n0(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["totalTokens"]);return r!=null&&s(e,["totalTokens"],r),e}function t0(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["tokensInfo"]);return r!=null&&s(e,["tokensInfo"],r),e}function o0(n){const e={},o=l(n,["gcsUri"]);o!=null&&s(e,["uri"],o);const r=l(n,["bytesBase64Encoded"]);r!=null&&s(e,["videoBytes"],xt(r));const a=l(n,["mimeType"]);return a!=null&&s(e,["mimeType"],a),e}function i0(n){const e={},o=l(n,["_self"]);return o!=null&&s(e,["video"],o0(o)),e}function r0(n){const e={},o=l(n,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>i0(d))),s(e,["generatedVideos"],f)}const r=l(n,["raiMediaFilteredCount"]);r!=null&&s(e,["raiMediaFilteredCount"],r);const a=l(n,["raiMediaFilteredReasons"]);return a!=null&&s(e,["raiMediaFilteredReasons"],a),e}function l0(n){const e={},o=l(n,["name"]);o!=null&&s(e,["name"],o);const r=l(n,["metadata"]);r!=null&&s(e,["metadata"],r);const a=l(n,["done"]);a!=null&&s(e,["done"],a);const f=l(n,["error"]);f!=null&&s(e,["error"],f);const d=l(n,["response"]);return d!=null&&s(e,["response"],r0(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const s0="Content-Type",u0="X-Server-Timeout",a0="User-Agent",Is="x-goog-api-client",c0="1.13.0",f0=`google-genai-sdk/${c0}`,d0="v1beta1",p0="v1beta",Yf=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class m0{constructor(e){var o,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:d0,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:p0,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,r){const a=[this.getRequestUrlInternal(o)];return r&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,o,r);if(e.queryParams)for(const[d,g]of Object.entries(e.queryParams))a.searchParams.append(d,String(g));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,e.abortSignal),this.unaryApiCall(a,f,e.httpMethod)}patchHttpOptions(e,o){const r=JSON.parse(JSON.stringify(e));for(const[a,f]of Object.entries(o))typeof f=="object"?r[a]=Object.assign(Object.assign({},r[a]),f):f!==void 0&&(r[a]=f);return r}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,o,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,e.abortSignal),this.streamApiCall(a,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,r){if(o&&o.timeout||r){const a=new AbortController,f=a.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const d=setTimeout(()=>a.abort(),o.timeout);d&&typeof d.unref=="function"&&d.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=f}return o&&o.extraBody!==null&&g0(e,o.extraBody),e.headers=await this.getHeadersInternal(o),e}async unaryApiCall(e,o,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:r})).then(async a=>(await Of(a),new vs(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,o,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:r})).then(async a=>(await Of(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var o;return bt(this,arguments,function*(){const a=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),f=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let d="";for(;;){const{done:g,value:y}=yield Ie(a.read());if(g){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=f.decode(y,{stream:!0});try{const C=JSON.parse(m);if("error"in C){const S=JSON.parse(JSON.stringify(C.error)),A=S.status,N=S.code,P=`got status: ${A}. ${JSON.stringify(C)}`;if(N>=400&&N<600)throw new dr({message:P,status:N})}}catch(C){if(C.name==="ApiError")throw C}d+=m;let v=d.match(Yf);for(;v;){const C=v[1];try{const S=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ie(new vs(S)),d=d.slice(v[0].length),v=d.match(Yf)}catch(S){throw new Error(`exception parsing stream chunk ${C}. ${S}`)}}}}finally{a.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},o=f0+" "+this.clientOptions.userAgentExtra;return e[a0]=o,e[Is]=o,e[s0]="application/json",e}async getHeadersInternal(e){const o=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))o.append(r,a);e.timeout&&e.timeout>0&&o.append(u0,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o),o}async uploadFile(e,o){var r;const a={};o!=null&&(a.mimeType=o.mimeType,a.name=o.name,a.displayName=o.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const f=this.clientOptions.uploader,d=await f.stat(e);a.sizeBytes=String(d.size);const g=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:d.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=g;const y=await this.fetchUploadUrl(a,o);return f.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o){var r;let a={};o!=null&&o.httpOptions?a=o.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const f={file:e},d=await this.request({path:Z("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:a});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(r=d==null?void 0:d.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Of(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const a=JSON.stringify(r);throw o>=400&&o<600?new dr({message:a,status:o}):new Error(a)}}function g0(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const f=JSON.parse(n.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(f,d){const g=Object.assign({},f);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const m=d[y],v=g[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=r(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),g[y]=m)}return g}const a=r(o,e);n.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const h0="mcp_used/unknown";let y0=!1;function Nd(n){for(const e of n)if(v0(e)||typeof e=="object"&&"inputSchema"in e)return!0;return y0}function Dd(n){var e;const o=(e=n[Is])!==null&&e!==void 0?e:"";n[Is]=(o+` ${h0}`).trimStart()}function v0(n){return n!==null&&typeof n=="object"&&n instanceof Ns}function C0(n,e=100){return bt(this,arguments,function*(){let r,a=0;for(;a<e;){const f=yield Ie(n.listTools({cursor:r}));for(const d of f.tools)yield yield Ie(d),a++;if(!f.nextCursor)break;r=f.nextCursor}})}class Ns{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Ns(e,o)}async initialize(){var e,o,r,a;if(this.mcpTools.length>0)return;const f={},d=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,Oo(C0(v))),m;m=await y.next(),e=m.done,!e;g=!0){a=m.value,g=!1;const C=a;d.push(C);const S=C.name;if(f[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);f[S]=v}}catch(C){o={error:C}}finally{try{!g&&!e&&(r=y.return)&&await r.call(y)}finally{if(o)throw o.error}}this.mcpTools=d,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),ag(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const d=await a.callTool({name:r.name,arguments:r.args},void 0,f);o.push({functionResponse:{name:r.name,response:d.isError?{error:d}:d}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function T0(n,e,o){const r=new ng;let a;o.data instanceof Blob?a=JSON.parse(await o.data.text()):a=JSON.parse(o.data);const f=aC(a);Object.assign(r,f),e(r)}class S0{constructor(e,o,r){this.apiClient=e,this.auth=o,this.webSocketFactory=r}async connect(e){var o,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),d=x0(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${a}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const v=new Promise(H=>{m=H}),C=e.callbacks,S=function(){m({})},A=this.apiClient,N={onopen:S,onmessage:H=>{T0(A,C.onmessage,H)},onerror:(o=C==null?void 0:C.onerror)!==null&&o!==void 0?o:function(H){},onclose:(r=C==null?void 0:C.onclose)!==null&&r!==void 0?r:function(H){}},P=this.webSocketFactory.create(y,_0(d),N);P.connect(),await v;const D=Ce(this.apiClient,e.model),q=Id({model:D}),$=_s({setup:q});return P.send(JSON.stringify($)),new E0(P,this.apiClient)}}class E0{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=sv(e),r=Ad(o);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=uv(e),r=_s(o);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const o=_s({playbackControl:e});this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Xt.PLAY)}pause(){this.sendPlaybackControl(Xt.PAUSE)}stop(){this.sendPlaybackControl(Xt.STOP)}resetContext(){this.sendPlaybackControl(Xt.RESET_CONTEXT)}close(){this.conn.close()}}function _0(n){const e={};return n.forEach((o,r)=>{e[r]=o}),e}function x0(n){const e=new Headers;for(const[o,r]of Object.entries(n))e.append(o,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w0="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function I0(n,e,o){const r=new eg;let a;o.data instanceof Blob?a=await o.data.text():o.data instanceof ArrayBuffer?a=new TextDecoder().decode(o.data):a=o.data;const f=JSON.parse(a);if(n.isVertexAI()){const d=_C(f);Object.assign(r,d)}else{const d=eC(f);Object.assign(r,d)}e(r)}class A0{constructor(e,o,r){this.apiClient=e,this.auth=o,this.webSocketFactory=r,this.music=new S0(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,r,a,f,d,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const C=this.apiClient.getHeaders();e.config&&e.config.tools&&Nd(e.config.tools)&&Dd(C);const S=k0(C);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const j=this.apiClient.getApiKey();let ae="BidiGenerateContent",ue="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ae="BidiGenerateContentConstrained",ue="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ae}?${ue}=${j}`}let A=()=>{};const N=new Promise(j=>{A=j}),P=e.callbacks,D=function(){var j;(j=P==null?void 0:P.onopen)===null||j===void 0||j.call(P),A({})},q=this.apiClient,$={onopen:D,onmessage:j=>{I0(q,P.onmessage,j)},onerror:(o=P==null?void 0:P.onerror)!==null&&o!==void 0?o:function(j){},onclose:(r=P==null?void 0:P.onclose)!==null&&r!==void 0?r:function(j){}},H=this.webSocketFactory.create(v,P0(S),$);H.connect(),await N;let J=Ce(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const j=this.apiClient.getProject(),ae=this.apiClient.getLocation();J=`projects/${j}/locations/${ae}/`+J}let O={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ar.AUDIO]}:e.config.responseModalities=[ar.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const oe=(g=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&g!==void 0?g:[],ie=[];for(const j of oe)if(this.isCallableTool(j)){const ae=j;ie.push(await ae.tool())}else ie.push(j);ie.length>0&&(e.config.tools=ie);const he={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?O=Fv(this.apiClient,he):O=ov(this.apiClient,he),delete O.config,H.send(JSON.stringify(O)),new R0(H,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const M0={turnComplete:!0};class R0{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let r=[];try{r=Tn(o.turns),e.isVertexAI()?r=r.map(a=>io(a)):r=r.map(a=>pr(a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:r,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let r=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?r=o.functionResponses:r=[o.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const f of r){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(w0)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},M0),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:Gv(e)}:o={realtimeInput:lv(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function P0(n){const e={};return n.forEach((o,r)=>{e[r]=o}),e}function k0(n){const e=new Headers;for(const[o,r]of Object.entries(n))e.append(o,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qf=10;function Xf(n){var e,o,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const d of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(jt(d)){a=!0;break}if(!a)return!0;const f=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function jt(n){return"callTool"in n&&typeof n.callTool=="function"}function N0(n){var e,o,r;return(r=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(a=>jt(a)))!==null&&r!==void 0?r:!1}function D0(n){var e,o,r;return(r=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(a=>!jt(a)))!==null&&r!==void 0?r:!1}function Zf(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L0 extends _t{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var r,a,f,d,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!N0(o)||Xf(o.config))return await this.generateContentInternal(y);if(D0(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,v;const C=Tn(y.contents),S=(f=(a=(r=y.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&f!==void 0?f:Qf;let A=0;for(;A<S&&(m=await this.generateContentInternal(y),!(!m.functionCalls||m.functionCalls.length===0));){const N=m.candidates[0].content,P=[];for(const D of(g=(d=o.config)===null||d===void 0?void 0:d.tools)!==null&&g!==void 0?g:[])if(jt(D)){const $=await D.callTool(m.functionCalls);P.push(...$)}A++,v={role:"user",parts:P},y.contents=Tn(y.contents),y.contents.push(N),y.contents.push(v),Zf(y.config)&&(C.push(N),C.push(v))}return Zf(y.config)&&(m.automaticFunctionCallingHistory=C),m},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),Xf(o.config)){const r=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(r=>{var a;let f;const d=[];if(r!=null&&r.generatedImages)for(const y of r.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((a=y==null?void 0:y.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:d.push(y);let g;return f?g={generatedImages:d,positivePromptSafetyAttributes:f,sdkHttpResponse:r.sdkHttpResponse}:g={generatedImages:d,sdkHttpResponse:r.sdkHttpResponse},g}),this.list=async o=>{var r;const d={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((r=d.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Qo(Et.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(d),d)},this.editImage=async o=>{const r={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(r.referenceImages=o.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async o=>{let r={numberOfImages:1,mode:"upscale"};o.config&&(r=Object.assign(Object.assign({},r),o.config));const a={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:r};return await this.upscaleImageInternal(a)},this.generateVideos=async o=>await this.generateVideosInternal(o)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,r,a;const f=(o=e.config)===null||o===void 0?void 0:o.tools;if(!f)return e;const d=await Promise.all(f.map(async y=>jt(y)?await y.tool():y)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(g.config.tools=d,e.config&&e.config.tools&&Nd(e.config.tools)){const y=(a=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Dd(m),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(e){var o,r,a;const f=new Map;for(const d of(r=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&r!==void 0?r:[])if(jt(d)){const g=d,y=await g.tool();for(const m of(a=y.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(f.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);f.set(m.name,g)}}return f}async processAfcStream(e){var o,r,a;const f=(a=(r=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:Qf;let d=!1,g=0;const y=await this.initAfcToolsMap(e);return function(m,v,C){var S,A;return bt(this,arguments,function*(){for(var N,P,D,q;g<f;){d&&(g++,d=!1);const O=yield Ie(m.processParamsMaybeAddMcpUsage(C)),oe=yield Ie(m.generateContentStreamInternal(O)),ie=[],he=[];try{for(var $=!0,H=(P=void 0,Oo(oe)),J;J=yield Ie(H.next()),N=J.done,!N;$=!0){q=J.value,$=!1;const j=q;if(yield yield Ie(j),j.candidates&&(!((S=j.candidates[0])===null||S===void 0)&&S.content)){he.push(j.candidates[0].content);for(const ae of(A=j.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(g<f&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ae.functionCall.name)){const ue=yield Ie(v.get(ae.functionCall.name).callTool([ae.functionCall]));ie.push(...ue)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch(j){P={error:j}}finally{try{!$&&!N&&(D=H.return)&&(yield Ie(D.call(H)))}finally{if(P)throw P.error}}if(ie.length>0){d=!0;const j=new Yo;j.candidates=[{content:{role:"user",parts:ie}}],yield yield Ie(j);const ae=[];ae.push(...he),ae.push({role:"user",parts:ie});const ue=Tn(C.contents).concat(ae);C.contents=ue}else break}})}(this,y,e)}async generateContentInternal(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=Jf(this.apiClient,e);return g=Z("{model}:generateContent",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const C=Kf(v),S=new Yo;return Object.assign(S,C),S})}else{const m=$f(this.apiClient,e);return g=Z("{model}:generateContent",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const C=Wf(v),S=new Yo;return Object.assign(S,C),S})}}async generateContentStreamInternal(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=Jf(this.apiClient,e);return g=Z("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),d.then(function(C){return bt(this,arguments,function*(){var S,A,N,P;try{for(var D=!0,q=Oo(C),$;$=yield Ie(q.next()),S=$.done,!S;D=!0){P=$.value,D=!1;const H=P,J=Kf(yield Ie(H.json()));J.sdkHttpResponse={headers:H.headers};const O=new Yo;Object.assign(O,J),yield yield Ie(O)}}catch(H){A={error:H}}finally{try{!D&&!S&&(N=q.return)&&(yield Ie(N.call(q)))}finally{if(A)throw A.error}}})})}else{const m=$f(this.apiClient,e);return g=Z("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),d.then(function(C){return bt(this,arguments,function*(){var S,A,N,P;try{for(var D=!0,q=Oo(C),$;$=yield Ie(q.next()),S=$.done,!S;D=!0){P=$.value,D=!1;const H=P,J=Wf(yield Ie(H.json()));J.sdkHttpResponse={headers:H.headers};const O=new Yo;Object.assign(O,J),yield yield Ie(O)}}catch(H){A={error:H}}finally{try{!D&&!S&&(N=q.return)&&(yield Ie(N.call(q)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=FT(this.apiClient,e);return g=Z("{model}:predict",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const C=JS(v),S=new Ef;return Object.assign(S,C),S})}else{const m=OC(this.apiClient,e);return g=Z("{model}:batchEmbedContents",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const C=TS(v),S=new Ef;return Object.assign(S,C),S})}}async generateImagesInternal(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=VT(this.apiClient,e);return g=Z("{model}:predict",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const C=KS(v),S=new _f;return Object.assign(S,C),S})}else{const m=XC(this.apiClient,e);return g=Z("{model}:predict",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const C=_S(v),S=new _f;return Object.assign(S,C),S})}}async editImageInternal(e){var o,r;let a,f="",d={};if(this.apiClient.isVertexAI()){const g=JT(this.apiClient,e);return f=Z("{model}:predict",g._url),d=g._query,delete g.config,delete g._url,delete g._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=YS(y),v=new Ym;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,r;let a,f="",d={};if(this.apiClient.isVertexAI()){const g=KT(this.apiClient,e);return f=Z("{model}:predict",g._url),d=g._query,delete g.config,delete g._url,delete g._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=OS(y),v=new Om;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,r;let a,f="",d={};if(this.apiClient.isVertexAI()){const g=XT(this.apiClient,e);return f=Z("{model}:predict",g._url),d=g._query,delete g.config,delete g._url,delete g._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>{const m=QS(y),v=new Qm;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=ZT(this.apiClient,e);return g=Z("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d.then(v=>ws(v))}else{const m=ZC(this.apiClient,e);return g=Z("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d.then(v=>xs(v))}}async listInternal(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=jT(this.apiClient,e);return g=Z("{models_url}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const C=jS(v),S=new xf;return Object.assign(S,C),S})}else{const m=jC(this.apiClient,e);return g=Z("{models_url}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const C=wS(v),S=new xf;return Object.assign(S,C),S})}}async update(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=nS(this.apiClient,e);return g=Z("{model}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d.then(v=>ws(v))}else{const m=nT(this.apiClient,e);return g=Z("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d.then(v=>xs(v))}}async delete(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=tS(this.apiClient,e);return g=Z("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d.then(()=>{const v=e0(),C=new wf;return Object.assign(C,v),C})}else{const m=tT(this.apiClient,e);return g=Z("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d.then(()=>{const v=IS(),C=new wf;return Object.assign(C,v),C})}}async countTokens(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=iS(this.apiClient,e);return g=Z("{model}:countTokens",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const C=n0(v),S=new If;return Object.assign(S,C),S})}else{const m=iT(this.apiClient,e);return g=Z("{model}:countTokens",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const C=AS(v),S=new If;return Object.assign(S,C),S})}}async computeTokens(e){var o,r;let a,f="",d={};if(this.apiClient.isVertexAI()){const g=rS(this.apiClient,e);return f=Z("{model}:computeTokens",g._url),d=g._query,delete g.config,delete g._url,delete g._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=t0(y),v=new Xm;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=uS(this.apiClient,e);return g=Z("{model}:predictLongRunning",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d.then(v=>{const C=l0(v),S=new cr;return Object.assign(S,C),S})}else{const m=sT(this.apiClient,e);return g=Z("{model}:predictLongRunning",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d.then(v=>{const C=kS(v),S=new cr;return Object.assign(S,C),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F0(n){const e={},o=l(n,["operationName"]);o!=null&&s(e,["_url","operationName"],o);const r=l(n,["config"]);return r!=null&&s(e,["config"],r),e}function U0(n){const e={},o=l(n,["operationName"]);o!=null&&s(e,["_url","operationName"],o);const r=l(n,["config"]);return r!=null&&s(e,["config"],r),e}function V0(n){const e={},o=l(n,["operationName"]);o!=null&&s(e,["operationName"],o);const r=l(n,["resourceName"]);r!=null&&s(e,["_url","resourceName"],r);const a=l(n,["config"]);return a!=null&&s(e,["config"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G0 extends _t{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,r=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let f;r&&"httpOptions"in r&&(f=r.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:r});return o._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async get(e){const o=e.operation,r=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let f;r&&"httpOptions"in r&&(f=r.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:r});return o._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async getVideosOperationInternal(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=U0(e);return g=Z("{operationName}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),d}else{const m=F0(e);return g=Z("{operationName}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(e){var o,r;let a,f="",d={};if(this.apiClient.isVertexAI()){const g=V0(e);return f=Z("{resourceName}:fetchPredictOperation",g._url),d=g._query,delete g.config,delete g._url,delete g._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B0(n){const e={},o=l(n,["voiceName"]);return o!=null&&s(e,["voiceName"],o),e}function Ld(n){const e={},o=l(n,["prebuiltVoiceConfig"]);return o!=null&&s(e,["prebuiltVoiceConfig"],B0(o)),e}function H0(n){const e={},o=l(n,["speaker"]);o!=null&&s(e,["speaker"],o);const r=l(n,["voiceConfig"]);return r!=null&&s(e,["voiceConfig"],Ld(r)),e}function q0(n){const e={},o=l(n,["speakerVoiceConfigs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>H0(a))),s(e,["speakerVoiceConfigs"],r)}return e}function z0(n){const e={},o=l(n,["voiceConfig"]);o!=null&&s(e,["voiceConfig"],Ld(o));const r=l(n,["multiSpeakerVoiceConfig"]);r!=null&&s(e,["multiSpeakerVoiceConfig"],q0(r));const a=l(n,["languageCode"]);return a!=null&&s(e,["languageCode"],a),e}function $0(n){const e={},o=l(n,["fps"]);o!=null&&s(e,["fps"],o);const r=l(n,["endOffset"]);r!=null&&s(e,["endOffset"],r);const a=l(n,["startOffset"]);return a!=null&&s(e,["startOffset"],a),e}function J0(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(n,["data"]);o!=null&&s(e,["data"],o);const r=l(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function W0(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(n,["fileUri"]);o!=null&&s(e,["fileUri"],o);const r=l(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function K0(n){const e={},o=l(n,["videoMetadata"]);o!=null&&s(e,["videoMetadata"],$0(o));const r=l(n,["thought"]);r!=null&&s(e,["thought"],r);const a=l(n,["inlineData"]);a!=null&&s(e,["inlineData"],J0(a));const f=l(n,["fileData"]);f!=null&&s(e,["fileData"],W0(f));const d=l(n,["thoughtSignature"]);d!=null&&s(e,["thoughtSignature"],d);const g=l(n,["codeExecutionResult"]);g!=null&&s(e,["codeExecutionResult"],g);const y=l(n,["executableCode"]);y!=null&&s(e,["executableCode"],y);const m=l(n,["functionCall"]);m!=null&&s(e,["functionCall"],m);const v=l(n,["functionResponse"]);v!=null&&s(e,["functionResponse"],v);const C=l(n,["text"]);return C!=null&&s(e,["text"],C),e}function Y0(n){const e={},o=l(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>K0(f))),s(e,["parts"],a)}const r=l(n,["role"]);return r!=null&&s(e,["role"],r),e}function O0(n){const e={},o=l(n,["behavior"]);o!=null&&s(e,["behavior"],o);const r=l(n,["description"]);r!=null&&s(e,["description"],r);const a=l(n,["name"]);a!=null&&s(e,["name"],a);const f=l(n,["parameters"]);f!=null&&s(e,["parameters"],f);const d=l(n,["parametersJsonSchema"]);d!=null&&s(e,["parametersJsonSchema"],d);const g=l(n,["response"]);g!=null&&s(e,["response"],g);const y=l(n,["responseJsonSchema"]);return y!=null&&s(e,["responseJsonSchema"],y),e}function Q0(n){const e={},o=l(n,["startTime"]);o!=null&&s(e,["startTime"],o);const r=l(n,["endTime"]);return r!=null&&s(e,["endTime"],r),e}function X0(n){const e={},o=l(n,["timeRangeFilter"]);return o!=null&&s(e,["timeRangeFilter"],Q0(o)),e}function Z0(n){const e={},o=l(n,["mode"]);o!=null&&s(e,["mode"],o);const r=l(n,["dynamicThreshold"]);return r!=null&&s(e,["dynamicThreshold"],r),e}function b0(n){const e={},o=l(n,["dynamicRetrievalConfig"]);return o!=null&&s(e,["dynamicRetrievalConfig"],Z0(o)),e}function j0(){return{}}function eE(n){const e={},o=l(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(m=>O0(m))),s(e,["functionDeclarations"],y)}if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(n,["googleSearch"]);r!=null&&s(e,["googleSearch"],X0(r));const a=l(n,["googleSearchRetrieval"]);if(a!=null&&s(e,["googleSearchRetrieval"],b0(a)),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(n,["urlContext"])!=null&&s(e,["urlContext"],j0());const d=l(n,["codeExecution"]);d!=null&&s(e,["codeExecution"],d);const g=l(n,["computerUse"]);return g!=null&&s(e,["computerUse"],g),e}function nE(n){const e={},o=l(n,["handle"]);if(o!=null&&s(e,["handle"],o),l(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function bf(){return{}}function tE(n){const e={},o=l(n,["disabled"]);o!=null&&s(e,["disabled"],o);const r=l(n,["startOfSpeechSensitivity"]);r!=null&&s(e,["startOfSpeechSensitivity"],r);const a=l(n,["endOfSpeechSensitivity"]);a!=null&&s(e,["endOfSpeechSensitivity"],a);const f=l(n,["prefixPaddingMs"]);f!=null&&s(e,["prefixPaddingMs"],f);const d=l(n,["silenceDurationMs"]);return d!=null&&s(e,["silenceDurationMs"],d),e}function oE(n){const e={},o=l(n,["automaticActivityDetection"]);o!=null&&s(e,["automaticActivityDetection"],tE(o));const r=l(n,["activityHandling"]);r!=null&&s(e,["activityHandling"],r);const a=l(n,["turnCoverage"]);return a!=null&&s(e,["turnCoverage"],a),e}function iE(n){const e={},o=l(n,["targetTokens"]);return o!=null&&s(e,["targetTokens"],o),e}function rE(n){const e={},o=l(n,["triggerTokens"]);o!=null&&s(e,["triggerTokens"],o);const r=l(n,["slidingWindow"]);return r!=null&&s(e,["slidingWindow"],iE(r)),e}function lE(n){const e={},o=l(n,["proactiveAudio"]);return o!=null&&s(e,["proactiveAudio"],o),e}function sE(n,e){const o={},r=l(n,["generationConfig"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig"],r);const a=l(n,["responseModalities"]);e!==void 0&&a!=null&&s(e,["setup","generationConfig","responseModalities"],a);const f=l(n,["temperature"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","temperature"],f);const d=l(n,["topP"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","topP"],d);const g=l(n,["topK"]);e!==void 0&&g!=null&&s(e,["setup","generationConfig","topK"],g);const y=l(n,["maxOutputTokens"]);e!==void 0&&y!=null&&s(e,["setup","generationConfig","maxOutputTokens"],y);const m=l(n,["mediaResolution"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","mediaResolution"],m);const v=l(n,["seed"]);e!==void 0&&v!=null&&s(e,["setup","generationConfig","seed"],v);const C=l(n,["speechConfig"]);e!==void 0&&C!=null&&s(e,["setup","generationConfig","speechConfig"],z0(ks(C)));const S=l(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],S);const A=l(n,["systemInstruction"]);e!==void 0&&A!=null&&s(e,["setup","systemInstruction"],Y0(je(A)));const N=l(n,["tools"]);if(e!==void 0&&N!=null){let O=to(N);Array.isArray(O)&&(O=O.map(oe=>eE(no(oe)))),s(e,["setup","tools"],O)}const P=l(n,["sessionResumption"]);e!==void 0&&P!=null&&s(e,["setup","sessionResumption"],nE(P));const D=l(n,["inputAudioTranscription"]);e!==void 0&&D!=null&&s(e,["setup","inputAudioTranscription"],bf());const q=l(n,["outputAudioTranscription"]);e!==void 0&&q!=null&&s(e,["setup","outputAudioTranscription"],bf());const $=l(n,["realtimeInputConfig"]);e!==void 0&&$!=null&&s(e,["setup","realtimeInputConfig"],oE($));const H=l(n,["contextWindowCompression"]);e!==void 0&&H!=null&&s(e,["setup","contextWindowCompression"],rE(H));const J=l(n,["proactivity"]);return e!==void 0&&J!=null&&s(e,["setup","proactivity"],lE(J)),o}function uE(n,e){const o={},r=l(e,["model"]);r!=null&&s(o,["setup","model"],Ce(n,r));const a=l(e,["config"]);return a!=null&&s(o,["config"],sE(a,o)),o}function aE(n,e,o){const r={},a=l(e,["expireTime"]);o!==void 0&&a!=null&&s(o,["expireTime"],a);const f=l(e,["newSessionExpireTime"]);o!==void 0&&f!=null&&s(o,["newSessionExpireTime"],f);const d=l(e,["uses"]);o!==void 0&&d!=null&&s(o,["uses"],d);const g=l(e,["liveConnectConstraints"]);o!==void 0&&g!=null&&s(o,["bidiGenerateContentSetup"],uE(n,g));const y=l(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&s(o,["fieldMask"],y),r}function cE(n,e){const o={},r=l(e,["config"]);return r!=null&&s(o,["config"],aE(n,r,o)),o}function fE(n){const e={},o=l(n,["name"]);return o!=null&&s(e,["name"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dE(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const r=n[o];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(f=>`${o}.${f}`);e.push(...a)}else e.push(o)}return e.join(",")}function pE(n,e){let o=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const f=r.setup;typeof f=="object"&&f!==null?(n.bidiGenerateContentSetup=f,o=f):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const a=n.fieldMask;if(o){const f=dE(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)f?n.fieldMask=f:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];a.length>0&&(g=a.map(m=>d.includes(m)?`generationConfig.${m}`:m));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?n.fieldMask=a.join(","):delete n.fieldMask;return n}class mE extends _t{constructor(e){super(),this.apiClient=e}async create(e){var o,r;let a,f="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=cE(this.apiClient,e);f=Z("auth_tokens",g._url),d=g._query,delete g.config,delete g._url,delete g._query;const y=pE(g,e.config);return a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>fE(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gE(n){const e={},o=l(n,["name"]);o!=null&&s(e,["_url","name"],o);const r=l(n,["config"]);return r!=null&&s(e,["config"],r),e}function hE(n,e){const o={},r=l(n,["pageSize"]);e!==void 0&&r!=null&&s(e,["_query","pageSize"],r);const a=l(n,["pageToken"]);e!==void 0&&a!=null&&s(e,["_query","pageToken"],a);const f=l(n,["filter"]);return e!==void 0&&f!=null&&s(e,["_query","filter"],f),o}function yE(n){const e={},o=l(n,["config"]);return o!=null&&s(e,["config"],hE(o,e)),e}function vE(n){const e={},o=l(n,["textInput"]);o!=null&&s(e,["textInput"],o);const r=l(n,["output"]);return r!=null&&s(e,["output"],r),e}function CE(n){const e={};if(l(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=l(n,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>vE(a))),s(e,["examples","examples"],r)}return e}function TE(n,e){const o={};if(l(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=l(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&s(e,["displayName"],r),l(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=l(n,["epochCount"]);e!==void 0&&a!=null&&s(e,["tuningTask","hyperparameters","epochCount"],a);const f=l(n,["learningRateMultiplier"]);if(f!=null&&s(o,["tuningTask","hyperparameters","learningRateMultiplier"],f),l(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=l(n,["batchSize"]);e!==void 0&&d!=null&&s(e,["tuningTask","hyperparameters","batchSize"],d);const g=l(n,["learningRate"]);return e!==void 0&&g!=null&&s(e,["tuningTask","hyperparameters","learningRate"],g),o}function SE(n){const e={},o=l(n,["baseModel"]);o!=null&&s(e,["baseModel"],o);const r=l(n,["trainingDataset"]);r!=null&&s(e,["tuningTask","trainingData"],CE(r));const a=l(n,["config"]);return a!=null&&s(e,["config"],TE(a,e)),e}function EE(n){const e={},o=l(n,["name"]);o!=null&&s(e,["_url","name"],o);const r=l(n,["config"]);return r!=null&&s(e,["config"],r),e}function _E(n,e){const o={},r=l(n,["pageSize"]);e!==void 0&&r!=null&&s(e,["_query","pageSize"],r);const a=l(n,["pageToken"]);e!==void 0&&a!=null&&s(e,["_query","pageToken"],a);const f=l(n,["filter"]);return e!==void 0&&f!=null&&s(e,["_query","filter"],f),o}function xE(n){const e={},o=l(n,["config"]);return o!=null&&s(e,["config"],_E(o,e)),e}function wE(n,e){const o={},r=l(n,["gcsUri"]);e!==void 0&&r!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],r);const a=l(n,["vertexDatasetResource"]);if(e!==void 0&&a!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],a),l(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function IE(n,e){const o={},r=l(n,["gcsUri"]);r!=null&&s(o,["validationDatasetUri"],r);const a=l(n,["vertexDatasetResource"]);return e!==void 0&&a!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],a),o}function AE(n,e){const o={},r=l(n,["validationDataset"]);e!==void 0&&r!=null&&s(e,["supervisedTuningSpec"],IE(r,o));const a=l(n,["tunedModelDisplayName"]);e!==void 0&&a!=null&&s(e,["tunedModelDisplayName"],a);const f=l(n,["description"]);e!==void 0&&f!=null&&s(e,["description"],f);const d=l(n,["epochCount"]);e!==void 0&&d!=null&&s(e,["supervisedTuningSpec","hyperParameters","epochCount"],d);const g=l(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&s(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const y=l(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&s(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const m=l(n,["adapterSize"]);if(e!==void 0&&m!=null&&s(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m),l(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function ME(n){const e={},o=l(n,["baseModel"]);o!=null&&s(e,["baseModel"],o);const r=l(n,["trainingDataset"]);r!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],wE(r,e));const a=l(n,["config"]);return a!=null&&s(e,["config"],AE(a,e)),e}function RE(n){const e={},o=l(n,["name"]);o!=null&&s(e,["model"],o);const r=l(n,["name"]);return r!=null&&s(e,["endpoint"],r),e}function Fd(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["name"]);r!=null&&s(e,["name"],r);const a=l(n,["state"]);a!=null&&s(e,["state"],dd(a));const f=l(n,["createTime"]);f!=null&&s(e,["createTime"],f);const d=l(n,["tuningTask","startTime"]);d!=null&&s(e,["startTime"],d);const g=l(n,["tuningTask","completeTime"]);g!=null&&s(e,["endTime"],g);const y=l(n,["updateTime"]);y!=null&&s(e,["updateTime"],y);const m=l(n,["description"]);m!=null&&s(e,["description"],m);const v=l(n,["baseModel"]);v!=null&&s(e,["baseModel"],v);const C=l(n,["_self"]);C!=null&&s(e,["tunedModel"],RE(C));const S=l(n,["distillationSpec"]);S!=null&&s(e,["distillationSpec"],S);const A=l(n,["experiment"]);A!=null&&s(e,["experiment"],A);const N=l(n,["labels"]);N!=null&&s(e,["labels"],N);const P=l(n,["pipelineJob"]);P!=null&&s(e,["pipelineJob"],P);const D=l(n,["satisfiesPzi"]);D!=null&&s(e,["satisfiesPzi"],D);const q=l(n,["satisfiesPzs"]);q!=null&&s(e,["satisfiesPzs"],q);const $=l(n,["serviceAccount"]);$!=null&&s(e,["serviceAccount"],$);const H=l(n,["tunedModelDisplayName"]);return H!=null&&s(e,["tunedModelDisplayName"],H),e}function PE(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["nextPageToken"]);r!=null&&s(e,["nextPageToken"],r);const a=l(n,["tunedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>Fd(d))),s(e,["tuningJobs"],f)}return e}function kE(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["name"]);r!=null&&s(e,["name"],r);const a=l(n,["metadata"]);a!=null&&s(e,["metadata"],a);const f=l(n,["done"]);f!=null&&s(e,["done"],f);const d=l(n,["error"]);return d!=null&&s(e,["error"],d),e}function NE(n){const e={},o=l(n,["checkpointId"]);o!=null&&s(e,["checkpointId"],o);const r=l(n,["epoch"]);r!=null&&s(e,["epoch"],r);const a=l(n,["step"]);a!=null&&s(e,["step"],a);const f=l(n,["endpoint"]);return f!=null&&s(e,["endpoint"],f),e}function DE(n){const e={},o=l(n,["model"]);o!=null&&s(e,["model"],o);const r=l(n,["endpoint"]);r!=null&&s(e,["endpoint"],r);const a=l(n,["checkpoints"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>NE(d))),s(e,["checkpoints"],f)}return e}function As(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["name"]);r!=null&&s(e,["name"],r);const a=l(n,["state"]);a!=null&&s(e,["state"],dd(a));const f=l(n,["createTime"]);f!=null&&s(e,["createTime"],f);const d=l(n,["startTime"]);d!=null&&s(e,["startTime"],d);const g=l(n,["endTime"]);g!=null&&s(e,["endTime"],g);const y=l(n,["updateTime"]);y!=null&&s(e,["updateTime"],y);const m=l(n,["error"]);m!=null&&s(e,["error"],m);const v=l(n,["description"]);v!=null&&s(e,["description"],v);const C=l(n,["baseModel"]);C!=null&&s(e,["baseModel"],C);const S=l(n,["tunedModel"]);S!=null&&s(e,["tunedModel"],DE(S));const A=l(n,["supervisedTuningSpec"]);A!=null&&s(e,["supervisedTuningSpec"],A);const N=l(n,["tuningDataStats"]);N!=null&&s(e,["tuningDataStats"],N);const P=l(n,["encryptionSpec"]);P!=null&&s(e,["encryptionSpec"],P);const D=l(n,["partnerModelTuningSpec"]);D!=null&&s(e,["partnerModelTuningSpec"],D);const q=l(n,["distillationSpec"]);q!=null&&s(e,["distillationSpec"],q);const $=l(n,["experiment"]);$!=null&&s(e,["experiment"],$);const H=l(n,["labels"]);H!=null&&s(e,["labels"],H);const J=l(n,["pipelineJob"]);J!=null&&s(e,["pipelineJob"],J);const O=l(n,["satisfiesPzi"]);O!=null&&s(e,["satisfiesPzi"],O);const oe=l(n,["satisfiesPzs"]);oe!=null&&s(e,["satisfiesPzs"],oe);const ie=l(n,["serviceAccount"]);ie!=null&&s(e,["serviceAccount"],ie);const he=l(n,["tunedModelDisplayName"]);return he!=null&&s(e,["tunedModelDisplayName"],he),e}function LE(n){const e={},o=l(n,["sdkHttpResponse"]);o!=null&&s(e,["sdkHttpResponse"],o);const r=l(n,["nextPageToken"]);r!=null&&s(e,["nextPageToken"],r);const a=l(n,["tuningJobs"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>As(d))),s(e,["tuningJobs"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FE extends _t{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Qo(Et.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(o),o),this.tune=async o=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(o);{const r=await this.tuneMldevInternal(o);let a="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?a=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(a=r.name.split("/operations/")[0]),{name:a,state:ys.JOB_STATE_QUEUED}}}}async getInternal(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=EE(e);return g=Z("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>As(v))}else{const m=gE(e);return g=Z("{name}",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>Fd(v))}}async listInternal(e){var o,r,a,f;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=xE(e);return g=Z("tuningJobs",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const C=LE(v),S=new Mf;return Object.assign(S,C),S})}else{const m=yE(e);return g=Z("tunedModels",m._url),y=m._query,delete m.config,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const C=PE(v),S=new Mf;return Object.assign(S,C),S})}}async tuneInternal(e){var o,r;let a,f="",d={};if(this.apiClient.isVertexAI()){const g=ME(e);return f=Z("tuningJobs",g._url),d=g._query,delete g.config,delete g._url,delete g._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>As(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,r;let a,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=SE(e);return f=Z("tunedModels",g._url),d=g._query,delete g.config,delete g._url,delete g._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>kE(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UE{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const VE=1024*1024*8,GE=3,BE=1e3,HE=2,ms="x-goog-upload-status";async function qE(n,e,o){var r,a,f;let d=0,g=0,y=new vs(new Response),m="upload";for(d=n.size;g<d;){const C=Math.min(VE,d-g),S=n.slice(g,g+C);g+C>=d&&(m+=", finalize");let A=0,N=BE;for(;A<GE&&(y=await o.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(g),"Content-Length":String(C)}}}),!(!((r=y==null?void 0:y.headers)===null||r===void 0)&&r[ms]));)A++,await $E(N),N=N*HE;if(g+=C,((a=y==null?void 0:y.headers)===null||a===void 0?void 0:a[ms])!=="active")break;if(d<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((f=y==null?void 0:y.headers)===null||f===void 0?void 0:f[ms])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function zE(n){return{size:n.size,type:n.type}}function $E(n){return new Promise(e=>setTimeout(e,n))}class JE{async upload(e,o,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await qE(e,o,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await zE(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WE{create(e,o,r){return new KE(e,o,r)}}class KE{constructor(e,o,r){this.url=e,this.headers=o,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jf="x-goog-api-key";class YE{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(jf)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(jf,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OE="gl-node/";class Ds{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const r=Km(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const a=new YE(this.apiKey);this.apiClient=new m0({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:OE+"web",uploader:new JE,downloader:new UE}),this.models=new L0(this.apiClient),this.live=new A0(this.apiClient,a,new WE),this.batches=new hh(this.apiClient),this.chats=new Ty(this.models,this.apiClient),this.caches=new yy(this.apiClient),this.files=new Dy(this.apiClient),this.operations=new G0(this.apiClient),this.authTokens=new mE(this.apiClient),this.tunings=new FE(this.apiClient)}}var eo={};let St=null;const gr="gemini-2.5-flash";eo.API_KEY&&eo.API_KEY!=="PLACEHOLDER_API_KEY"&&(St=new Ds({apiKey:eo.API_KEY}));function QE(n){n&&n.trim()?St=new Ds({apiKey:n.trim()}):St=null}function XE(){if(typeof window<"u"){const n=localStorage.getItem("gemini_api_key");if(n&&n.trim())return n}return eo.API_KEY&&eo.API_KEY!=="PLACEHOLDER_API_KEY"?eo.API_KEY:null}function hr(){if(!St){const n=XE();if(!n)throw new Error("No API key configured. Please set up your Gemini API key.");St=new Ds({apiKey:n})}return St}const ZE=!1,bE=!1;async function ed(n){const e=hr();if(!n.trim())return[];const o=`Analyze the following English text. Identify 10 to 20 of the most challenging vocabulary words. Exclude proper nouns, numbers, and common function words. The result must be a JSON array of strings, sorted by difficulty (most difficult first). Return ONLY the raw JSON array.

Text for analysis:
---
${n}
---`;try{const r=await e.models.generateContent({model:gr,contents:o,config:{responseMimeType:"application/json",responseSchema:{type:Re.ARRAY,items:{type:Re.STRING},description:"A list of 10-20 challenging vocabulary words, sorted by difficulty (most difficult first)."}}}),a=JSON.parse(r.text);if(!Array.isArray(a)||!a.every(f=>typeof f=="string"))throw console.error("Gemini API returned an invalid format for vocabulary list:",a),new Error("API returned data in an unexpected format.");return a}catch(r){console.error("Error analyzing vocabulary from Gemini:",r);const a=r instanceof Error?r.message:"An unknown error occurred.";throw new Error(`Could not analyze text for vocabulary: ${a}`)}}async function jE(n,e){const o=hr();if(!n.trim()||e.length===0)throw new Error("Invalid input for worksheet generation.");const r=`You are an English language learning assistant. Based on the provided text and a list of vocabulary words, generate a comprehensive learning worksheet in JSON format.

    **Instructions:**
    1.  **title**: Create a concise, engaging title for the text (max 10 words).
    2.  **summary**: Write a one-paragraph summary of the text.
    3.  **keywords**: Extract an array of 5-7 important keywords from the text.
    4.  **wordDetails**: For each word in the provided list, create an object with:
        *   \`word\`: The vocabulary word itself.
        *   \`koreanMeaning\`: A concise Korean translation.
        *   \`englishDefinition\`: A simple, encyclopedia-style English definition.
    5.  **test**: Create a vocabulary test. For each word, generate a unique fill-in-the-blank question where the answer is the word. Provide the question and the answer.

    **Source Text:**
    ---
    ${n}
    ---

    **Vocabulary Words:**
    [${e.map(f=>`"${f}"`).join(", ")}]

    Return ONLY the raw JSON object adhering to the specified schema.`,a={type:Re.OBJECT,properties:{title:{type:Re.STRING,description:"A concise title for the text."},summary:{type:Re.STRING,description:"A one-paragraph summary of the text."},keywords:{type:Re.ARRAY,items:{type:Re.STRING},description:"5-7 important keywords."},wordDetails:{type:Re.ARRAY,description:"Details for each vocabulary word.",items:{type:Re.OBJECT,properties:{word:{type:Re.STRING},koreanMeaning:{type:Re.STRING},englishDefinition:{type:Re.STRING}},required:["word","koreanMeaning","englishDefinition"]}},test:{type:Re.ARRAY,description:"Vocabulary test with questions and answers.",items:{type:Re.OBJECT,properties:{question:{type:Re.STRING},answer:{type:Re.STRING}},required:["question","answer"]}}},required:["title","summary","keywords","wordDetails","test"]};try{const f=await o.models.generateContent({model:gr,contents:r,config:{responseMimeType:"application/json",responseSchema:a}}),d=JSON.parse(f.text);if(!d.title||!d.wordDetails||d.wordDetails.length===0)throw new Error("API returned incomplete worksheet data.");return d}catch(f){console.error("Error generating worksheet from Gemini:",f);const d=f instanceof Error?f.message:"An unknown error occurred.";throw new Error(`Could not generate worksheet: ${d}`)}}async function*nd(n){try{const r=hr()}catch(r){yield`Error: ${r instanceof Error?r.message:"API key not configured."}`;return}const e=St,o=`Provide a concise, single-paragraph encyclopedia-style definition for the term: "${n}". Be informative and neutral. Do not use markdown, titles, or any special formatting. Respond with only the text of the definition itself.`;try{const r=await e.models.generateContentStream({model:gr,contents:o,config:{thinkingConfig:{thinkingBudget:0}}});for await(const a of r)a.text&&(yield a.text)}catch(r){console.error("Error streaming from Gemini:",r);const a=r instanceof Error?r.message:"An unknown error occurred.";throw yield`Error: Could not generate content for "${n}". ${a}`,new Error(a)}}async function e_(n){const e=hr(),o=`For "${n}", create a JSON object with one key: "art". "art" should be a meta ASCII visualization of the word. Use a palette of │─┌┐└┘├┤┬┴┼►◄▲▼○●◐◑░▒▓█▀▄■□▪▫★☆♦♠♣♥⟨⟩/\\_|. The visual form should embody the word's essence. Return ONLY the raw JSON object.`,r=1;for(let a=1;a<=r;a++)try{const f={responseMimeType:"application/json"};ZE||(f.thinkingConfig={thinkingBudget:0});let g=(await e.models.generateContent({model:gr,contents:o,config:f})).text.trim().replace(/^```(?:json)?\s*\n?(.*?)\n?\s*```$/s,"$1");if(!g.startsWith("{")||!g.endsWith("}"))throw new Error("Response is not a valid JSON object");const y=JSON.parse(g);if(typeof y.art!="string"||y.art.trim().length===0)throw new Error("Invalid or empty ASCII art in response");const m={art:y.art};return bE&&y.text,m}catch(f){if(console.warn(`Attempt ${a}/${r} failed:`,f instanceof Error?f.message:f),a===r)throw new Error(`Could not generate ASCII art after ${r} attempts.`)}throw new Error("All ASCII art generation attempts failed")}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const n_=({content:n})=>w.jsxs("p",{style:{margin:0},children:[n,w.jsx("span",{className:"blinking-cursor",children:"|"})]}),t_=({content:n})=>w.jsx("p",{style:{margin:0},children:n}),o_=({content:n,isLoading:e})=>e?w.jsx(n_,{content:n}):w.jsx(t_,{content:n}),i_=({onAnalyze:n,onRandom:e,onClear:o,isLoading:r,initialText:a})=>{const[f,d]=ce.useState(a),[g,y]=ce.useState(0);ce.useEffect(()=>{d(a),y(a.length)},[a]);const m=D=>{const q=D.target.value;d(q),y(q.length)},v=()=>{f.trim()&&!r&&n(f.trim())},C=()=>{d(""),y(0),o()},S=D=>{D.ctrlKey&&D.key==="Enter"&&f.trim()&&!r&&v()},A=async()=>{try{const D=await navigator.clipboard.readText();D.trim()&&(d(D),y(D.length))}catch(D){console.warn("Could not access clipboard:",D)}},N=["Artificial intelligence represents one of the most transformative technologies of our era, fundamentally altering how we process information, make decisions, and interact with digital systems.","Quantum mechanics elucidates the enigmatic behavior of subatomic particles, revealing phenomena that contradict our intuitive understanding of reality and demonstrate the probabilistic nature of the universe.","Neuroplasticity, the brain's remarkable capacity for reorganization and adaptation, exemplifies the dynamic nature of neural networks and their ability to form new synaptic connections throughout life."],P=()=>{const D=N[Math.floor(Math.random()*N.length)];d(D),y(D.length)};return w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[w.jsxs("div",{className:"relative",children:[w.jsx("textarea",{value:f,onChange:m,onKeyDown:S,placeholder:"Paste any English text here to analyze... \\n\\nTip: Press Ctrl+Enter to analyze quickly!",className:"w-full h-48 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-shadow","aria-label":"Text to analyze",disabled:r,maxLength:1e4}),w.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded-md",children:[g.toLocaleString(),"/10,000"]})]}),w.jsxs("div",{className:"mt-4 flex flex-wrap justify-between items-center gap-4",children:[w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:A,className:"px-4 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300 transition-colors disabled:opacity-50",disabled:r,title:"Paste from clipboard",children:"📋 Paste"}),w.jsx("button",{onClick:P,className:"px-4 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300 transition-colors disabled:opacity-50",disabled:r,title:"Insert sample text",children:"🎲 Sample"}),w.jsx("button",{onClick:C,className:"px-4 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300 transition-colors disabled:opacity-50",disabled:r||!f.trim(),title:"Clear text",children:"🗑️ Clear"})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:e,className:"px-4 py-2 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",disabled:r,title:"Generate random article with AI",children:"✨ Generate Article"}),w.jsx("button",{onClick:v,className:"px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",disabled:r||!f.trim(),title:"Analyze text for vocabulary (Ctrl+Enter)",children:r?"⏳ Analyzing...":"🔍 Analyze Text"})]})]})]})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const r_=({showText:n=!1,text:e="Loading...",type:o="default"})=>{const r=()=>{switch(o){case"vocabulary":return w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"skeleton-bar",style:{width:"100%",animationDelay:"0s"}}),w.jsx("div",{className:"skeleton-bar",style:{width:"90%",animationDelay:"0.1s"}}),w.jsx("div",{className:"skeleton-bar",style:{width:"85%",animationDelay:"0.2s"}}),w.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"1rem",marginTop:"2rem"},children:Array.from({length:6},(f,d)=>w.jsxs("div",{style:{padding:"1rem",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)"},children:[w.jsx("div",{className:"skeleton-bar",style:{width:"60%",height:"1.2rem",animationDelay:`${.3+d*.1}s`}}),w.jsx("div",{className:"skeleton-bar",style:{width:"40%",height:"0.8rem",animationDelay:`${.4+d*.1}s`}})]},d))})]});case"worksheet":return w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"skeleton-bar",style:{width:"70%",height:"2rem",animationDelay:"0s",margin:"0 auto 2rem"}}),w.jsx("div",{className:"skeleton-bar",style:{width:"100%",animationDelay:"0.1s"}}),w.jsx("div",{className:"skeleton-bar",style:{width:"95%",animationDelay:"0.2s"}}),w.jsx("div",{className:"skeleton-bar",style:{width:"88%",animationDelay:"0.3s"}}),w.jsx("div",{style:{marginTop:"2rem"},children:Array.from({length:4},(f,d)=>w.jsxs("div",{style:{marginBottom:"1.5rem"},children:[w.jsx("div",{className:"skeleton-bar",style:{width:"40%",height:"1.2rem",animationDelay:`${.4+d*.1}s`}}),w.jsx("div",{className:"skeleton-bar",style:{width:"100%",animationDelay:`${.5+d*.1}s`}}),w.jsx("div",{className:"skeleton-bar",style:{width:"85%",animationDelay:`${.6+d*.1}s`}})]},d))})]});case"definition":return w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"skeleton-bar",style:{width:"50%",height:"2rem",animationDelay:"0s",margin:"0 auto 2rem"}}),w.jsxs("div",{style:{background:"var(--bg-dark)",padding:"2rem",borderRadius:"var(--radius-lg)",margin:"2rem 0"},children:[w.jsx("div",{className:"skeleton-bar",style:{width:"80%",backgroundColor:"#333",animationDelay:"0.2s"}}),w.jsx("div",{className:"skeleton-bar",style:{width:"60%",backgroundColor:"#333",animationDelay:"0.4s"}}),w.jsx("div",{className:"skeleton-bar",style:{width:"75%",backgroundColor:"#333",animationDelay:"0.6s"}})]}),w.jsx("div",{className:"skeleton-bar",style:{width:"100%",animationDelay:"0.8s"}}),w.jsx("div",{className:"skeleton-bar",style:{width:"95%",animationDelay:"1.0s"}}),w.jsx("div",{className:"skeleton-bar",style:{width:"88%",animationDelay:"1.2s"}})]});default:return w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"skeleton-bar",style:{width:"100%",animationDelay:"0s"}}),w.jsx("div",{className:"skeleton-bar",style:{width:"83.33%",animationDelay:"0.2s"}}),w.jsx("div",{className:"skeleton-bar",style:{width:"100%",animationDelay:"0.4s"}}),w.jsx("div",{className:"skeleton-bar",style:{width:"75%",animationDelay:"0.6s"}}),w.jsx("div",{className:"skeleton-bar",style:{width:"66.66%",animationDelay:"0.8s"}})]})}},a=()=>{switch(o){case"vocabulary":return"📚";case"worksheet":return"📝";case"definition":return"🔍";default:return"⚡"}};return w.jsxs("div",{className:"loading-container","aria-label":"Loading content...",role:"progressbar",children:[n&&w.jsxs("div",{className:"loading-text",children:[w.jsx("span",{style:{fontSize:"1.5em",animation:"pulse 2s infinite"},children:a()}),e]}),r()]})},l_=({artData:n,topic:e})=>{const[o,r]=ce.useState("*"),[a,f]=ce.useState(!1);ce.useEffect(()=>{let g;if(n){r(""),f(!0);const y=n.text?`${n.art}

${n.text}`:n.art;let m=0;g=window.setInterval(()=>{const v=y[m];v!==void 0?(r(C=>C+v),m++):(window.clearInterval(g),f(!1))},5)}else r("*"),f(!1);return()=>window.clearInterval(g)},[n]);const d=`ASCII art for ${e}`;return w.jsxs("pre",{className:"ascii-art","aria-label":d,children:[o,a&&w.jsx("span",{className:"blinking-cursor",children:"|"})]})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const s_=({data:n,onBack:e})=>{const o=()=>{window.print()};return w.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[w.jsxs("div",{className:"no-print flex justify-between items-center mb-8",children:[w.jsx("button",{onClick:e,className:"text-indigo-600 hover:underline",children:"← Back to Analyzer"}),w.jsx("button",{onClick:o,className:"px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors",children:"🖨️ Print / Save as PDF"})]}),w.jsxs("article",{className:"bg-white p-8 rounded-lg shadow-lg",children:[w.jsxs("header",{className:"text-center border-b pb-4 mb-6",children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n.title}),w.jsx("p",{className:"text-lg text-gray-600",children:"Vocabulary Worksheet"})]}),w.jsxs("section",{className:"mb-8",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-4 border-b pb-2",children:"Summary & Keywords"}),w.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:n.summary}),w.jsx("ul",{className:"flex flex-wrap gap-2",children:n.keywords.map((r,a)=>w.jsx("li",{className:"bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm",children:r},a))})]}),w.jsxs("section",{className:"mb-8",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-4 border-b pb-2",children:"Vocabulary List"}),w.jsx("ul",{className:"space-y-4",children:n.wordDetails.map((r,a)=>w.jsxs("li",{className:"p-4 bg-gray-50 rounded-lg",children:[w.jsx("p",{className:"font-bold text-lg text-indigo-700",children:r.word}),w.jsxs("p",{children:[w.jsx("em",{className:"font-semibold",children:"Korean:"})," ",r.koreanMeaning]}),w.jsxs("p",{children:[w.jsx("em",{className:"font-semibold",children:"English:"})," ",r.englishDefinition]})]},a))})]}),w.jsxs("section",{className:"mb-8",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-4 border-b pb-2",children:"Vocabulary Test"}),w.jsx("p",{className:"text-gray-700 mb-4",children:"Fill in the blank with the correct word from your vocabulary list."}),w.jsx("ol",{className:"list-decimal list-inside space-y-4",children:n.test.map((r,a)=>w.jsx("li",{className:"text-gray-800",children:w.jsx("p",{children:r.question})},a))})]}),w.jsxs("section",{className:"print-only mt-8 pt-4 border-t",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Answer Key"}),w.jsx("ol",{className:"list-decimal list-inside space-y-2",children:n.test.map((r,a)=>w.jsx("li",{className:"text-gray-800 font-bold",children:r.answer},a))})]})]})]})};var gs={};const u_=({onApiKeyChange:n})=>{const[e,o]=ce.useState(""),[r,a]=ce.useState(!1),[f,d]=ce.useState(!1),[g,y]=ce.useState(!1),[m,v]=ce.useState(null);ce.useEffect(()=>{const P=localStorage.getItem("gemini_api_key");P&&P.trim()?(a(!0),o(P),n(P)):gs.GEMINI_API_KEY&&gs.GEMINI_API_KEY!=="PLACEHOLDER_API_KEY"?(a(!0),n(gs.GEMINI_API_KEY)):d(!0)},[n]);const C=()=>{const P=e.trim();if(!P){v({type:"error",text:"Please enter a valid API key"});return}if(!P.startsWith("AI")||P.length<20){v({type:"error",text:"Invalid Gemini API key format"});return}try{localStorage.setItem("gemini_api_key",P),a(!0),d(!1),v({type:"success",text:"API key saved successfully!"}),n(P),setTimeout(()=>v(null),3e3)}catch{v({type:"error",text:"Failed to save API key"})}},S=()=>{try{localStorage.removeItem("gemini_api_key"),o(""),a(!1),d(!0),y(!1),v({type:"success",text:"API key removed successfully!"}),n(null),setTimeout(()=>v(null),3e3)}catch{v({type:"error",text:"Failed to remove API key"})}},A=()=>{d(P=>!P),v(null)},N=P=>P.length<=8?P:P.substring(0,4)+"•".repeat(P.length-8)+P.substring(P.length-4);return w.jsxs("div",{className:`bg-white p-6 rounded-lg shadow-md mb-6 ${r?"border-green-500":"border-yellow-500"} border-l-4`,children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("h3",{className:"text-xl font-bold",children:"🔑 Gemini API Key"}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${r?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:r?"Configured":"Not Set"}),r&&w.jsx("button",{onClick:A,className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",type:"button",children:f?"Hide":"Manage"})]})]}),!r&&w.jsxs("p",{className:"text-gray-600 mt-4",children:["You need a Gemini API key to use this application.",w.jsx("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline font-semibold ml-1",children:"Get your free API key here →"})]}),r&&!f&&w.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[w.jsx("span",{className:"font-mono text-gray-500",children:g?e:N(e)}),w.jsx("button",{onClick:()=>y(!g),className:"text-gray-500 hover:text-gray-700",type:"button",children:g?"🙈":"👁️"})]}),(f||!r)&&w.jsxs("div",{className:"mt-4 space-y-4",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("input",{type:g?"text":"password",value:e,onChange:P=>o(P.target.value),placeholder:"Enter your Gemini API key...",className:"flex-grow px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",onKeyDown:P=>P.key==="Enter"&&C()}),w.jsx("button",{onClick:()=>y(!g),className:"p-2 text-gray-500 hover:text-gray-700",type:"button",title:g?"Hide API key":"Show API key",children:g?"🙈":"👁️"})]}),w.jsxs("div",{className:"flex items-center justify-end gap-4",children:[r&&w.jsx("button",{onClick:S,className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition-colors",type:"button",children:"🗑️ Remove"}),w.jsx("button",{onClick:C,className:"px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors",type:"button",children:"💾 Save"})]})]}),m&&w.jsx("div",{className:`mt-4 p-3 rounded-lg ${m.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.jsx("p",{children:m.text})})]})},a_=({steps:n,currentStep:e,estimatedTime:o=30,onCancel:r})=>{const[a,f]=ce.useState(0),[d,g]=ce.useState(o);ce.useEffect(()=>{const C=setInterval(()=>{f(S=>S+1),g(S=>Math.max(0,S-1))},1e3);return()=>clearInterval(C)},[]);const y=n.findIndex(C=>C.id===e),m=y>=0?(y+1)/n.length*100:0,v=C=>{if(C<60)return`${C}s`;const S=Math.floor(C/60),A=C%60;return`${S}m ${A}s`};return w.jsxs("div",{style:{background:"var(--bg-secondary)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-lg)",padding:"2rem",margin:"2rem 0",boxShadow:"var(--shadow-md)"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[w.jsx("h3",{style:{margin:0,color:"var(--text-primary)",fontSize:"var(--font-size-lg)",fontWeight:600},children:"Processing your request..."}),r&&w.jsx("button",{onClick:r,className:"btn btn-sm btn-outline",style:{color:"var(--danger-color)",borderColor:"var(--danger-color)"},children:"Cancel"})]}),w.jsx("div",{style:{background:"var(--bg-tertiary)",borderRadius:"var(--radius-sm)",height:"8px",marginBottom:"1.5rem",overflow:"hidden"},children:w.jsx("div",{style:{background:"linear-gradient(90deg, var(--primary-color), var(--secondary-color))",height:"100%",borderRadius:"var(--radius-sm)",transition:"width 0.3s ease",width:`${m}%`}})}),w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[w.jsxs("span",{children:["⏱️ Elapsed: ",v(a)]}),w.jsxs("span",{children:[Math.round(m),"% Complete"]}),w.jsxs("span",{children:["⏳ Est. remaining: ",v(d)]})]}),w.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:n.map((C,S)=>w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"0.75rem",borderRadius:"var(--radius-md)",background:C.active?"var(--primary-color)":C.completed?"var(--success-color)":"var(--bg-primary)",color:C.active||C.completed?"var(--text-inverse)":"var(--text-primary)",transition:"all 0.3s ease",transform:C.active?"scale(1.02)":"scale(1)",boxShadow:C.active?"var(--shadow-md)":"var(--shadow-sm)"},children:[w.jsx("div",{style:{width:"2rem",height:"2rem",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:C.active||C.completed?"rgba(255, 255, 255, 0.2)":"var(--bg-tertiary)",fontSize:"var(--font-size-sm)",fontWeight:600},children:C.completed?"✅":C.active?C.icon||"⚡":S+1}),w.jsx("span",{style:{flex:1,fontWeight:C.active?600:500},children:C.label}),C.active&&w.jsx("div",{style:{width:"1rem",height:"1rem",border:"2px solid rgba(255, 255, 255, 0.3)",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}})]},C.id))}),w.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"var(--bg-primary)",borderRadius:"var(--radius-md)",fontSize:"var(--font-size-sm)",color:"var(--text-secondary)",textAlign:"center"},children:["💡 ",w.jsx("strong",{children:"Tip:"})," Our AI is carefully analyzing your content to provide the best vocabulary insights. This process ensures high-quality results tailored to your text."]}),w.jsx("style",{jsx:!0,children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},td=["Quantum Computing and Future Technology","Sustainable Energy and Environmental Science","Neuroscience and Cognitive Psychology","Blockchain Technology and Cryptocurrency","Artificial Intelligence and Machine Learning","Space Exploration and Astrophysics","Biotechnology and Genetic Engineering","Climate Change and Global Warming","Philosophy of Mind and Consciousness","Economic Theory and Financial Markets","Cultural Anthropology and Social Sciences","Modern Architecture and Urban Planning"],od=`🎓 Welcome to the AI-Powered Vocabulary Builder!

This intelligent learning tool helps you master challenging English vocabulary through:

✨ AI-powered text analysis to identify difficult words
🔍 Interactive word exploration with detailed definitions  
📝 Custom worksheet generation for structured learning
🎯 Korean translations for enhanced comprehension

To get started:
1. Set up your Gemini API key using the manager above
2. Paste any English text or generate a sample article
3. Click "Analyze Text" to discover challenging vocabulary
4. Explore words by clicking on highlighted terms
5. Generate custom worksheets for focused study

Ready to expand your vocabulary? Let's begin! 🚀`,c_=n=>{const o=` ${n.length>20?n.substring(0,17)+"...":n} `,r=`┌${"─".repeat(o.length)}┐`,a=`│${o}│`,f=`└${"─".repeat(o.length)}┘`;return{art:`${r}
${a}
${f}`}},f_=({text:n,highlightWords:e,onWordClick:o})=>{if(e.length===0)return w.jsx("p",{className:"whitespace-pre-wrap",children:n});const r=new RegExp(`\\b(${e.map(f=>f.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")).join("|")})\\b`,"gi"),a=n.split(r);return w.jsx("p",{className:"whitespace-pre-wrap",children:a.map((f,d)=>e.some(y=>y.toLowerCase()===f.toLowerCase())?w.jsx("button",{onClick:()=>o(f),className:"bg-yellow-200 hover:bg-yellow-300 text-black font-bold py-1 px-2 rounded-md transition-colors duration-200",children:f},d):w.jsx(rd.Fragment,{children:f},d))})},d_=({words:n,selectedWords:e,onWordClick:o,onSelectionChange:r})=>n.length===0?null:w.jsxs("div",{className:"my-4",children:[w.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Key Vocabulary (by difficulty)"}),w.jsx("p",{className:"text-gray-500 mb-4",children:"Select words to generate a worksheet."}),w.jsx("ol",{className:"list-decimal list-inside space-y-2",children:n.map((a,f)=>w.jsxs("li",{className:"flex items-center",children:[w.jsx("input",{type:"checkbox",id:`vocab-checkbox-${f}`,checked:e.includes(a),onChange:()=>r(a),"aria-labelledby":`vocab-label-${f}`,className:"mr-2 h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),w.jsx("label",{htmlFor:`vocab-checkbox-${f}`,id:`vocab-label-${f}`,children:w.jsx("button",{onClick:()=>o(a),className:"text-indigo-600 hover:underline",children:a})})]},f))})]}),p_=()=>{const[n,e]=ce.useState("analyzer"),[o,r]=ce.useState("idle"),[a,f]=ce.useState(od),[d,g]=ce.useState([]),[y,m]=ce.useState([]),[v,C]=ce.useState(null),[S,A]=ce.useState(!1),[N,P]=ce.useState(!1),[D,q]=ce.useState([]),[$,H]=ce.useState(""),[J,O]=ce.useState(""),[oe,ie]=ce.useState(""),[he,j]=ce.useState(null),[ae,ue]=ce.useState(null),[Pe,Be]=ce.useState(null),Oe=ce.useCallback(b=>{QE(b),A(!!b),b&&C(null)},[]),ke=b=>{switch(b){case"analyze":return[{id:"preprocessing",label:"Preprocessing text content",completed:!1,active:!0,icon:"📝"},{id:"analysis",label:"AI analyzing vocabulary complexity",completed:!1,active:!1,icon:"🧠"},{id:"ranking",label:"Ranking words by difficulty",completed:!1,active:!1,icon:"📊"},{id:"finalizing",label:"Preparing results",completed:!1,active:!1,icon:"✨"}];case"worksheet":return[{id:"setup",label:"Setting up worksheet structure",completed:!1,active:!0,icon:"📋"},{id:"definitions",label:"Generating definitions and translations",completed:!1,active:!1,icon:"📚"},{id:"questions",label:"Creating test questions",completed:!1,active:!1,icon:"❓"},{id:"formatting",label:"Formatting final worksheet",completed:!1,active:!1,icon:"✏️"}];case"definition":return[{id:"research",label:"Researching term definition",completed:!1,active:!0,icon:"🔍"},{id:"ascii",label:"Generating ASCII art visualization",completed:!1,active:!1,icon:"🎨"},{id:"content",label:"Streaming definition content",completed:!1,active:!1,icon:"📖"}];default:return[]}},Ee=(b,pe=!0)=>{q(We=>{const en=We.map(st=>({...st})),Ve=en.findIndex(st=>st.id===b);return Ve>=0&&(en[Ve].completed=pe,en[Ve].active=!1,pe&&Ve+1<en.length&&(en[Ve+1].active=!0,H(en[Ve+1].id))),en})};ce.useEffect(()=>{if(n!=="definition"||!J)return;let b=!1;return(async()=>{r("loading_definition"),C(null),ie(""),j(null),ue(null);const We=performance.now();e_(J).then(Ve=>!b&&j(Ve)).catch(()=>!b&&j(c_(J)));let en="";try{for await(const Ve of nd(J)){if(b)break;en+=Ve,b||ie(en)}}catch(Ve){b||C(Ve instanceof Error?Ve.message:"An unknown error occurred")}finally{if(!b){const Ve=performance.now();ue(Ve-We),r("idle")}}})(),()=>{b=!0}},[n,J]);const Ae=ce.useCallback(async b=>{if(!S){C("Please configure your Gemini API key first.");return}r("analyzing"),C(null),f(b),g([]),m([]);const pe=ke("analyze");q(pe),H("preprocessing"),P(!0);try{setTimeout(()=>Ee("preprocessing"),500),setTimeout(()=>Ee("analysis"),1500),setTimeout(()=>Ee("ranking"),2500);const We=await ed(b);Ee("finalizing"),setTimeout(()=>{g(We),P(!1)},500)}catch(We){C(We instanceof Error?We.message:"Failed to analyze text."),P(!1)}finally{r("idle")}},[S]),B=ce.useCallback(async()=>{if(!S){C("Please configure your Gemini API key first.");return}r("analyzing"),C(null),f("🤖 AI is generating an educational article..."),g([]),m([]);try{const b=td[Math.floor(Math.random()*td.length)];let pe="";f(`✨ Generating article about: ${b}

Please wait while our AI creates educational content...`);for await(const en of nd(b))pe+=en,f(`✨ Generated article about: ${b}

${pe}`);const We=await ed(pe);g(We)}catch(b){C(b instanceof Error?b.message:"Failed to generate a random article."),f(od)}finally{r("idle")}},[S]),ee=ce.useCallback(b=>{const pe=b.trim().replace(/[.,!?;:()"']/g,"");pe&&(O(pe),e("definition"),window.scrollTo(0,0))},[]),W=ce.useCallback(b=>{m(pe=>pe.includes(b)?pe.filter(We=>We!==b):[...pe,b])},[]),I=ce.useCallback(async()=>{if(y.length===0)return;r("generating_worksheet"),C(null);const b=ke("worksheet");q(b),H("setup"),P(!0);try{setTimeout(()=>Ee("setup"),800),setTimeout(()=>Ee("definitions"),2e3),setTimeout(()=>Ee("questions"),4e3);const pe=await jE(a,y);Ee("formatting"),setTimeout(()=>{Be(pe),e("worksheet"),P(!1),window.scrollTo(0,0)},800)}catch(pe){C(pe instanceof Error?pe.message:"Failed to generate worksheet."),P(!1)}finally{r("idle")}},[a,y]),L=()=>{e("analyzer"),O(""),Be(null),C(null),P(!1),window.scrollTo(0,0)},le=ce.useCallback(()=>{f(""),g([]),m([]),C(null)},[]),se=o!=="idle",de=()=>w.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[w.jsxs("header",{className:"text-center mb-8",children:[w.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-gray-800 tracking-tight",children:w.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-indigo-500 to-purple-500",children:"AI Vocabulary Builder"})}),w.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Master challenging English vocabulary with AI-powered analysis"})]}),w.jsxs("main",{className:"max-w-4xl mx-auto",children:[w.jsx(u_,{onApiKeyChange:Oe}),S&&w.jsx(i_,{onAnalyze:Ae,onRandom:B,onClear:le,isLoading:se,initialText:a}),v&&w.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mt-4 rounded-md",role:"alert",children:[w.jsx("p",{className:"font-bold",children:"Error"}),w.jsx("p",{children:v})]}),N&&w.jsx(a_,{steps:D,currentStep:$,estimatedTime:30}),!N&&(o==="analyzing"||o==="generating_worksheet")&&w.jsx(r_,{showText:!0,text:o==="generating_worksheet"?"🔧 Generating your custom worksheet...":"🔍 Analyzing text for vocabulary...",type:o==="generating_worksheet"?"worksheet":"vocabulary"}),!se&&!N&&w.jsxs("div",{className:"mt-6 bg-white p-6 rounded-lg shadow-md",children:[w.jsx("div",{className:"prose max-w-none",children:w.jsx(f_,{text:a,highlightWords:d,onWordClick:ee})}),d.length>0&&w.jsx(d_,{words:d,selectedWords:y,onWordClick:ee,onSelectionChange:W}),y.length>0&&w.jsx("div",{className:"mt-6 text-center",children:w.jsxs("button",{onClick:I,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transform hover:scale-105 transition-all duration-200",disabled:se,children:["📝 Generate Worksheet (",y.length," words)"]})})]})]})]}),me=()=>w.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[w.jsxs("header",{className:"mb-8",children:[w.jsx("button",{onClick:L,className:"text-indigo-600 hover:underline no-print",children:"← Back to Analyzer"}),w.jsx(l_,{artData:he,topic:J})]}),w.jsx("main",{className:"max-w-4xl mx-auto",children:w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[w.jsx("h2",{className:"text-3xl font-bold mb-4 capitalize",children:J}),v&&w.jsxs("p",{className:"text-red-500",children:["Error: ",v]}),w.jsx(o_,{content:oe,isLoading:o==="loading_definition",onWordClick:()=>{}})]})})]}),Se=()=>w.jsx(s_,{data:Pe,onBack:L}),ve=()=>{switch(n){case"analyzer":return de();case"definition":return me();case"worksheet":return Se();default:return de()}};return w.jsxs("div",{className:"bg-gray-50 min-h-screen font-sans",children:[w.jsx("div",{className:"container mx-auto",children:ve()}),w.jsx("footer",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-4 text-center text-sm text-gray-500 no-print",children:w.jsx("p",{children:n==="definition"&&ae?`⚡ Generated in ${Math.round(ae)}ms`:"💎 Powered by Gemini AI • Built with ❤️ for learners"})})]})},Ud=document.getElementById("root");if(!Ud)throw new Error("Could not find root element to mount to");const m_=zm.createRoot(Ud);m_.render(w.jsx(rd.StrictMode,{children:w.jsx(p_,{})}));
